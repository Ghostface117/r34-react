(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{10:function(e,t,n){e.exports=n.p+"static/media/OutOfResults.00a98fae.png"},21:function(e,t,n){e.exports=n(37)},26:function(e,t,n){},31:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),i=(n(26),n(3)),s=n(2),l=n(1);function u(){const e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: lighter;\n  text-align: center;\n  margin: 0;\n"]);return u=function(){return e},e}function m(){const e=Object(s.a)(["\n  font-size: 24px;\n  font-weight: lighter;\n  margin: 0;\n  text-align: center;\n"]);return m=function(){return e},e}var p=l.b.h2(m());const d=l.b.h1(u()),f="#ffffff11; :hover { background: #ffffff16;} transition: background-color 0.4s ease-in-out",b="box-shadow: 0 0 8px #000",g="drop-shadow(0 0 4px rgba(0, 0, 0, 1))";function h(){const e=Object(s.a)(["\n  width: 100%;\n  height: 1px;\n  background: ",";\n"]);return h=function(){return e},e}function E(){const e=Object(s.a)(["\n  padding: ",";\n  background: ",";\n  ",";\n  border-radius: ",";\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return E=function(){return e},e}var O=l.b.div(E(),"8px",f,b,"3px","8px");const x=l.b.div(h(),f);var y=n(20),v=n(5),j=n.n(v),w=n(6);let k="https://r34-json.herokuapp.com";fetch(k).catch(()=>k="https://r34-api-clone.herokuapp.com");var T={getTags:e=>Object(w.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(k,"/tags?limit=").concat(20,"&name=").concat(e,"*&order_by=posts"));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))(),getPosts:(e,t=0,n=0)=>Object(w.a)(j.a.mark((function a(){var r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(S(t,e,n));case 2:return r=a.sent,a.next=5,r.json();case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))(),getAliases:e=>Object(w.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(k,'/alias/"').concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()};function S(e,t,n){const a=t.map(e=>("-"===e.modifier?"-":"")+encodeURIComponent(e.name)).join("+");let r="".concat(k,"/posts?pid=").concat(e,"&limit=").concat(20,"&tags=").concat(a);return n>0&&(r+="+".concat(encodeURIComponent("score:>="+n))),r}class _{constructor(e,t,n,a,r,c,o,i,s,l,u,m,p,d,f,b,g,h,E,O,x){this.id=e,this.score=t,this.rating=n,this.source=a,this.tags=r,this.media_type=c,this.small_src=o,this.big_src=i,this.thumbnail_src=s,this.width=l,this.height=u,this.creator_id=m,this.creator_url=p,this.status=d,this.parent_id=f,this.has_children=b,this.has_comments=g,this.comments_url=h,this.has_notes=E,this.created_at=O,this.change=x}}class C{constructor(e,t=[],n,a="+"){this.name=e,this.types=t,this.count=n,this.modifier=a}}var P=function(e){return e.name?function({name:e,types:t,count:n,modifier:a}){return new C(e,t,Number(n),a)}(e):function(e){const t=e.id,n=e.type,a=e.score,r=e.rating,c=e.source,o=e.tags,i=e.file_url,s=e.width,l=e.height,u=e.creator_id,m=e.creator_url,p=e.sample_url,d=e.preview_url,f=e.status,b=e.parent_id,g=e.has_children,h=e.has_comments,E=e.comments_url,O=e.has_notes,x=e.created_at,y=e.change;return new _(Number(t),Number(a),r,c,o?o.map(e=>new C(e)):[],n,p,i,d,Number(s),Number(l),Number(u),m,f,b,g,h,E,O,x,y)}(e)};function N(){const e=Object(s.a)(["\n  min-width: 48px;\n  border: "," "," solid;\n  border-right-width: 0;\n  border-radius: "," 0 0 ",";\n"]);return N=function(){return e},e}function z(){const e=Object(s.a)(["\n  border-left-width: 0;\n  border-radius: 0 "," "," 0;\n"]);return z=function(){return e},e}function D(){const e=Object(s.a)(["\n  width: 100%;\n  border-radius: ",";\n"]);return D=function(){return e},e}function A(){const e=Object(s.a)(["\n  height: 32px;\n  font-size: 14px;\n  color: ",";\n  background: ",";\n  border: "," "," solid;\n\n  transition: border-color 0.4s ease-in-out;\n  transition: color 0.4s ease-in-out;\n  transition: background-color 0.4s ease-in-out;\n\n  :hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  :active,\n  :focus {\n    color: ",";\n\n    border-color: ",";\n    cursor: pointer;\n  }\n"]);return A=function(){return e},e}function F(){const e=Object(s.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  filter: ",";\n"]);return F=function(){return e},e}function I(){const e=Object(s.a)(["\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  margin: 10px;\n  padding: 5px 5px;\n  filter: ",";\n"]);return I=function(){return e},e}function V(){const e=Object(s.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 10px;\n  padding: 5px 5px;\n  filter: ",";\n"]);return V=function(){return e},e}function R(){const e=Object(s.a)(["\n  color: ",";\n"]);return R=function(){return e},e}function G(){const e=Object(s.a)(["\n  background: none;\n  border: none;\n  padding: ",";\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return G=function(){return e},e}function M(){const e=Object(s.a)(["\n  font-size: 14px;\n\n  :focus {\n    outline: none;\n  }\n"]);return M=function(){return e},e}const L=l.b.button(M()),U=Object(l.b)(L)(G(),"4px"),q=Object(l.b)(U)(R(),({active:e})=>e?"crimson":"white"),B=Object(l.b)(U)(V(),g),W=Object(l.b)(U)(I(),g),H=Object(l.b)(U)(F(),g),J=Object(l.b)(L)(A(),"crimson","#121212","crimson","2px","crimson","#121212","white","white"),K=Object(l.b)(J)(D(),"3px"),Y=Object(l.b)(J)(z(),"3px","3px"),$=Object(l.b)(U)(N(),"crimson","2px","3px","3px");function Q({type:e,children:t,onClick:n,active:a,disabled:c,label:o}){const i=(e=>{switch(e){case"invisible":return U;case"block":return K;case"topLeft":return B;case"bottomLeft":return W;case"center":return H;case"modifier":return $;case"add":return Y;case"menu":return q;default:return J}})(e);return r.a.createElement(i,{onClick:n,active:a,disabled:c,"aria-label":o},t)}function X(){const e=Object(s.a)(["\n  width: 100%;\n  border: none;\n  outline: none;\n  background: none;\n  font-size: 14px;\n  border-top: "," "," solid;\n  border-bottom: "," "," solid;\n"]);return X=function(){return e},e}const Z=l.b.input(X(),"crimson","2px","crimson","2px");function ee({value:e,setValue:t}){return r.a.createElement(Z,{id:"tag-input",value:e,onChange:e=>t(e.target.value),placeholder:"Search for tags","aria-label":"Search"})}n(31);function te(e){return e.replace(/_/g," ")}function ne(e){const t=Number(e);return t>=1e6?"".concat((t/1e6).toFixed(0),"M"):t>=1e3?"".concat((t/1e3).toFixed(0),"K"):t}function ae(){const e=Object(s.a)(["\n  ","\n  ","\n"]);return ae=function(){return e},e}function re(){const e=Object(s.a)(["\n  display: inline-block;\n  padding: 0.25rem;\n  border-radius: ","\n  font-size: 14px;\n  line-height: 1.2;\n  vertical-align: baseline;\n  margin: ",";\n  ","\n"]);return re=function(){return e},e}const ce=l.b.div(re(),({collapsed:e})=>e?"3px":"".concat("3px"," ").concat("3px"," 0 0"),()=>"4px",({active:e})=>{const t=e?"#121212":"crimson",n=e?"crimson":"#121212";return"\n    color: ".concat(t,";\n    background-color: ").concat(n,";\n    border: ").concat("crimson"," ").concat("2px"," solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover {\n      background-color: ").concat(t,";\n      color: ").concat(n,";\n      \n      i {\n        color: ").concat(n,";\n      }\n    }\n\n    :focus, :active {\n      color: ").concat("white",";\n      border-color: ").concat("white","\n    }\n  ")}),oe=l.b.span(ae(),({left:e})=>e?"margin-right: 5px;":"",({right:e})=>e?"margin-left: 5px;":"");function ie({name:e,count:t,modifier:n,types:c,activeTags:o,loadAliases:s,dispatch:l}){const u=Object(a.useState)(),m=Object(i.a)(u,2),p=m[0],d=m[1],f=Object(a.useState)(!0),b=Object(i.a)(f,2),g=b[0],h=b[1];Object(a.useEffect)(()=>{o.some(t=>t.name===e)&&T.getAliases(e).then(e=>{e.sort((e,t)=>Number(t.posts)-Number(e.posts)),d(e.filter(e=>!o.some(t=>t.name===e.name)))})},[e,o]);const E=o.some(t=>t.name===e),O=s&&p&&p.length>0;return r.a.createElement(ce,{active:E,collapsed:g,onMouseLeave:()=>h(!0),tabIndex:"0"},r.a.createElement(He,{types:c,left:!0}),r.a.createElement(se,{name:e,count:t,modifier:n,types:c,activeTags:o,dispatch:l}),O&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,{right:!0,onClick:()=>h(!g)},r.a.createElement(Ie,null)),r.a.createElement("div",{className:"dropdown-list"+(g?"":" visible")},p.map(({name:e,posts:t})=>r.a.createElement(le,{key:"t_"+e,name:e,count:t,dispatch:l})))))}function se({name:e,count:t,types:n,modifier:a,dispatch:c}){const o=te(e),i=t?"".concat(o," (").concat(ne(t),")"):o;return r.a.createElement("span",{onClick:()=>c({type:"TOGGLE_TAG",tag:{name:e,count:t,types:n,modifier:a}}),onKeyDown:r=>32===r.keyCode&&c({type:"TOGGLE_TAG",tag:{name:e,count:t,types:n,modifier:a}})},"-"===a?r.a.createElement("s",null,i):i)}function le({name:e,count:t,dispatch:n}){return r.a.createElement("div",{className:"alias"},r.a.createElement(se,{name:e,count:t,dispatch:n}))}ie.defaultProps={types:[],onClick:()=>{}},se.defaultProps={modifier:"+",types:[],activeTags:[],onClick:()=>{}};var ue=ie;function me(){const e=Object(s.a)([""]);return me=function(){return e},e}function pe(){const e=Object(s.a)([""]);return pe=function(){return e},e}function de(){const e=Object(s.a)([""]);return de=function(){return e},e}function fe(){const e=Object(s.a)([""]);return fe=function(){return e},e}function be(){const e=Object(s.a)([""]);return be=function(){return e},e}function ge(){const e=Object(s.a)([""]);return ge=function(){return e},e}function he(){const e=Object(s.a)([""]);return he=function(){return e},e}function Ee(){const e=Object(s.a)([""]);return Ee=function(){return e},e}function Oe(){const e=Object(s.a)([""]);return Oe=function(){return e},e}function xe(){const e=Object(s.a)([""]);return xe=function(){return e},e}function ye(){const e=Object(s.a)([""]);return ye=function(){return e},e}function ve(){const e=Object(s.a)([""]);return ve=function(){return e},e}function je(){const e=Object(s.a)([""]);return je=function(){return e},e}function we(){const e=Object(s.a)([""]);return we=function(){return e},e}function ke(){const e=Object(s.a)([""]);return ke=function(){return e},e}function Te(){const e=Object(s.a)([""]);return Te=function(){return e},e}function Se(){const e=Object(s.a)(["\n  line-height: 16px;\n  ","\n  ","\n"]);return Se=function(){return e},e}function _e(){const e=Object(s.a)(["\n  ","\n"]);return _e=function(){return e},e}const Ce=l.b.i(_e(),({color:e,size:t})=>"\n    color: ".concat(e,";\n    min-width: ").concat(t,"px;\n    height: ").concat(t,"px;\n\n    ").concat(ce,":hover & {\n      color: ").concat("crimson",";\n    }\n\n    ").concat(ce,":active & ,  ").concat(ce,":focus & {\n      color: ").concat("white",";\n    }\n  ")),Pe=l.b.span(Se(),({left:e})=>e?"margin-right: 5px;":"",({right:e})=>e?"margin-left: 5px;":""),Ne=({className:e,icon:t,color:n,size:a,onClick:c,left:o,right:i})=>r.a.createElement(Pe,{onClick:c,left:o,right:i},r.a.createElement(Ce,{className:"fas ".concat(t," ").concat(e),color:n,size:a}));Ne.defaultProps={color:"black",size:14};const ze=Object(l.b)(Ne).attrs({icon:"fa-user"})(Te()),De=Object(l.b)(Ne).attrs({icon:"fa-pen"})(ke()),Ae=Object(l.b)(Ne).attrs({icon:"fa-copyright"})(we()),Fe=(Object(l.b)(Ne).attrs({icon:"fa-plus-circle"})(je()),Object(l.b)(Ne).attrs({icon:"fa-minus-circle"})(ve()),Object(l.b)(Ne).attrs({icon:"fa-times"})(ye()),Object(l.b)(Ne).attrs({icon:"fa-expand"})(xe())),Ie=Object(l.b)(Ne).attrs({icon:"fa-caret-down"})(Oe()),Ve=Object(l.b)(Ne).attrs({icon:"fa-external-link-alt"})(Ee()),Re=Object(l.b)(Ne).attrs({icon:"fa-hashtag"})(he()),Ge=Object(l.b)(Ne).attrs({icon:"fa-registered"})(ge()),Me=Object(l.b)(Ne).attrs({icon:"fa-heart"})(be()),Le=Object(l.b)(Ne).attrs({icon:"fa-play"})(fe()),Ue=Object(l.b)(Ne).attrs({icon:"fa-pause"})(de()),qe=Object(l.b)(Ne).attrs({icon:"fa-caret-down"})(pe()),Be=Object(l.b)(Ne).attrs({icon:"fa-caret-up"})(me());function We({types:e,className:t,onClick:n}){switch(e.find(e=>!e.match(/^[general|ambiguous]$/))){case"character":return r.a.createElement(ze,{className:t,onClick:n,left:!0});case"copyright":return r.a.createElement(Ae,{className:t,onClick:n,left:!0});case"artist":return r.a.createElement(De,{className:t,onClick:n,left:!0});default:return r.a.createElement("div",{className:t})}}We.defaultProps={types:[]};var He=We;function Je(){const e=Object(s.a)(["\n  flex: 0 0 48px;\n  text-align: center;\n"]);return Je=function(){return e},e}function Ke(){const e=Object(s.a)(["\n  display: flex;\n  height: 28px;\n\n  > * {\n    margin: auto;\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px grey solid;\n  }\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return Ke=function(){return e},e}function Ye(){const e=Object(s.a)(["\n  ",";\n  display: none;\n  background: white;\n  box-sizing: border-box;\n  border: "," "," solid;\n  border-radius: 0 0 3px 3px;\n  color: black;\n  z-index: 1;\n"]);return Ye=function(){return e},e}const $e=l.b.div(Ye(),(function({inputRef:e}){return e?"\n      position: absolute;\n      top: ".concat(e.offsetTop+e.clientHeight-2,"px;\n      left: ").concat(e.offsetLeft,"px;\n      width: ").concat(e.clientWidth,"px;"):""}),"2px","crimson");const Qe=l.b.div(Ke()),Xe=l.b.span(Je());function Ze({name:e,posts:t,types:n,onClick:a}){return r.a.createElement(Qe,{onClick:a,onKeyDown:e=>32===e.keyCode&&a(e),tabIndex:"0"},r.a.createElement(Xe,null,r.a.createElement(He,{types:n})),r.a.createElement("span",{style:{flexGrow:1}},te(e)),r.a.createElement("span",{style:{paddingRight:5}},ne(t)," posts"))}var et=function({inputRef:e,entries:t,onClick:n}){return t&&t.length>0?r.a.createElement($e,{inputRef:e},t.map(e=>r.a.createElement(Ze,Object.assign({key:e.name},e,{onClick:()=>n(e)})))):null};function tt(){const e=Object(s.a)(["\n  display: flex;\n  background: white;\n  ","\n  :focus-within {\n    "," {\n      display: block;\n    }\n  }\n"]);return tt=function(){return e},e}const nt=l.b.div(tt(),({closed:e})=>e?"border-radius: ".concat("3px",";"):"\n        border-radius: ".concat("3px"," ").concat("3px"," 0 0;\n\n        > ").concat(Y," {\n          border-radius: 0 ").concat("3px"," 0 0;\n        }\n\n        > ").concat($," {\n          border-radius: ").concat("3px"," 0 0 0;\n        }\n      "),$e);var at=function({dispatch:e}){const t=Object(a.useState)(),n=Object(i.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)(""),l=Object(i.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)("+"),d=Object(i.a)(p,2),f=d[0],b=d[1],g=Object(a.useState)([]),h=Object(i.a)(g,2),E=h[0],O=h[1],x=Object(a.useCallback)(t=>{e({type:"ADD_TAG",tag:P({name:t.name,modifier:f,count:t.posts,types:t.types})}),m(""),O([])},[e,f]);return Object(a.useEffect)(()=>{const e=setTimeout(()=>{var e;u&&""!==u&&T.getTags((e=u,e.toLowerCase().replace(/ /g,"_"))).then(e=>{O(e)})},400);return()=>clearTimeout(e)},[u]),r.a.createElement(nt,{ref:o,closed:0===E.length},r.a.createElement(Q,{type:"modifier",onClick:()=>b("+"===f?"-":"+")},f),r.a.createElement(ee,{value:u,setValue:m}),r.a.createElement(Q,{type:"add",onClick:()=>{if(u&&""!==u.trim()){const e=E.find(e=>e.name===u)||{};x(Object(y.a)({},e,{name:u}))}}},"Add"),r.a.createElement(et,{inputRef:c,entries:E,onClick:e=>{x(e)}}))},rt=n(17),ct=n.n(rt);n(36);function ot(){const e=Object(s.a)(["\n  margin-left: ",";\n"]);return ot=function(){return e},e}function it(){const e=Object(s.a)(["\n  display: flex;\n"]);return it=function(){return e},e}const st=l.b.label(it()),lt=l.b.span(ot(),"8px");function ut({children:e,initial:t,onChange:n}){return r.a.createElement(st,null,r.a.createElement(ct.a,{defaultChecked:t,icons:{checked:null,unchecked:null},onChange:n}),r.a.createElement(lt,null,e))}function mt(){const e=Object(s.a)(["\n  background: none;\n  border: none;\n  outline: none;\n  color: ",";\n  max-height: 16px;\n  width: ","em;\n  text-align: right;\n  font-size: 14px;\n  margin: -1px 0.2em 0 0.2em;\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield;\n"]);return mt=function(){return e},e}function pt(){const e=Object(s.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return pt=function(){return e},e}ut.defaultProps={initial:!1};const dt=l.b.div(pt(),"8px"),ft=l.b.input(mt(),"crimson",({value:e})=>.57*String(e).length);function bt({options:e,dispatch:t}){const n=Object(a.useState)(1),c=Object(i.a)(n,2),o=c[0],s=c[1];return r.a.createElement(dt,null,r.a.createElement(ut,{initial:e.infinite,onChange:()=>t({type:"SET_OPTION",key:"infinite",value:!e.infinite})},"Infinite Scrolling"),r.a.createElement(ut,{initial:Boolean(e.rated),onChange:()=>{t({type:"SET_OPTION",key:"rated",value:e.rated?void 0:o})}},e.rated?r.a.createElement("div",{style:{display:"flex"}},"Above",r.a.createElement(ft,{type:"number",value:o,onChange:e=>s(Number(e.target.value)),onBlur:e=>t({type:"SET_OPTION",key:"rated",value:Number(e.target.value)})}),"likes"):"Only show Rated Posts"),r.a.createElement(ut,{initial:e.originals,onChange:()=>t({type:"SET_OPTION",key:"originals",value:!e.originals})},"Load Original Sizes"))}function gt(){const e=Object(s.a)(["\n  display: inline-flex;\n  flex-wrap: wrap;\n  margin: ",";\n"]);return gt=function(){return e},e}const ht=l.b.div(gt(),({padding:e})=>"calc(".concat(e," - ").concat("4px",")"));function Et({tags:e,activeTags:t,loadAliases:n,dispatch:a,padding:c}){return r.a.createElement("div",null,r.a.createElement(ht,{padding:c},e.map(e=>r.a.createElement(ue,Object.assign({key:"t_"+e.name},e,{activeTags:t,loadAliases:n,dispatch:a})))))}Et.defaultProps={activeTags:[],onItemClick:()=>{},onItemItemClick:()=>{},padding:"0px"};var Ot=Et;var xt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null,"Help"),r.a.createElement(O,null,r.a.createElement(p,null,"Searching for Tags"),r.a.createElement(x,null),r.a.createElement(at,{dispatch:()=>{}}),r.a.createElement(x,null),r.a.createElement("p",null,"You can use the Tag Selector to look for tags you like.The Tag Selector has 4 parts."),r.a.createElement("ol",null,r.a.createElement("li",null,'The modifier (left) determines wether posts must match a tag or not. Putting "-" will hide all posts with this tag'),r.a.createElement("li",null,"The Search Box (center) allows you to search for tags. As soon as you start typing the Tag Selector will show you relevant tags to choose from (4)."),r.a.createElement("li",null,"The Add Button (right) Allows you to add any tag to the current filter. Usefull when using wildcards."),r.a.createElement("li",null,"The Tag Dropdown (left) automatically shows tags that start with your input. It also includes The number of posts tagged, to allow you to weigh tags against each other."))),r.a.createElement(O,null,r.a.createElement(p,null,"Options"),r.a.createElement(x,null),r.a.createElement(bt,{options:{},dispatch:()=>{}}),r.a.createElement(x,null),r.a.createElement("p",null,"Options allow you to customize your experience in various ways. There are 3 options available"),r.a.createElement("ol",null,r.a.createElement("li",null,"Infinite Scrolling automatically loads new posts when you get close to the bottom of the page."),r.a.createElement("li",null,"Only show Rated posts filters out posts below the specified amount of posts."),r.a.createElement("li",null,"Load original sizes always loads the highest quality of an image. This can easily cause extreme data consumption. Don't use with mobile data."))),r.a.createElement(O,null,r.a.createElement(p,null,"Tags"),r.a.createElement(x,null),r.a.createElement(Ot,{tags:[{name:"Tag 1"},{name:"Tag 2",types:["character"]},{name:"Tag 3",modifier:"-",types:["copyright"],count:1020}],activeTags:[{name:"Tag 2"},{name:"Tag 3"}]}),r.a.createElement(x,null),r.a.createElement("p",null,"This whole application is based on tags. Every Post has multiple tags. Usually you can enable/disable a tag just by tapping it. If a tag is red it means its active. The icons next to the name show what type of tag it is. Not every tag has a type. The number on the right shows how many posts there are with that tag.")))};function yt(){const e=Object(s.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return yt=function(){return e},e}const vt=l.b.section(yt(),"8px");var jt=function({options:e,tags:t,dispatch:n}){const c=Object(a.useCallback)(()=>{T.getPosts(t,0,e.rated).then(e=>{n({type:"SET_POSTS",posts:e.posts.map(P),count:Number(e.count)})})},[n,e.rated,t]);return r.a.createElement(vt,null,r.a.createElement(p,null,r.a.createElement("label",{htmlFor:"tag-input"},"Search")),r.a.createElement(O,null,r.a.createElement(at,{dispatch:n}),t.length>0&&r.a.createElement(Ot,{tags:t,activeTags:t,dispatch:n,loadAliases:!0}),r.a.createElement(bt,{options:e,dispatch:n}),r.a.createElement(Q,{type:"block",onClick:c},"Search")))};function wt(){const e=Object(s.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  background: ",";\n  padding: ",";\n  ",";\n\n  > span,\n  > a {\n    margin: ",";\n    line-height: 1rem;\n    height: 1rem;\n  }\n"]);return wt=function(){return e},e}function kt(){const e=Object(s.a)(["\n  > "," {\n    padding: ",";\n  }\n\n  overflow: hidden;\n"]);return kt=function(){return e},e}const Tt=l.b.div(kt(),ht,"4px"),St=l.b.div(wt(),f,"4px",b,"4px");var _t=function({rating:e,score:t,source:n,tags:a,activeTags:c,dispatch:o}){return r.a.createElement(Tt,null,r.a.createElement(St,null,e&&r.a.createElement(Ct,{value:e}),t&&r.a.createElement(Pt,{value:t}),n&&r.a.createElement(Nt,{value:n})),r.a.createElement(Ot,{tags:a,activeTags:c,dispatch:o,padding:"8px"}))};const Ct=({value:e})=>r.a.createElement("span",null,r.a.createElement(Ge,{color:"white",left:!0}),e[0].toUpperCase()),Pt=({value:e})=>r.a.createElement("span",null,e,r.a.createElement(Me,{color:"white",right:!0})),Nt=({value:e})=>e.startsWith("http")?r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"source"},r.a.createElement(Ve,{color:"red",left:!0}),e.substring(e.indexOf("://")+3,e.indexOf("/",e.indexOf("://")+3))):r.a.createElement("span",null,r.a.createElement(Re,{color:"white",left:!0}),e);function zt(){const e=Object(s.a)(["\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    height: 5px;\n    background-color: ",";\n  "]);return zt=function(){return e},e}const Dt=l.b.div(({currentTime:e,duration:t})=>Object(l.a)(zt(),"crimson"));function At(e){const t=e.onFullscreen,n=e.togglePlay,a=e.isPaused,c=e.isPlayable,o=e.currentTime,i=e.duration,s=e.isVisible,l=e.toggleDetails,u=e.areDetailsVisible;return s?r.a.createElement("div",null,t&&r.a.createElement(Q,{type:"topLeft",onClick:t,label:"Open Fullscreen"},r.a.createElement(Fe,{color:"white"})),r.a.createElement(Q,{type:"bottomLeft",onClick:l,label:"Toggle Details"},u?r.a.createElement(qe,{color:"white"}):r.a.createElement(Be,{color:"white"})),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{type:"center",onClick:n,label:"Play/Pause"},a?r.a.createElement(Le,{color:"white",size:50}):r.a.createElement(Ue,{color:"white",size:50})),!!i&&r.a.createElement(Dt,{currentTime:o,duration:i,style:{width:"".concat(o/i*100,"%")}}))):null}At.defaultProps={onFullscreen:null,togglePlay:()=>{},isPaused:!0,isPlayable:!1,currentTime:0,duration:null};var Ft=At;function It(){const e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  display: block;\n  object-fit: contain;\n"]);return It=function(){return e},e}const Vt=l.b.video(It());function Rt(e){const t=e.src,n=e.thumbnail_src,c=e.isOverlayVisible,o=e.toggleOverlay,s=e.toggleDetails,l=e.areDetailsVisible,u=Object(a.useState)({paused:!0,play:()=>{},pause:()=>{},currentTime:0,duration:1}),m=Object(i.a)(u,2),p=m[0],d=m[1],f=Object(a.useState)(Date.now()),b=Object(i.a)(f,2),g=b[0],h=b[1],E=Object(a.useState)(0),O=Object(i.a)(E,2),x=O[0],y=O[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vt,{controls:!1,loop:!0,src:t,alt:t,poster:n,preload:"metadata",onClick:o,ref:d}),r.a.createElement(Ft,{isVisible:c,isPaused:p.paused,currentTime:p.currentTime,duration:p.duration,onFullscreen:()=>{var e;(e=p).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},togglePlay:()=>p.paused?(()=>{p.play();const e=setInterval(()=>{h(Date.now()),console.log(g)},34);y(e)})():(p.pause(),clearInterval(x),void y(-1)),toggleDetails:s,isPlayable:!0,areDetailsVisible:l}))}function Gt(){const e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  display: block;\n  object-fit: contain;\n"]);return Gt=function(){return e},e}const Mt=l.b.img(Gt());var Lt=function(e){const t=e.src,n=e.thumbnail_src,c=e.isOverlayVisible,o=e.toggleOverlay,s=e.toggleDetails,l=e.areDetailsVisible,u=Object(a.useState)(!0),m=Object(i.a)(u,2),p=m[0],d=m[1],f=p?n:t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt,{src:f,alt:f,onClick:o}),r.a.createElement(Ft,{isPlayable:!0,toggleDetails:s,isPaused:p,isVisible:c,togglePlay:()=>d(!p),areDetailsVisible:l}))};function Ut(){const e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  display: block;\n  object-fit: contain;\n"]);return Ut=function(){return e},e}const qt=l.b.img(Ut());var Bt=function(e){const t=e.src,n=e.isOverlayVisible,a=e.toggleOverlay,c=e.toggleDetails,o=e.areDetailsVisible;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qt,{src:t,alt:t,onClick:a}),r.a.createElement(Ft,{isVisible:n,isPlayable:!1,toggleDetails:c,isOverlayVisible:n,areDetailsVisible:o}))};function Wt(){const e=Object(s.a)(["\n  display: inline-block;\n  position: relative;\n"]);return Wt=function(){return e},e}const Ht=l.b.div(Wt());var Jt=e=>{const t=((e,t)=>{switch(((e,t)=>"video"===e?"video":t.includes(".gif")?"gif":"picture")(e,t)){case"video":return Rt;case"gif":return Lt;default:return Bt}})(e.type,e.src),n=Object(a.useState)(!0),c=Object(i.a)(n,2),o=c[0],s=c[1];return r.a.createElement(Ht,null,r.a.createElement(t,Object.assign({isOverlayVisible:o,toggleOverlay:()=>s(!o)},e)))};function Kt(){const e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  background: ",";\n  ",";\n  border-radius: ",";\n  overflow: hidden;\n  margin-bottom: ",";\n  box-sizing: border-box;\n"]);return Kt=function(){return e},e}const Yt=l.b.div(Kt(),f,b,"3px","8px");function $t({id:e,media_type:t,small_src:n,big_src:c,thumbnail_src:o,rating:s,score:l,source:u,tags:m,loadOriginal:p,activeTags:d,dispatch:f}){const b=function(e,t,n,a){let r;return e?r=t:(r="".concat(n,"?").concat(a),r.includes("//images")&&(r=r.replace("//images","/images"))),r}(p,c,n,e),g=Object(a.useState)(!0),h=Object(i.a)(g,2),E=h[0],O=h[1];return r.a.createElement(Yt,null,r.a.createElement(Jt,{type:t,src:b,thumbnail_src:o,areDetailsVisible:!E,toggleDetails:()=>O(!E)}),!E&&r.a.createElement(_t,{rating:s,score:l,source:u,tags:m,activeTags:d,dispatch:f}))}function Qt(){const e=Object(s.a)([""]);return Qt=function(){return e},e}const Xt=l.b.div(Qt());var Zt=function({posts:e,activeTags:t,loadOriginal:n,dispatch:a}){return r.a.createElement(Xt,null,e.map(e=>r.a.createElement($t,Object.assign({key:"p_".concat(e.id)},e,{loadOriginal:n,activeTags:t,dispatch:a}))))},en=n(10),tn=n.n(en);function nn(){const e=Object(s.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return nn=function(){return e},e}const an=l.b.section(nn(),"8px");let rn=!0;var cn=function({options:e,dispatch:t,tags:n,results:c}){const o=Object(a.useState)(!1),s=Object(i.a)(o,2),l=s[0],u=s[1],m=Object(a.useCallback)(()=>{T.getPosts(n,c.page+1,e.rated).then(e=>{u(0===e.posts.length),t({type:"ADD_POSTS",posts:e.posts.map(P)}),rn=!0})},[t,e.rated,c.page,n]);return window.onscroll=Object(a.useCallback)(()=>{e.infinite&&rn&&window.innerHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight-window.innerHeight&&(rn=!1,m())},[m,e.infinite]),r.a.createElement(an,{className:"results"},r.a.createElement(p,null,ne(c.count)," results"),r.a.createElement(Zt,{posts:c.posts,activeTags:n,loadOriginal:e.originals,dispatch:t}),!e.infinite&&!l&&r.a.createElement(Q,{type:"block",onClick:m},"Load More"),l&&r.a.createElement(O,null,r.a.createElement("img",{src:tn.a,alt:tn.a}),r.a.createElement(x,null),r.a.createElement(p,null,"You have reached the end!"),r.a.createElement("p",{style:{textAlign:"center"}},"Go look for something else...")))};function on({tags:e,options:t,results:n,dispatch:a}){return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt,{options:t,tags:e,dispatch:a}),n.posts.length>0&&r.a.createElement(cn,{options:t,dispatch:a,tags:e,results:n}))}var sn=function({size:e}){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 12.7 12.7"},r.a.createElement("g",{transform:"translate(0,-284.3)"},r.a.createElement("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:"crimson",strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),r.a.createElement("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:"crimson",fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)"},r.a.createElement("tspan",{id:"tspan4531",x:"2.1363549",y:"289.02704",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:"crimson",fillOpacity:"1"},"34"))))};function ln(){const e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n"]);return ln=function(){return e},e}function un(){const e=Object(s.a)(["\n  background: ",";\n  ",";\n  padding: "," 0;\n  margin-bottom: ",";\n"]);return un=function(){return e},e}function mn(){const e=Object(s.a)(["\n  width: 1px;\n  height: 32px;\n  margin: 0 ",";\n  background: ",";\n"]);return mn=function(){return e},e}function pn(){const e=Object(s.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return pn=function(){return e},e}const dn=l.b.header(pn(),"8px"),fn=l.b.div(mn(),"8px","white"),bn=l.b.div(un(),f,b,"8px","8px"),gn=l.b.nav(ln());var hn=function({activeMenu:e,dispatch:t}){return r.a.createElement(dn,null,r.a.createElement(bn,null,r.a.createElement(d,null,r.a.createElement(sn,{size:32}),r.a.createElement(fn,null),r.a.createElement("span",{style:{marginTop:2}},"Browse ",r.a.createElement("a",{href:"https://rule34.xxx"},"Rule34")))),r.a.createElement(gn,null,r.a.createElement(Q,{type:"menu",active:"search"===e,onClick:()=>t({type:"SET_ACTIVE_MENU",menu:"search"})},"Search"),r.a.createElement(Q,{type:"menu",active:"help"===e,onClick:()=>t({type:"SET_ACTIVE_MENU",menu:"help"})},"Help"),r.a.createElement(Q,{type:"menu",active:"settings"===e,onClick:()=>t({type:"SET_ACTIVE_MENU",menu:"settings"})},"Settings")))};var En=n(4);const On={results:{posts:[],page:0,count:void 0},context:{focusedPost:void 0,activeMenu:"search"},tags:[],options:{infinite:!0,rated:void 0,originals:!1}},xn=(e,t)=>e.findIndex(e=>e.name===t.name),yn=(e,t)=>Object(En.a)(e,n=>{const a=xn(e.tags,t);n.tags=[...e.tags],-1!==a?n.tags[a]=t:n.tags=[...n.tags,t]}),vn=(e,t)=>Object(En.a)(e,n=>{const a=xn(e.tags,t);-1!==a&&(n.tags=[...e.tags],n.tags.splice(a,1))}),jn=(e,t)=>Object(En.a)(e,e=>{e.context.focusedPost=t});var wn=(e,t)=>{switch(t.type){case"ADD_TAG":return yn(e,t.tag);case"REMOVE_TAG":return vn(e,t.tag);case"TOGGLE_TAG":return((e,t)=>-1!==xn(e.tags,t)?vn(e,t):yn(e,t))(e,t.tag);case"ADD_POSTS":return((e,t)=>Object(En.a)(e,n=>{n.results.posts=[...e.results.posts,...t],n.results.page=e.results.page+1}))(e,t.posts);case"SET_POSTS":return((e,t,n)=>Object(En.a)(e,e=>{e.results.posts=[...t],e.results.count=n,e.results.page=0}))(e,t.posts,t.count);case"SET_OPTION":return((e,t,n)=>Object(En.a)(e,e=>{e.options[t]=n}))(e,t.key,t.value);case"FOCUS_POST":return jn(e,t.id);case"UNFOCUS_POST":return jn(e,void 0);case"SET_ACTIVE_MENU":return((e,t)=>Object(En.a)(e,e=>{e.context.activeMenu=t}))(e,t.menu);case"RESET":return(e=>Object(En.a)(e,e=>{Object.assign(e,On)}))(e);default:throw new Error("Unrecognized Action: ".concat(t.type))}};function kn(){const e=function(e){const t=localStorage.getItem("state");return[null!==t&&"undefined"!==t?JSON.parse(t):e,e=>localStorage.setItem("state",JSON.stringify(e))]}(On),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useReducer)(wn,n),o=Object(i.a)(c,2),s=o[0],l=o[1];return Object(a.useEffect)(()=>{r(s)},[r,s]),[s,l]}function Tn(){const e=Object(s.a)(["\n  width: 1px;\n  height: 20px;\n  background: ",";\n"]);return Tn=function(){return e},e}function Sn(){const e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1px 1fr 1px 1fr;\n  justify-content: space-around;\n  padding: ",";\n"]);return Sn=function(){return e},e}const _n=l.b.footer(Sn(),"8px"),Cn=l.b.div(Tn(),"white");var Pn=function(){return r.a.createElement(_n,null,r.a.createElement(Q,{type:"invisible"},r.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react/issues/new?template=bug_report.md"},"Report a bug")),r.a.createElement(Cn,null),r.a.createElement(Q,{type:"invisible"},r.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react"},"Github")),r.a.createElement(Cn,null),r.a.createElement(Q,{type:"invisible"},r.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react/issues/new?template=feature_request.md"},"Feature request")))};function Nn({state:e,dispatch:t}){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null,"Settings"),r.a.createElement(O,null,r.a.createElement(p,null,"General"),r.a.createElement("p",null,"nothing yet"),r.a.createElement(x,null),r.a.createElement(p,null,"Developer"),r.a.createElement(K,{onClick:()=>t({type:"RESET"})},"Reset Application")))}function zn(){const e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: strech;\n  min-height: 100%;\n  background: ",";\n  color: ",";\n\n  font-size: 14px;\n\n  a {\n    color: ",";\n    text-decoration: none;\n  }\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return zn=function(){return e},e}function Dn(){const e=Object(s.a)(["\n  flex-grow: 1;\n  align-self: strech;\n  display: flex;\n  flex-direction: column;\n  padding: 0 16px;\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Dn=function(){return e},e}const An=l.b.main(Dn(),"8px"),Fn=l.b.div(zn(),"#121212","white","crimson","8px");Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){const e=kn(),t=Object(i.a)(e,2),n=t[0],a=t[1],c=function(e,t,n){switch(e){case"help":return r.a.createElement(xt,{state:t,dispatch:n});case"settings":return r.a.createElement(Nn,{state:t,dispatch:n});case"search":default:return r.a.createElement(on,{tags:t.tags,options:t.options,results:t.results,dispatch:n})}}(n.context.activeMenu,n,a);return r.a.createElement(Fn,null,r.a.createElement(hn,{activeMenu:n.context.activeMenu,dispatch:a}),r.a.createElement(An,null,c),r.a.createElement(Pn,null))}),null),document.getElementById("app-root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.fbe519b2.chunk.js.map