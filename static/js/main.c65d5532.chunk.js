(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{70:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c,s,o,r,a,i,l=n(1),d=n(25),b=n.n(d),j=n(9),u=n(36),h=n(17),O=n(49),g=n(3),p=n(5);const m=g.d.button((({theme:e})=>Object(g.c)(c||(c=Object(p.a)(["\n    height: ",";\n    padding: 0 ",";\n    font-size: ",";\n    border: "," "," solid;\n    border-radius: ",";\n\n    transition: all "," ease-in-out;\n  "])),e.dimensions.blockHeight,e.dimensions.bigSpacing,e.fontSizes.content,e.colors.accentColor,e.dimensions.borderWidth,e.dimensions.borderRadius,e.timings.longTransitionTime))),x=g.d.button((({theme:e})=>Object(g.c)(s||(s=Object(p.a)(["\n    background-color: transparent;\n    border: none;\n    padding: ",";\n    filter: ",";\n\n    svg {\n      transition: all "," ease-in-out;\n    }\n\n    :hover {\n      svg {\n        transform: scale(1.1);\n      }\n    }\n  "])),e.dimensions.spacing,e.shadow.drop,e.timings.transitionTime))),f=Object(g.d)(m)((({theme:e})=>Object(g.c)(o||(o=Object(p.a)(["\n    color: ",";\n    background: ",";\n\n    :hover {\n      background-color: ",";\n      color: ",";\n    }\n\n    :active,\n    :focus {\n      color: ",";\n      border-color: ",";\n    }\n  "])),e.colors.accentColor,e.colors.backgroundColor,e.colors.accentColor,e.colors.backgroundColor,e.colors.backgroundColor2,e.colors.backgroundColor2))),v=Object(g.d)(f)((({theme:e})=>Object(g.c)(r||(r=Object(p.a)(["\n    width: 100%;\n  "]))))),w=Object(g.d)(f)((({theme:e})=>Object(g.c)(a||(a=Object(p.a)(["\n    border-left-width: 0;\n    border-radius: 0 ","\n      "," 0;\n  "])),e.dimensions.borderRadius,e.dimensions.borderRadius))),y=Object(g.d)(m)((({theme:e})=>Object(g.c)(i||(i=Object(p.a)(["\n    background-color: transparent;\n    min-width: 48px;\n    border: "," "," solid;\n    border-right-width: 0;\n    border-radius: "," 0 0\n      ",";\n    font-weight: bold;\n  "])),e.colors.accentColor,e.dimensions.borderWidth,e.dimensions.borderRadius,e.dimensions.borderRadius))),k="R34_ADD_TAG",C="R34_REMOVE_TAG",S="R34_ADD_ALIASES",T="R34_ADD_POSTS",_="R34_SET_POSTS",R="R34_SET_OPTION",z="R34_GET_RESULTS",L="R34_GET_MORE_RESULTS",A="R34_ALLOW_COOKIES",N=e=>({type:k,tag:e}),P=(e,t)=>({type:R,key:e,value:t}),E=()=>({type:z}),I=()=>({type:L}),M=()=>({type:A,value:!0}),H=e=>e.tags.active,W=e=>e.results.posts,F=e=>e.results.count,U=e=>e.results.pageNumber,D=e=>e.preferences,B=e=>e.preferences.originals,G=e=>e.preferences.cookies,V=e=>Object.values(e.tags.aliases).flat(),X=e=>Object.keys(e.results.posts).length===e.results.count;function q(e){const t=Object(j.b)();return Object(l.useCallback)((()=>{t(e())}),[e,t])}var J,K,Y=n(0);const Q=g.d.div((({theme:e})=>Object(g.c)(J||(J=Object(p.a)(["\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    color: ",";\n    background: ",";\n\n    padding: ",";\n  "])),e.colors.text,e.misc.layer,e.dimensions.gutter))),Z=g.d.span(K||(K=Object(p.a)(["\n  height: min-content;\n"])));function $(){const e=Object(j.c)(G),t=q(M);return e?null:Object(Y.jsxs)(Q,{children:[Object(Y.jsx)(Z,{children:"This website uses cookies."}),Object(Y.jsx)(f,{onClick:t,"aria-label":"Allow Cookies",children:"Got it"})]})}var ee,te=Object(g.b)((e=>Object(g.c)(ee||(ee=Object(p.a)(['\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n\n      font-family: "Raleway", sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n\n      :focus {\n        outline: none;\n      }\n    }\n\n    html,\n    body,\n    #app-root {\n      width: 100%;\n      height: 100%;\n    }\n\n    body {\n      font-size: ',";\n      color: ",";\n      background-color: ",";\n    }\n\n    a {\n      color: ",";\n      text-decoration: none;\n    }\n  "])),e.theme.fontSizes.content,e.theme.colors.backgroundColor2,e.theme.colors.backgroundColor,e.theme.colors.accentColor)));var ne,ce,se,oe={dimensions:{borderRadius:"3px",borderWidth:"2px",spacing:"4px",bigSpacing:"8px",appMargin:"16px",gutter:"8px",blockHeight:"32px",bodyWidth:"1000px"},colors:{accentColor:"#ee3344",hoverAccent:"#ee3344",backgroundColor:"#121212",backgroundColor2:"#fff",subduedText:"#ffffff80"},shadow:{box:"box-shadow: 0 0 8px #000",drop:"drop-shadow(0 0 4px #000)"},timings:{transistionTime:"0.2s",longTransitionTime:"0.2s"},misc:{layer:"#ffffff11; :hover { background: #ffffff16;} transition: background-color 0.2s ease-in-out"},fontSizes:{content:"15px",bigTitle:"24px"}};const re=g.d.h2((({theme:e})=>Object(g.c)(ne||(ne=Object(p.a)(["\n    font-size: ",";\n    padding: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),e.fontSizes.bigTitle,e.dimensions.spacing))),ae=g.d.h1((({theme:e})=>Object(g.c)(ce||(ce=Object(p.a)(["\n    display: flex;\n    justify-content: center;\n    font-size: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),e.fontSizes.bigTitle))),ie=g.d.h3((e=>Object(g.c)(se||(se=Object(p.a)(["\n    font-size: ",";\n  "])),e.theme.fontSizes.content)));var le,de=g.d.div((e=>Object(g.c)(le||(le=Object(p.a)(["\n    display: grid;\n    padding: ",";\n    background: ",";\n    ",";\n    border-radius: ",";\n    width: 100%;\n    gap: ",";\n  "])),e.theme.dimensions.gutter,e.theme.misc.layer,e.theme.shadow.box,e.theme.dimensions.borderRadius,e.theme.dimensions.gutter))),be=n(20),je=n(16),ue=n(32),he=n.n(ue),Oe=n(38);class ge{constructor(){this.activeApi=ge.apiUrl2,this.activeApi=ge.apiUrl1,fetch(this.activeApi).catch((()=>this.activeApi=ge.apiUrl2))}getTags(e,t=ge.pageSize){var n=this;return Object(Oe.a)(he.a.mark((function c(){var s;return he.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("".concat(n.activeApi,"/tags?limit=").concat(t,"&name=").concat(e,"*&order_by=posts"));case 2:return s=c.sent,c.next=5,s.json();case 5:return c.abrupt("return",c.sent);case 6:case"end":return c.stop()}}),c)})))()}getPosts(e,t=0,n=0){var c=this;return Object(Oe.a)(he.a.mark((function s(){var o;return he.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch(c.buildPostUrl(t,e,n));case 2:return o=s.sent,s.next=5,o.json();case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}}),s)})))()}getAliases(e){var t=this;return Object(Oe.a)(he.a.mark((function n(){var c;return he.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(t.activeApi,"/alias/").concat(e));case 2:return c=n.sent,n.next=5,c.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}buildPostUrl(e,t,n,c=ge.pageSize){const s=Object.values(t).map((e=>"".concat("-"===e.modifier?"-":"").concat(encodeURIComponent(e.name)))).join("+");let o="".concat(this.activeApi,"/posts?pid=").concat(e,"&limit=").concat(c,"&tags=").concat(s);return n>0&&(o+="+".concat(encodeURIComponent("score:>="+n))),o}}ge.pageSize=20,ge.apiUrl1="https://r34-json.herokuapp.com",ge.apiUrl2="https://r34-api-clone.herokuapp.com";var pe,me=new ge;class xe{constructor(e,t,n,c,s,o,r,a,i,l,d,b,j,u,h,O,g,p,m,x,f){this.id=void 0,this.score=void 0,this.rating=void 0,this.source=void 0,this.tags=void 0,this.media_type=void 0,this.thumbnail_src=void 0,this.small_src=void 0,this.big_src=void 0,this.width=void 0,this.height=void 0,this.creator_id=void 0,this.creator_url=void 0,this.status=void 0,this.parent_id=void 0,this.has_children=void 0,this.has_comments=void 0,this.comments_url=void 0,this.has_notes=void 0,this.created_at=void 0,this.change=void 0,this.id=e,this.score=t,this.rating=n,this.source=c,this.tags=s,this.media_type=o,this.small_src=r,this.big_src=a,this.thumbnail_src=i,this.width=l,this.height=d,this.creator_id=b,this.creator_url=j,this.status=u,this.parent_id=h,this.has_children=O,this.has_comments=g,this.comments_url=p,this.has_notes=m,this.created_at=x,this.change=f}}class fe{constructor(e,t=[],n=null,c="+"){this.name=void 0,this.count=void 0,this.types=void 0,this.modifier=void 0,this.name=e,this.types=t,this.count=n,this.modifier=c}}function ve(e){const t=e.id,n=e.type,c=e.score,s=e.rating,o=e.source,r=e.tags,a=e.file_url,i=e.width,l=e.height,d=e.creator_id,b=e.creator_url,j=e.sample_url,u=e.preview_url,h=e.status,O=e.parent_id,g=e.has_children,p=e.has_comments,m=e.comments_url,x=e.has_notes,f=e.created_at,v=e.change;return new xe(Number(t),Number(c),s,o,r?r.map((e=>new fe(e))):[],n,j,a,u,Number(i),Number(l),Number(d),b,h,Number(O),Boolean(g),Boolean(p),m,Boolean(x),f,v)}const we=g.d.input((e=>Object(g.c)(pe||(pe=Object(p.a)(["\n    width: 100%;\n    border: none;\n    outline: none;\n    background: none;\n    font-size: ",";\n    border-top: ","\n      "," solid;\n    border-bottom: ","\n      "," solid;\n  "])),e.theme.fontSizes.content,e.theme.colors.accentColor,e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.dimensions.borderWidth)));function ye(e){const t=e.value,n=e.setValue;return Object(Y.jsx)(we,{id:"tag-input",value:t,onChange:e=>n(e.target.value),placeholder:"Search for tags","aria-label":"Search"})}const ke="video";let Ce;!function(e){e.SEARCH="/",e.HELP="/help",e.SETTINGS="/settings"}(Ce||(Ce={}));const Se="rated",Te="ratedTreshold",_e="originals",Re="cookies",ze="preload_videos",Le="tag_suggestion_count",Ae=()=>{};n(70);function Ne(e){return e.replace(/_/g," ")}const Pe=e=>{const t=e;return t>=1e6?"".concat((t/1e6).toFixed(0),"M"):t>=1e3?"".concat((t/1e3).toFixed(0),"K"):t},Ee=e=>{if(e.includes("http:")||e.includes("https:")||e.includes("www.")||e.includes(".com")){let t=e.replace(/https?:\/\//,"").replace(/ww[w\d]\./,"").replace(".com","").replace(".org","").replace(".net","");return t.substring(0,t.indexOf("/"))}return e};function Ie(e=!1){const t=Object(l.useState)(e),n=Object(je.a)(t,2),c=n[0],s=n[1],o=Object(l.useCallback)((()=>s(!c)),[c]),r=Object(l.useCallback)((()=>s(e)),[e]);return[c,o,r]}var Me,He,We;const Fe=g.d.div((e=>{return Object(g.c)(He||(He=Object(p.a)(["\n      display: inline-block;\n      padding: 0.25rem;\n      border-radius: ",";\n      font-size: ",";\n      line-height: 1.2;\n      vertical-align: baseline;\n      margin: ",";\n      ","\n    "])),(t=e.collapsed,n=e.theme,t?n.dimensions.borderRadius:"".concat(n.dimensions.borderRadius," ").concat(n.dimensions.borderRadius," 0 0")),e.theme.fontSizes.content,e.theme.dimensions.spacing,((e,t)=>{const n=e?t.colors.backgroundColor:t.colors.accentColor,c=e?t.colors.accentColor:t.colors.backgroundColor;return Object(g.c)(Me||(Me=Object(p.a)(["\n    color: ",";\n    background-color: ",";\n    border: "," "," solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover,\n    :focus,\n    :active {\n      border-color: ",";\n      color: ",";\n\n      i {\n        color: ",";\n      }\n    }\n  "])),n,c,t.colors.accentColor,t.dimensions.borderWidth,t.colors.backgroundColor2,t.colors.backgroundColor2,t.colors.backgroundColor2)})(e.active,e.theme));var t,n})),Ue=g.d.span((e=>Object(g.c)(We||(We=Object(p.a)(["\n    ","\n    ","\n  "])),e.left?"margin-right: 5px;":"",e.right?"margin-left: 5px;":"")));function De(e){const t=e.name,n=e.count,c=e.modifier,s=e.types,o=Object(j.b)(),r=Ne(t),a=n?"".concat(r," (").concat(Pe(n),")"):r,i=Object(j.c)(H);return Object(Y.jsx)("span",{onClick:e=>{var c;e.stopPropagation(),i[t]?o((c=new fe(t,s,n),{type:C,tag:c})):o(N(new fe(t,s,n)))},children:"-"===c?Object(Y.jsx)("s",{children:a}):a})}function Be(e){const t=e.name,n=e.count;return Object(Y.jsx)("div",{className:"alias",children:Object(Y.jsx)(De,{name:t,count:n})})}var Ge,Ve,Xe,qe,Je,Ke,Ye,Qe,Ze,$e,et,tt,nt,ct,st,ot,rt,at,it,lt,dt,bt=function(e){const t=e.name,n=e.count,c=e.modifier,s=e.types,o=e.loadAliases,r=Object(j.c)(H),a=Object(j.c)((i=t,e=>e.tags.aliases[i]));var i;const d=Ie(!0),b=Object(je.a)(d,3),u=b[0],h=b[1],O=b[2],g=Object(j.b)();Object(l.useEffect)((()=>{o&&r[t]&&me.getAliases(t).then((e=>{e.sort(((e,t)=>t.posts-e.posts));const n=e.filter((e=>!r[e.name])).map((e=>new fe(e.name,[],e.posts)));g(((e,t)=>({type:S,aliases:e,forTag:t}))(n,t))}))}),[o,t,r,g]);const p=Boolean(r[t]),m=o&&a&&a.length>0;return Object(Y.jsxs)(Fe,{active:p,collapsed:u,onMouseLeave:O,children:[Object(Y.jsx)(zt,{types:s,left:!0}),Object(Y.jsx)(De,{name:t,count:n,modifier:c,types:s}),m&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Ue,{right:!0,onClick:h,children:Object(Y.jsx)(ft,{})}),Object(Y.jsx)("div",{className:"dropdown-list"+(u?"":" visible"),children:a.map((({name:e,count:t})=>Object(Y.jsx)(Be,{name:e,count:t},"t_"+e)))})]})]})};const jt=g.d.i((e=>Object(g.c)(Ge||(Ge=Object(p.a)(["\n    color: ",";\n    min-width: ","px;\n    height: ","px;\n\n    ",":hover & {\n      color: ",";\n    }\n\n    ",":active & ,  ",":focus & {\n      color: ",";\n    }\n  "])),e.color,e.size,e.size,Fe,e.theme.colors.accentColor,Fe,Fe,e.theme.colors.backgroundColor2))),ut=g.d.svg((e=>Object(g.c)(Ve||(Ve=Object(p.a)(["\n    width: ","px;\n    height: ","px;\n  "])),e.size,e.size))),ht=g.d.span((e=>Object(g.c)(Xe||(Xe=Object(p.a)([""]))))),Ot=e=>{const t=e.icon,n=e.className,c=void 0===n?"":n,s=e.color,o=void 0===s?"black":s,r=e.size,a=void 0===r?14:r,i=e.onClick,l=void 0===i?Ae:i,d=e.left,b=void 0!==d&&d,j=e.right,u=void 0!==j&&j,h=e.prefix,O=void 0===h?"fas":h;return Object(Y.jsx)(ht,{onClick:l,left:b,right:u,children:Object(Y.jsx)(jt,{className:"".concat(O," ").concat(t," ").concat(c),color:o,size:a})})},gt=Object(g.d)(Ot).attrs({icon:"fa-user"})(qe||(qe=Object(p.a)([""]))),pt=Object(g.d)(Ot).attrs({icon:"fa-pen"})(Je||(Je=Object(p.a)([""]))),mt=Object(g.d)(Ot).attrs({icon:"fa-copyright"})(Ke||(Ke=Object(p.a)([""]))),xt=(Object(g.d)(Ot).attrs({icon:"fa-plus-circle"})(Ye||(Ye=Object(p.a)([""]))),Object(g.d)(Ot).attrs({icon:"fa-minus-circle"})(Qe||(Qe=Object(p.a)([""]))),Object(g.d)(Ot).attrs({icon:"fa-times"})(Ze||(Ze=Object(p.a)([""]))),Object(l.memo)(Object(g.d)(Ot).attrs({icon:"fa-expand"})($e||($e=Object(p.a)([""]))))),ft=Object(g.d)(Ot).attrs({icon:"fa-caret-down"})(et||(et=Object(p.a)([""]))),vt=Object(g.d)(Ot).attrs({icon:"fa-external-link-alt"})(tt||(tt=Object(p.a)([""]))),wt=Object(g.d)(Ot).attrs({icon:"fa-hashtag"})(nt||(nt=Object(p.a)([""]))),yt=Object(g.d)(Ot).attrs({icon:"fa-registered"})(ct||(ct=Object(p.a)([""]))),kt=Object(g.d)(Ot).attrs({icon:"fa-heart"})(st||(st=Object(p.a)([""]))),Ct=Object(g.d)(Ot).attrs({prefix:"fab",icon:"fa-twitter"})(ot||(ot=Object(p.a)([""]))),St=Object(g.d)(Ot).attrs({icon:"fa-link"})(rt||(rt=Object(p.a)([""]))),Tt=Object(l.memo)(Object(g.d)(Ot).attrs({icon:"fa-play"})(at||(at=Object(p.a)([""])))),_t=Object(l.memo)(Object(g.d)(Ot).attrs({icon:"fa-pause"})(it||(it=Object(p.a)([""])))),Rt=(Object(g.d)(Ot).attrs({icon:"fa-caret-down"})(lt||(lt=Object(p.a)([""]))),Object(g.d)(Ot).attrs({icon:"fa-caret-up"})(dt||(dt=Object(p.a)([""]))),e=>{const t=e.color,n=void 0===t?"black":t,c=e.size,s=void 0===c?14:c,o=e.onClick,r=void 0===o?Ae:o,a=e.left,i=void 0!==a&&a,l=e.right,d=void 0!==l&&l;return Object(Y.jsx)(ht,{onClick:r,left:i,right:d,children:Object(Y.jsx)(ut,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",size:s,children:Object(Y.jsx)("path",{fill:n,d:"M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z"})})})});function zt(e){const t=e.types,n=void 0===t?[]:t,c=e.className,s=void 0===c?"":c,o=e.onClick,r=void 0===o?Ae:o;switch(n.find((e=>!e.match(/^[general|ambiguous]$/)))){case"character":return Object(Y.jsx)(gt,{className:s,onClick:r});case"copyright":return Object(Y.jsx)(mt,{className:s,onClick:r});case"artist":return Object(Y.jsx)(pt,{className:s,onClick:r});default:return Object(Y.jsx)("div",{className:s})}}var Lt;const At=g.d.div((({theme:e})=>Object(g.c)(Lt||(Lt=Object(p.a)(["\n    display: grid;\n    grid-template-columns: 48px 1fr auto;\n    height: ",";\n    background: white;\n    align-items: center;\n\n    > :first-child {\n      text-align: center;\n    }\n\n    :focus {\n      text-decoration: underline;\n    }\n  "])),e.dimensions.blockHeight)));function Nt(e){const t=e.name,n=e.posts,c=e.types,s=e.onClick;return Object(Y.jsxs)(At,{onClick:s,children:[Object(Y.jsx)(zt,{types:c}),Object(Y.jsx)("span",{style:{flexGrow:1},children:Ne(t)}),Object(Y.jsxs)("span",{style:{paddingRight:5},children:[Pe(n)," posts"]})]})}var Pt,Et;const It=g.d.div((e=>Object(g.c)(Et||(Et=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    ",";\n    background: lightgrey;\n    gap: 1px;\n    box-sizing: border-box;\n    border: ","\n      "," solid;\n    border-top: none;\n    border-radius: 0 0 3px 3px;\n    color: black;\n    z-index: 1;\n  "])),function(e){if(e){const t=e.offsetTop,n=e.clientHeight,c=e.offsetLeft,s=e.clientWidth;return Object(g.c)(Pt||(Pt=Object(p.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n      max-height: 50vh;\n      overflow-y: scroll;\n    "])),t+n,c,s)}return""}(e.tagSelectorRef),e.theme.dimensions.borderWidth,e.theme.colors.accentColor)));function Mt(e){const t=e.tagSelectorRef,n=e.entries,c=e.onClick;return n&&n.length>0?Object(Y.jsx)(It,{tagSelectorRef:t,children:n.map((e=>Object(Y.jsx)(Nt,Object(be.a)({onClick:()=>c(e)},e),e.name)))}):null}var Ht,Wt,Ft;const Ut=g.d.div((e=>Object(g.c)(Ht||(Ht=Object(p.a)(["\n    display: flex;\n    background: white;\n    ","\n  "])),e.closed?Object(g.c)(Wt||(Wt=Object(p.a)(["\n          border-radius: ",";\n        "])),e.theme.dimensions.borderRadius):Object(g.c)(Ft||(Ft=Object(p.a)(["\n          border-radius: ","\n            "," 0 0;\n\n          > "," {\n            border-radius: 0 "," 0 0;\n          }\n\n          > "," {\n            border-radius: "," 0 0 0;\n          }\n        "])),e.theme.dimensions.borderRadius,e.theme.dimensions.borderRadius,w,e.theme.dimensions.borderRadius,y,e.theme.dimensions.borderRadius))));function Dt(){const e=Object(j.b)(),t=Object(l.useState)(""),n=Object(je.a)(t,2),c=n[0],s=n[1],o=Object(l.useState)("+"),r=Object(je.a)(o,2),a=r[0],i=r[1],d=Object(l.useState)([]),b=Object(je.a)(d,2),u=b[0],h=b[1],O=Object(j.c)(D).tagSuggestionsCount,g=Object(l.useState)(null),p=Object(je.a)(g,2),m=p[0],x=p[1],f=Object(l.useCallback)((({name:t,posts:n,types:c})=>{e(N(function(e){const t=e.name,n=e.types,c=e.count,s=e.modifier;return new fe(t,n,Number(c),s)}({name:t,types:c,modifier:a,count:n}))),s(""),h([])}),[e,a]);Object(l.useEffect)((()=>{const e=setTimeout((()=>{var e;c?me.getTags((e=c,e.toLowerCase().replace(/ /g,"_")),O).then((e=>{h(e)})):h([])}),300);return()=>clearTimeout(e)}),[O,c]);const v=Object(l.useCallback)((()=>i("+"===a?"-":"+")),[a,i]),k=Object(l.useCallback)((()=>{if(c&&""!==c.trim()){const e=u.find((e=>e.name===c))||{};f(Object(be.a)(Object(be.a)({},e),{},{name:c}))}}),[c,f,u]),C=Object(l.useCallback)((e=>f(e)),[f]);return Object(Y.jsxs)(Ut,{ref:x,closed:0===u.length,children:[Object(Y.jsx)(y,{onClick:v,"aria-label":"Tag Modifier",children:a}),Object(Y.jsx)(ye,{value:c,setValue:s}),Object(Y.jsx)(w,{onClick:k,"aria-label":"Add Tag",children:"Add"}),u.length>0&&Object(Y.jsx)(Mt,{tagSelectorRef:m,entries:u,onClick:C})]})}var Bt;const Gt=g.d.div((({theme:e})=>Object(g.c)(Bt||(Bt=Object(p.a)(["\n    display: flex;\n    align-items: center;\n    gap: ",";\n  "])),e.dimensions.spacing)));function Vt({children:e}){return Object(Y.jsx)(Gt,{children:e})}var Xt,qt;const Jt=g.d.div((e=>Object(g.c)(Xt||(Xt=Object(p.a)(["\n    border-radius: 30px;\n    width: 50px;\n    border: "," solid\n      ",";\n    background-color: ",";\n    transition: transform "," ease-in-out;\n  "])),e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.colors.backgroundColor,e.theme.timings.longTransitionTime))),Kt=g.d.div((e=>Object(g.c)(qt||(qt=Object(p.a)(["\n    width: 20px;\n    height: 20px;\n    background-color: ",";\n    border-radius: 50%;\n    transition: all 0.2s ease-in-out;\n    transform: translate(",");\n  "])),e.value?e.theme.colors.accentColor:e.theme.colors.backgroundColor2,e.value?"30px":"0px")));function Yt(e){const t=e.value,n=e.onToggle;return Object(Y.jsx)(Jt,{onClick:n,children:Object(Y.jsx)(Kt,{value:t})})}function Qt(e){const t=e.children,n=e.value,c=e.onToggle;return Object(Y.jsxs)(Vt,{children:[Object(Y.jsx)(Yt,{value:n,onToggle:c}),Object(Y.jsx)("span",{children:t})]})}var Zt,$t;const en=g.d.div((({theme:e})=>Object(g.c)(Zt||(Zt=Object(p.a)(["\n    display: grid;\n    gap: ",";\n  "])),e.dimensions.gutter))),tn=g.d.input((e=>Object(g.c)($t||($t=Object(p.a)(["\n    background: none;\n    border: none;\n    outline: none;\n    color: ",";\n    width: ","em;\n    text-align: right;\n    font-size: ",";\n    margin: -1px 0.2em 0 0.2em;\n\n    ::-webkit-inner-spin-button,\n    ::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n    -moz-appearance: textfield;\n  "])),e.theme.colors.accentColor,.65*String(e.value).length,e.theme.fontSizes.content)));function nn(){const e=Object(j.b)(),t=Object(j.c)(D),n=t.rated,c=t.ratedTreshold,s=Object(l.useState)(c),o=Object(je.a)(s,2),r=o[0],a=o[1],i=Object(l.useCallback)((()=>e(P(Se,!n))),[e,n]),d=Object(l.useCallback)((()=>e(P(Te,r))),[e,r]);return Object(Y.jsx)(en,{children:Object(Y.jsx)(Qt,{value:n,onToggle:i,children:n?Object(Y.jsxs)("div",{style:{display:"flex"},children:[Object(Y.jsx)("span",{children:"More than"}),Object(Y.jsx)(tn,{type:"number",value:r,onChange:e=>a(Number(e.target.value)),onBlur:d}),Object(Y.jsx)("span",{children:"likes"})]}):"Only show Rated Posts"})})}var cn;const sn=g.d.div((e=>Object(g.c)(cn||(cn=Object(p.a)(["\n    display: inline-flex;\n    flex-wrap: wrap;\n    margin: calc(\n      "," -\n        ","\n    );\n  "])),e.padding?e.theme.dimensions.gutter:"0px",e.theme.dimensions.spacing)));function on(e){const t=e.tags,n=e.loadAliases,c=void 0!==n&&n,s=e.padding,o=void 0!==s&&s;return Object(Y.jsx)("div",{children:Object(Y.jsx)(sn,{padding:o,children:Object.entries(t).map((([e,t])=>Object(Y.jsx)(bt,Object(be.a)(Object(be.a)({},t),{},{loadAliases:c}),e)))})})}function rn(e){const t=Object(g.f)();return Object(Y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 12.7 12.7",children:Object(Y.jsxs)("g",{transform:"translate(0,-284.3)",children:[Object(Y.jsx)("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:t.colors.accentColor,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),Object(Y.jsx)("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:t.colors.accentColor,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)",children:Object(Y.jsx)("tspan",{id:"tspan4531",x:"2",y:"289.1",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:t.colors.accentColor,fillOpacity:"1",children:"34"})})]})})}var an,ln;const dn=g.d.div((e=>Object(g.c)(an||(an=Object(p.a)(["\n    align-self: stretch;\n    height: 1px;\n    background: ",";\n  "])),e.theme.misc.layer))),bn=g.d.div((e=>Object(g.c)(ln||(ln=Object(p.a)(["\n    width: 1px;\n    align-self: stretch;\n    background: ",";\n  "])),e.theme.misc.layer)));var jn,un,hn,On;const gn=g.d.header((({theme:e})=>Object(g.c)(jn||(jn=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n  "])),e.dimensions.bigSpacing))),pn=g.d.div((({theme:e})=>Object(g.c)(un||(un=Object(p.a)(["\n    display: flex;\n    gap: ",";\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    padding: "," 0;\n    ",";\n  "])),e.dimensions.bigSpacing,e.misc.layer,e.dimensions.gutter,e.shadow.box))),mn=g.d.nav((({theme:e})=>Object(g.c)(hn||(hn=Object(p.a)(["\n    display: flex;\n    justify-content: center;\n    gap: ",";\n  "])),e.dimensions.bigSpacing))),xn=Object(g.d)(u.b)((({to:e,current:t,theme:n})=>Object(g.c)(On||(On=Object(p.a)(["\n    color: ",";\n  "])),e===t?n.colors.accentColor:n.colors.backgroundColor2)));function fn(){const e=Object(h.f)().pathname;return Object(Y.jsxs)(gn,{role:"cell",children:[Object(Y.jsxs)(pn,{children:[Object(Y.jsx)(rn,{size:32}),Object(Y.jsx)(bn,{}),Object(Y.jsxs)(ae,{children:["Browse ",Object(Y.jsx)("a",{href:"https://rule34.xxx",children:"Rule34"})]})]}),Object(Y.jsxs)(mn,{role:"cell",children:[Object(Y.jsx)(xn,{current:e,to:Ce.SEARCH,children:"Search"}),Object(Y.jsx)(xn,{current:e,to:Ce.HELP,children:"Help"}),Object(Y.jsx)(xn,{current:e,to:Ce.SETTINGS,children:"Settings"})]})]})}var vn,wn;const yn=g.d.footer((e=>Object(g.c)(vn||(vn=Object(p.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1px 1fr 1px 1fr;\n    justify-content: space-around;\n    padding: ",";\n  "])),e.theme.dimensions.spacing))),kn=g.d.a(wn||(wn=Object(p.a)(["\n  text-align: center;\n"])));function Cn(){return Object(Y.jsxs)(yn,{children:[Object(Y.jsx)(kn,{href:"https://github.com/kurozenzen/r34-react/issues/new?template=bug_report.md",children:"Report a bug"}),Object(Y.jsx)(bn,{}),Object(Y.jsx)(kn,{href:"https://github.com/kurozenzen/r34-react",children:"Github"}),Object(Y.jsx)(bn,{}),Object(Y.jsx)(kn,{href:"https://github.com/kurozenzen/r34-react/issues/new?template=feature_request.md",children:"Feature request"})]})}var Sn,Tn;const _n=g.d.div(Sn||(Sn=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n"])));var Rn=_n;const zn=Object(g.d)(_n)((({theme:e})=>Object(g.c)(Tn||(Tn=Object(p.a)(["\n    gap: ",";\n    padding: ",";\n  "])),e.dimensions.gutter,e.dimensions.gutter)));var Ln;const An=g.d.ol((({theme:e})=>Object(g.c)(Ln||(Ln=Object(p.a)(["\n    padding-left: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n  "])),e.dimensions.spacing)));function Nn(){return Object(Y.jsxs)(Rn,{children:[Object(Y.jsx)(fn,{}),Object(Y.jsxs)(zn,{children:[Object(Y.jsx)(re,{children:"Help"}),Object(Y.jsxs)(de,{children:[Object(Y.jsx)(re,{children:"Searching for Tags"}),Object(Y.jsx)(dn,{}),Object(Y.jsx)(Dt,{}),Object(Y.jsx)(dn,{}),Object(Y.jsx)("p",{children:"You can use the Tag Selector to look for tags you like.The Tag Selector has 4 parts."}),Object(Y.jsxs)(An,{children:[Object(Y.jsx)("li",{children:'The modifier (left) determines wether posts must match a tag or not. Putting "-" will hide all posts with this tag'}),Object(Y.jsx)("li",{children:"The Search Box (center) allows you to search for tags. As soon as you start typing the Tag Selector will show you relevant tags to choose from (4)."}),Object(Y.jsx)("li",{children:"The Add Button (right) Allows you to add any tag to the current filter. Usefull when using wildcards."}),Object(Y.jsx)("li",{children:"The Tag Dropdown (left) automatically shows tags that start with your input. It also includes The number of posts tagged, to allow you to weigh tags against each other."})]})]}),Object(Y.jsxs)(de,{children:[Object(Y.jsx)(re,{children:"Options"}),Object(Y.jsx)(dn,{}),Object(Y.jsx)(nn,{}),Object(Y.jsx)(dn,{}),Object(Y.jsx)("p",{children:"Options allow you to customize your experience in various ways. There are 3 options available"}),Object(Y.jsxs)(An,{children:[Object(Y.jsx)("li",{children:"Infinite Scrolling automatically loads new posts when you get close to the bottom of the page."}),Object(Y.jsx)("li",{children:"Only show Rated posts filters out posts below the specified amount of posts."}),Object(Y.jsx)("li",{children:"Load original sizes always loads the highest quality of an image. This can easily cause extreme data consumption. Don't use with mobile data."})]})]}),Object(Y.jsxs)(de,{children:[Object(Y.jsx)(re,{children:"Tags"}),Object(Y.jsx)(dn,{}),Object(Y.jsx)(on,{tags:{"Tag 1":{name:"Tag 1"},"Tag 2":{name:"Tag 2",types:["character"]},"Tag 3":{name:"Tag 3",modifier:"-",types:["copyright"],count:1020}}}),Object(Y.jsx)(dn,{}),Object(Y.jsx)("p",{children:"This whole application is based on tags. Every Post has multiple tags. Usually you can enable/disable a tag just by tapping it. If a tag is red it means its active. The icons next to the name show what type of tag it is. Not every tag has a type. The number on the right shows how many posts there are with that tag."})]})]}),Object(Y.jsx)(Cn,{})]})}var Pn=n(34);function En(e){const t=e.Header,n=e.items,c=void 0===n?[]:n,s=e.LoadingItem,o=e.hasMoreRows,r=e.ItemComponent,a=e.loadMore,i=e.OutOfItems,d=e.isLoading,b=e.setLoading,j=Object(l.useState)(null),u=Object(je.a)(j,2),h=u[0],O=u[1],g=Object(l.useMemo)((()=>new Pn.b({fixedWidth:!0})),[]),p=t?1:0,m=c.length+p+1,x=Object(l.useCallback)((({index:e})=>e<p+c.length+(o?0:1)),[o,c.length,p]);Object(l.useEffect)((()=>{if(h){const e=()=>{h.measureAllRows(),h.recomputeRowHeights(),h.forceUpdateGrid()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}}),[h]);const f=Object(l.useCallback)((({index:e,key:n,parent:a,style:l})=>Object(Y.jsx)(Pn.a,{cache:g,columnIndex:0,rowIndex:e,parent:a,children:({measure:n,registerChild:a})=>t&&e<p?Object(Y.jsx)(t,{style:l,virtualRef:a,onLoad:n}):e<p+c.length?Object(Y.jsx)(r,Object(be.a)({style:l,virtualRef:a,onLoad:n},c[e-p])):e<p+c.length+1?o||d?Object(Y.jsx)(s,{style:l,virtualRef:a,onLoad:n}):i&&c.length>0?Object(Y.jsx)(i,{style:l,virtualRef:a,onLoad:n}):Object(Y.jsx)("div",{}):(console.warn("index not found / out of bounds. INDEX:",e),null)},n)),[g,t,p,c,o,d,i]);return Object(Y.jsx)(Pn.c,{isRowLoaded:x,loadMoreRows:e=>d||!o?Promise.reject(0):(b(!0),a(),new Promise((e=>{setTimeout((()=>{b(!1),e(1)}),1e3)}))),rowCount:m,children:({onRowsRendered:e,registerChild:t})=>Object(Y.jsx)(Pn.d,{ref:e=>{O(e),t(e)},onRowsRendered:e,rowRenderer:f,deferredMeasurementCache:g,overscanRowCount:10,rowCount:c.length+p+1,rowHeight:g.rowHeight,width:window.innerWidth,height:window.innerHeight})})}function In(e){return Object(Y.jsxs)(Vt,{children:[Object(Y.jsx)(yt,{color:"white"}),Object(Y.jsx)("span",{children:e.value[0].toUpperCase()})]})}var Mn,Hn=e=>Object(Y.jsxs)(Vt,{children:[Object(Y.jsx)(kt,{color:"white"}),Object(Y.jsx)("span",{children:e.value})]});const Wn=g.d.a((e=>Object(g.c)(Mn||(Mn=Object(p.a)(["\n    color: "," !important;\n    display: flex;\n    gap: ",";\n  "])),e.color,e.theme.dimensions.spacing)));function Fn({value:e}){return e.startsWith("http")?e.includes("twitter")?Object(Y.jsx)(Bn,{value:e}):e.includes("pixiv")?Object(Y.jsx)(Gn,{value:e}):Object(Y.jsx)(Dn,{value:e}):Object(Y.jsx)(Un,{value:e})}const Un=({value:e})=>Object(Y.jsxs)(Vt,{children:[Object(Y.jsx)(wt,{color:"white",left:!0}),Object(Y.jsx)("span",{children:e})]}),Dn=({value:e})=>Object(Y.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"source",children:[Object(Y.jsx)(St,{color:"red",left:!0}),Ee(e)]}),Bn=({value:e})=>Object(Y.jsxs)(Wn,{href:e,target:"_blank",rel:"noopener noreferrer",className:"source",color:"rgb(29, 161, 242)",children:[Object(Y.jsx)(Ct,{color:"rgb(29, 161, 242)",left:!0}),e.split("twitter.com/")[1].split(" ")[0].split("?")[0].split("/")[0]]}),Gn=({value:e})=>Object(Y.jsxs)(Wn,{href:e,target:"_blank",rel:"noopener noreferrer",className:"source",color:"rgb(29, 161, 242)",children:[Object(Y.jsx)(Rt,{color:"rgb(29, 161, 242)",left:!0}),Object(Y.jsx)("span",{children:"Pixiv"})]});var Vn,Xn;const qn=g.d.div((({theme:{dimensions:e,misc:t,shadow:n}})=>Object(g.c)(Vn||(Vn=Object(p.a)(["\n    grid-row: 2/3;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    background: ",";\n    padding: ",";\n    ",";\n    border-radius: 0 0 "," ",";\n  "])),t.layer,e.bigSpacing,n.box,e.borderRadius,e.borderRadius))),Jn=Object(g.d)(on)(Xn||(Xn=Object(p.a)(["\n  grid-row: 3/4;\n"])));function Kn(e){const t=e.rating,n=e.score,c=e.source,s=e.tags,o=Object(l.useMemo)((()=>{return e="name",s.reduce(((t,n)=>(t[n[e]]=n,t)),{});var e}),[s]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(qn,{children:[!!t&&Object(Y.jsx)(In,{value:t}),!!n&&Object(Y.jsx)(Hn,{value:n}),!!c&&Object(Y.jsx)(Fn,{value:c})]}),Object(Y.jsx)(Jn,{tags:o,padding:!0,loadAliases:!1})]})}var Yn;var Qn,Zn=g.d.video(Yn||(Yn=Object(p.a)(["\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: contain;\n  grid-area: 1/1/2/2;\n"])));const $n=Object(g.e)(Qn||(Qn=Object(p.a)(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n"])));var ec,tc,nc,cc,sc,oc,rc;const ac=g.d.div((e=>Object(g.c)(ec||(ec=Object(p.a)(["\n    grid-area: 1/1/2/2;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: auto 1fr auto auto;\n    z-index: 1;\n\n    ",";\n  "])),e.isVisible?"":Object(g.c)(tc||(tc=Object(p.a)(["\n          opacity: 0;\n          animation: "," 0.4s ease-in-out;\n        "])),$n)))),ic=g.d.div((e=>Object(g.c)(nc||(nc=Object(p.a)(["\n    grid-area: 4/1/4/4;\n    height: 5px;\n    background-color: ",";\n  "])),e.theme.colors.accentColor))),lc=Object(g.d)(x)((e=>Object(g.c)(cc||(cc=Object(p.a)(["\n    width: max-content;\n    height: max-content;\n    padding: ",";\n  "])),e.theme.dimensions.bigSpacing))),dc=Object(g.d)(lc)(sc||(sc=Object(p.a)(["\n  grid-area: 1/1/2/2;\n  place-self: start start;\n"]))),bc=Object(g.d)(lc)(oc||(oc=Object(p.a)(["\n  grid-area: 3/1/4/1;\n  place-self: end start;\n"]))),jc=Object(g.d)(lc)(rc||(rc=Object(p.a)(["\n  grid-area: 2/2/3/3;\n  place-self: center center;\n"])));var uc=function(e){const t=e.onFullscreen,n=void 0===t?Ae:t,c=e.togglePlay,s=void 0===c?Ae:c,o=e.isPaused,r=void 0===o||o,a=e.isPlayable,i=void 0!==a&&a,l=e.currentTime,d=void 0===l?0:l,b=e.duration,j=void 0===b?null:b,u=e.externalSrc,h=Ie(),O=Object(je.a)(h,2),g=O[0],p=O[1];return Object(Y.jsxs)(ac,{isVisible:r||g,onClick:p,children:[n&&Object(Y.jsx)(dc,{onClick:n,"aria-label":"Open Fullscreen",children:Object(Y.jsx)(xt,{color:"white"})}),Object(Y.jsx)(bc,{children:Object(Y.jsx)("a",{href:u,target:"_blank",rel:"noopener noreferrer","aria-label":"Open In New Tab",children:Object(Y.jsx)(vt,{color:"white"})})}),i&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(jc,{onClick:s,"aria-label":"Play/Pause",children:r?Object(Y.jsx)(Tt,{color:"white",size:50}):Object(Y.jsx)(_t,{color:"white",size:50})}),!!j&&!!d&&Object(Y.jsx)(ic,{style:{width:"".concat(d/j*100,"%")}})]})]})};function hc(e){const t=e.src,n=e.onLoad,c=e.externalSrc,s=Object(l.useState)(null),o=Object(je.a)(s,2),r=o[0],a=o[1],i=Object(l.useState)(Date.now()),d=Object(je.a)(i,2)[1],b=Object(l.useState)(null),u=Object(je.a)(b,2),h=u[0],O=u[1],g=Object(l.useCallback)((()=>{r&&r.play();const e=setInterval((()=>{d(Date.now())}),34);O(e)}),[r]),p=Object(l.useCallback)((()=>{r&&r.pause(),clearInterval(h),O(null)}),[r,h]),m=Object(l.useCallback)((e=>{e.stopPropagation(),r&&r.requestFullscreen()}),[r]),x=Object(l.useCallback)((e=>{e.stopPropagation(),r&&(r.paused?g():p())}),[r,g,p]),f=Object(j.c)(D).preloadVideos;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Zn,{controls:!1,loop:!0,preload:f?"auto":"metadata",ref:a,onLoadedMetadata:n,children:Object(Y.jsx)("source",{src:t})}),Object(Y.jsx)(uc,{isPaused:!r||r.paused,currentTime:r?r.currentTime:void 0,duration:r?r.duration:void 0,onFullscreen:m,togglePlay:x,externalSrc:c,isPlayable:!0})]})}var Oc;var gc=g.d.img(Oc||(Oc=Object(p.a)(["\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: contain;\n  grid-area: 1/1/2/2;\n"])));function pc(e){const t=e.src,n=e.thumbnail_src,c=e.onLoad,s=e.externalSrc,o=Object(l.useState)(!0),r=Object(je.a)(o,2),a=r[0],i=r[1],d=a?n:t;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(gc,{src:d,alt:d,loading:"lazy",onLoad:c}),Object(Y.jsx)(uc,{isPlayable:!0,isPaused:a,togglePlay:e=>{e.stopPropagation(),i(!a)},externalSrc:s})]})}function mc(e){const t=e.src,n=e.onLoad,c=e.externalSrc;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(gc,{src:t,alt:t,onLoad:n,loading:"lazy"}),Object(Y.jsx)(uc,{isPlayable:!1,externalSrc:c})]})}const xc=(e,t)=>{switch(((e,t)=>e===ke?ke:t.includes(".gif")?"gif":"picture")(e,t)){case ke:return hc;case"gif":return pc;default:return mc}};function fc(e){const t=e.type,n=e.src,c=e.thumbnail_src,s=e.onLoad,o=new URL(n).searchParams.get("url")||"",r=Object(l.useMemo)((()=>{const e=xc(t,n);return Object(Y.jsx)(e,{src:n,thumbnail_src:c,onLoad:s,externalSrc:o})}),[t,n,c,s,o]);return Object(Y.jsx)(Y.Fragment,{children:r})}var vc,wc,yc;const kc=g.d.div((({theme:e})=>Object(g.c)(vc||(vc=Object(p.a)(["\n    padding-top: ",";\n  "])),e.dimensions.gutter))),Cc=g.d.div((({theme:e})=>Object(g.c)(wc||(wc=Object(p.a)(["\n    padding: 0 ",";\n    width: 100%;\n    max-width: ",";\n    margin: auto;\n  "])),e.dimensions.gutter,e.dimensions.bodyWidth))),Sc=g.d.div((({theme:e})=>Object(g.c)(yc||(yc=Object(p.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: auto auto auto;\n    border-radius: ",";\n    overflow: hidden;\n    background: ",";\n  "])),e.dimensions.borderRadius,e.misc.layer)));function Tc(e){const t=e.media_type,n=e.small_src,c=e.big_src,s=e.thumbnail_src,o=e.rating,r=e.score,a=e.source,i=e.tags,d=e.style,b=e.onLoad,u=e.virtualRef,h=function(e,t,n){return e?t:n}(Object(j.c)(B),c,n),O=Object(l.useState)(!0),g=Object(je.a)(O,2),p=g[0],m=g[1],x=Object(l.useCallback)((()=>{m(!p),setTimeout(b,100)}),[p,b]),f=Object(l.useMemo)((()=>Object(Y.jsx)(Kn,{rating:o,score:r,source:a,tags:i})),[o,r,a,i]);return Object(Y.jsx)(kc,{style:d,ref:u,className:"list-div",children:Object(Y.jsx)(Cc,{children:Object(Y.jsxs)(Sc,{onClick:x,role:"row",children:[Object(Y.jsx)(fc,{onLoad:b,type:t,src:h,thumbnail_src:s}),!p&&f]})})})}function _c(){const e=q(E);return Object(Y.jsx)(v,{onClick:e,"aria-label":"Search",children:"Search"})}function Rc({onChange:e}){const t=Object(j.c)(H);return Object(l.useEffect)((()=>{e()}),[e,t]),Object.keys(t).length>0?Object(Y.jsx)(on,{tags:t,loadAliases:!0}):null}var zc;const Lc=g.d.section((({theme:e})=>Object(g.c)(zc||(zc=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    padding: ",";\n    width: 100%;\n    max-width: ",";\n    margin: auto;\n  "])),e.dimensions.gutter,e.dimensions.gutter,e.dimensions.bodyWidth)));function Ac(e){const t=e.onLoad;return Object(Y.jsxs)(Lc,{children:[Object(Y.jsx)(re,{children:Object(Y.jsx)("label",{htmlFor:"tag-input",children:"Search"})}),Object(Y.jsxs)(de,{children:[Object(Y.jsx)(Dt,{}),Object(Y.jsx)(Rc,{onChange:t}),Object(Y.jsx)(nn,{}),Object(Y.jsx)(_c,{})]})]})}function Nc({onLoad:e,virtualRef:t,style:n}){const c=Ie(),s=Object(je.a)(c,2),o=s[0],r=s[1],a=Object(j.c)(F);return Object(l.useEffect)((()=>{a>0&&e()}),[a,e]),Object(Y.jsxs)("div",{onLoad:e,ref:t,style:n,role:"row",children:[Object(Y.jsx)(fn,{}),Object(Y.jsx)(Ac,{onLoad:e}),a>0&&Object(Y.jsx)(re,{onClick:r,children:(o?a.toLocaleString():Pe(a))+" results"})]})}var Pc,Ec=n.p+"static/media/OutOfResults.9c71691c.png";function Ic({onLoad:e,virtualRef:t,style:n}){const c=Object(j.c)(V),s=Object(l.useMemo)((()=>c.reduce(((e,t)=>(e[t.name]=t,e)),{})),[c]);return Object(Y.jsx)("div",{style:n,ref:t,onLoad:e,role:"row",children:Object(Y.jsxs)(de,{children:[Object(Y.jsx)("img",{src:Ec,alt:Ec,style:{width:"100%"}}),Object(Y.jsx)(dn,{}),Object(Y.jsx)(re,{children:"You have reached the end!"}),Object(Y.jsx)("p",{style:{textAlign:"center"},children:"Go look for something else!"}),c.length>0&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("p",{style:{textAlign:"center"},children:"How about some of these?"}),Object(Y.jsx)(on,{tags:s,padding:!0})]})]})})}const Mc=g.d.svg((({theme:e})=>Object(g.c)(Pc||(Pc=Object(p.a)(["\n    height: ",";\n    padding: ",";\n  "])),e.dimensions.blockHeight,e.dimensions.bigSpacing)));function Hc(){return Object(Y.jsxs)(Mc,{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 50 20","enable-background":"new 0 0 0 0",xmlSpace:"preserve",children:[Object(Y.jsx)("circle",{fill:"#fff",stroke:"none",cx:"6",cy:"10",r:"6",children:Object(Y.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})}),Object(Y.jsx)("circle",{fill:"#fff",stroke:"none",cx:"26",cy:"10",r:"6",children:Object(Y.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})}),Object(Y.jsx)("circle",{fill:"#fff",stroke:"none",cx:"46",cy:"10",r:"6",children:Object(Y.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"})})]})}var Wc;const Fc=g.d.div(Wc||(Wc=Object(p.a)(["\n  display: grid;\n  place-items: center;\n"])));function Uc({onLoad:e,virtualRef:t,style:n}){return Object(Y.jsx)(Fc,{onLoad:e,ref:t,style:n,role:"row",children:Object(Y.jsx)(Hc,{})})}function Dc(){const e=Object(j.c)(W),t=!Object(j.c)(X),n=q(I),c=Object(l.useState)(!1),s=Object(je.a)(c,2),o=s[0],r=s[1];return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(En,{Header:Nc,OutOfItems:Ic,items:e,LoadingItem:Uc,hasMoreRows:t,ItemComponent:Tc,loadMore:n,isLoading:o,setLoading:r})})}var Bc,Gc,Vc,Xc;const qc=g.d.div((({theme:e})=>Object(g.c)(Bc||(Bc=Object(p.a)(["\n    display: grid;\n    grid-template-columns: 1fr auto;\n    grid-template-rows: auto auto;\n    gap: ",";\n  "])),e.dimensions.spacing))),Jc=Object(g.d)(ie)((({theme:e})=>Object(g.c)(Gc||(Gc=Object(p.a)(["\n    grid-column: 1/2;\n    grid-row: 1/2;\n  "]))))),Kc=g.d.p((({theme:e})=>Object(g.c)(Vc||(Vc=Object(p.a)(["\n    grid-column: 1/2;\n    grid-row: 2/3;\n    opacity: 0.5;\n  "]))))),Yc=g.d.div((({theme:e})=>Object(g.c)(Xc||(Xc=Object(p.a)(["\n    grid-column: 2/3;\n    grid-row: 1/3;\n  "])))));function Qc({title:e,description:t,children:n}){return Object(Y.jsxs)(qc,{children:[Object(Y.jsx)(Jc,{children:e}),Object(Y.jsx)(Kc,{children:t}),Object(Y.jsx)(Yc,{children:n})]})}var Zc;const $c=g.d.input((({theme:e})=>Object(g.c)(Zc||(Zc=Object(p.a)(["\n    width: 50px;\n    border: "," solid ",";\n    background-color: ",";\n    padding: ",";\n    border-radius: ",";\n    text-align: center;\n  "])),e.dimensions.borderWidth,e.colors.accentColor,e.colors.backgroundColor2,e.dimensions.spacing,e.dimensions.borderRadius)));function es({type:e,value:t,onChange:n}){return Object(Y.jsx)($c,{type:e,value:t,onChange:n})}function ts(){const e=Object(j.b)(),t=Object(j.c)(D),n=t.preloadVideos,c=t.tagSuggestionsCount,s=t.originals,o=Object(l.useCallback)((()=>e(P(ze,!n))),[e,n]),r=Object(l.useCallback)((()=>e(P(_e,!s))),[e,s]),a=Object(l.useCallback)((t=>e(P(Le,t.target.value))),[e]),i=Object(l.useCallback)((()=>{localStorage.clear(),window.location.reload()}),[]);return Object(Y.jsxs)(Rn,{children:[Object(Y.jsx)(fn,{}),Object(Y.jsxs)(zn,{children:[Object(Y.jsx)(re,{children:"Settings"}),Object(Y.jsxs)(de,{children:[Object(Y.jsx)(re,{children:"General"}),Object(Y.jsx)(dn,{}),Object(Y.jsx)(Qc,{title:"Preload Videos",description:"Start loading videos immediately instead of just-in-time. This can improve the viewing experience but will consume a LOT of data. Only use with WIFI.",children:Object(Y.jsx)(Yt,{value:n,onToggle:o})}),Object(Y.jsx)(Qc,{title:"Load original sizes",description:"Display images and videos at their original resolution. This will consume more data but provides a nicer experience.",children:Object(Y.jsx)(Yt,{value:s,onToggle:r})}),Object(Y.jsx)(Qc,{title:"Number of Tag suggestions",description:"Controls the number of tags displayed when searching. Increase this when searching for niche tags.",children:Object(Y.jsx)(es,{type:"number",value:c,onChange:a})}),Object(Y.jsx)(re,{children:"Developer"}),Object(Y.jsx)(dn,{}),Object(Y.jsx)(v,{onClick:i,children:"Reset Application"})]})]}),Object(Y.jsx)(Cn,{})]})}var ns=n(23),cs=n(44),ss=n(55),os=n.n(ss),rs=n(27);const as={infinite:!0,rated:!1,ratedTreshold:1,originals:!1,cookies:!1,preloadVideos:!1,tagSuggestionsCount:20},is=(e,t,n)=>Object(rs.a)(e,(e=>{switch(t){case"infinite":e.infinite=n;break;case Se:e.rated=n;break;case Te:e.ratedTreshold=n;break;case _e:e.originals=n;break;case Re:e.cookies=n;break;case ze:e.preloadVideos=n;break;case Le:e.tagSuggestionsCount=n}}));var ls=(e=as,t)=>{switch(t.type){case R:return is(e,t.key,t.value);case A:return is(e,Re,t.value);default:return e}};const ds={posts:[],pageNumber:0,count:0};var bs=(e=ds,t)=>{switch(t.type){case T:return((e,t)=>Object(rs.a)(e,(n=>{n.posts=[...e.posts,...t],n.pageNumber=e.pageNumber+1,window.posts=n.posts})))(e,t.posts);case _:return((e,t,n)=>Object(rs.a)(e,(e=>{e.posts=t,e.count=Number(n),e.pageNumber=0,window.posts=e.posts})))(e,t.posts,t.count);default:return e}};const js={active:{},aliases:{}};var us=(e=js,t)=>{switch(t.type){case k:return((e,t)=>Object(rs.a)(e,(n=>{n.active[t.name]=Object(be.a)(Object(be.a)({},e.active[t.name]),t)})))(e,t.tag);case C:return((e,t)=>Object(rs.a)(e,(e=>{delete e.active[t.name],delete e.aliases[t.name]})))(e,t.tag);case S:return((e,t,n)=>Object(rs.a)(e,(e=>{e.aliases[n]=t})))(e,t.aliases,t.forTag);default:return e}},hs=Object(ns.combineReducers)({tags:us,results:bs,preferences:ls}),Os=n(56);n(84);const gs={apiKey:"AIzaSyBHdepwE7M4Byu2lFtX2s__9COcMdvXu7Q",authDomain:"r34-react.firebaseapp.com",databaseURL:"https://r34-react.firebaseio.com",projectId:"r34-react",storageBucket:"r34-react.appspot.com",messagingSenderId:"844749417844",appId:"1:844749417844:web:11fa1fda0e14f1ac2dd021",measurementId:"G-27J3QXZ8YR"};let ps,ms;var xs=e=>t=>n=>{if(G(e.getState())){if(ps||(ps=Os.a.initializeApp(gs),ms=ps.analytics()),n.type===k){const e={id:"r34_add_tag",payload:{name:(c=n.tag).name,modifier:c.modifier}},t=e.id,s=e.payload;ms.logEvent(t,s)}if(n.type===T||n.type===_){const t=H(e.getState()),c=U(e.getState()),s=D(e.getState()),o=((e,t,n)=>({id:"r34_search",payload:{active_tags:Object.values(e).map((e=>"".concat(e.modifier).concat(e.name))).sort(),page_number:t,preferences:n}}))(t,n.type===_?0:c+1,s),r=o.id,a=o.payload;ms.logEvent(r,a)}}var c;t(n)};var fs=e=>t=>n=>{if(n.type===z){const t=H(e.getState()),n=D(e.getState()),c=n.rated,s=n.ratedTreshold;me.getPosts(t,0,c?s:0).then((t=>{var n,c;e.dispatch((n=t.posts.map(ve),c=t.count,{type:_,posts:n,count:c}))}))}const c=X(e.getState());if(n.type===L&&!c){const t=H(e.getState()),n=U(e.getState()),c=D(e.getState()),s=c.rated,o=c.ratedTreshold;me.getPosts(t,n+1,s?o:0).then((t=>{var n;e.dispatch((n=t.posts.map(ve),{type:T,posts:n}))}))}t(n)},vs=n(58);const ws={key:"appstate",storage:os.a,blacklist:["results"]},ys=Object(cs.a)(ws,hs),ks=Object(ns.createStore)(ys,Object(vs.composeWithDevTools)(Object(ns.applyMiddleware)(xs,fs))),Cs=Object(cs.b)(ks);function Ss(){return Object(Y.jsx)(j.a,{store:ks,children:Object(Y.jsx)(O.a,{loading:null,persistor:Cs,children:Object(Y.jsxs)(g.a,{theme:oe,children:[Object(Y.jsx)(te,{}),Object(Y.jsxs)(u.a,{children:[Object(Y.jsxs)(h.c,{children:[Object(Y.jsx)(h.a,{path:Ce.HELP,children:Object(Y.jsx)(Nn,{})}),Object(Y.jsx)(h.a,{path:Ce.SETTINGS,children:Object(Y.jsx)(ts,{})}),Object(Y.jsx)(h.a,{path:Ce.SEARCH,children:Object(Y.jsx)(Dc,{})})]}),Object(Y.jsx)($,{})]})]})})})}b.a.render(Object(Y.jsx)(Ss,{}),document.getElementById("app-root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.c65d5532.chunk.js.map