(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{10:function(e,t,n){e.exports=n.p+"static/media/OutOfResults.00a98fae.png"},21:function(e,t,n){e.exports=n(37)},26:function(e,t,n){},31:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),i=(n(26),n(3)),s=n(2),l=n(1);function u(){const e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: lighter;\n  text-align: center;\n  margin: 0;\n"]);return u=function(){return e},e}function m(){const e=Object(s.a)(["\n  font-size: 24px;\n  font-weight: lighter;\n  margin: 0;\n  text-align: center;\n"]);return m=function(){return e},e}var p=l.b.h2(m());const d=l.b.h1(u()),f="#ffffff11; :hover { background: #ffffff16;} transition: background-color 0.4s ease-in-out",b="box-shadow: 0 0 8px #000";function g(){const e=Object(s.a)(["\n  width: 100%;\n  height: 1px;\n  background: ",";\n"]);return g=function(){return e},e}function h(){const e=Object(s.a)(["\n  padding: ",";\n  background: ",";\n  ",";\n  border-radius: ",";\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return h=function(){return e},e}var E=l.b.div(h(),"8px",f,b,"3px","8px");const O=l.b.div(g(),f);var x=n(20),y=n(5),v=n.n(y),j=n(6);let w="https://r34-json.herokuapp.com";fetch(w).catch(()=>w="https://r34-api-clone.herokuapp.com");var k={getTags:e=>Object(j.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(w+"/tags?limit=20&name="+e+"*&order_by=posts");case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))(),getPosts:(e,t=0,n=0)=>Object(j.a)(v.a.mark((function a(){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(T(t,e,n));case 2:return r=a.sent,a.next=5,r.json();case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))(),getAliases:e=>Object(j.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(w+"/alias/"+e);case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()};function T(e,t,n){let a=w+"/posts";return a+="?pid="+e,a+="&limit=20",a+="&tags="+t.map(e=>("-"===e.modifier?"-":"")+encodeURIComponent(e.name)).join("+"),n>0&&(a+="+"+encodeURIComponent("score:>="+n)),a}class S{constructor(e,t,n,a,r,c,o,i,s,l,u,m,p,d,f,b,g,h,E,O,x){this.id=e,this.score=t,this.rating=n,this.source=a,this.tags=r,this.media_type=c,this.small_src=o,this.big_src=i,this.thumbnail_src=s,this.width=l,this.height=u,this.creator_id=m,this.creator_url=p,this.status=d,this.parent_id=f,this.has_children=b,this.has_comments=g,this.comments_url=h,this.has_notes=E,this.created_at=O,this.change=x}}class _{constructor(e,t=[],n,a="+"){this.name=e,this.types=t,this.count=n,this.modifier=a}}var C=function(e){return e.name?function({name:e,types:t,count:n,modifier:a}){return new _(e,t,Number(n),a)}(e):function(e){const t=e.id,n=e.type,a=e.score,r=e.rating,c=e.source,o=e.tags,i=e.file_url,s=e.width,l=e.height,u=e.creator_id,m=e.creator_url,p=e.sample_url,d=e.preview_url,f=e.status,b=e.parent_id,g=e.has_children,h=e.has_comments,E=e.comments_url,O=e.has_notes,x=e.created_at,y=e.change;return new S(Number(t),Number(a),r,c,o?o.map(e=>new _(e)):[],n,p,i,d,Number(s),Number(l),Number(u),m,f,b,g,h,E,O,x,y)}(e)};function P(){const e=Object(s.a)(["\n  min-width: 48px;\n  border: "," "," solid;\n  border-right-width: 0;\n  border-radius: "," 0 0 ",";\n"]);return P=function(){return e},e}function N(){const e=Object(s.a)(["\n  border-left-width: 0;\n  border-radius: 0 "," "," 0;\n"]);return N=function(){return e},e}function z(){const e=Object(s.a)(["\n  width: 100%;\n  border-radius: ",";\n"]);return z=function(){return e},e}function D(){const e=Object(s.a)(["\n  height: 32px;\n  font-size: 14px;\n  color: ",";\n  background: ",";\n  border: "," "," solid;\n\n  transition: border-color 0.4s ease-in-out;\n  transition: color 0.4s ease-in-out;\n  transition: background-color 0.4s ease-in-out;\n\n  :hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  :active,\n  :focus {\n    color: ",";\n\n    border-color: ",";\n    cursor: pointer;\n  }\n"]);return D=function(){return e},e}function A(){const e=Object(s.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  filter: drop-shadow(0 0 10px black);\n"]);return A=function(){return e},e}function F(){const e=Object(s.a)(["\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  margin: 10px;\n  padding: 5px 5px;\n  filter: drop-shadow(0 0 10px black);\n"]);return F=function(){return e},e}function I(){const e=Object(s.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 10px;\n  padding: 5px 5px;\n  filter: drop-shadow(0 0 10px black);\n"]);return I=function(){return e},e}function V(){const e=Object(s.a)(["\n  color: ",";\n"]);return V=function(){return e},e}function R(){const e=Object(s.a)(["\n  background: none;\n  border: none;\n  padding: ",";\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return R=function(){return e},e}function G(){const e=Object(s.a)(["\n  font-size: 14px;\n\n  :focus {\n    outline: none;\n  }\n"]);return G=function(){return e},e}const M=l.b.button(G()),L=Object(l.b)(M)(R(),"4px"),U=Object(l.b)(L)(V(),({active:e})=>e?"crimson":"white"),q=Object(l.b)(L)(I()),B=Object(l.b)(L)(F()),W=Object(l.b)(L)(A()),H=Object(l.b)(M)(D(),"crimson","#121212","crimson","2px","crimson","#121212","white","white"),J=Object(l.b)(H)(z(),"3px"),K=Object(l.b)(H)(N(),"3px","3px"),Y=Object(l.b)(L)(P(),"crimson","2px","3px","3px");function $({type:e,children:t,onClick:n,active:a,disabled:c,label:o}){const i=(e=>{switch(e){case"invisible":return L;case"block":return J;case"topLeft":return q;case"bottomLeft":return B;case"center":return W;case"modifier":return Y;case"add":return K;case"menu":return U;default:return H}})(e);return r.a.createElement(i,{onClick:n,active:a,disabled:c,"aria-label":o},t)}function Q(){const e=Object(s.a)(["\n  width: 100%;\n  border: none;\n  outline: none;\n  background: none;\n  font-size: 14px;\n  border-top: "," "," solid;\n  border-bottom: "," "," solid;\n"]);return Q=function(){return e},e}const X=l.b.input(Q(),"crimson","2px","crimson","2px");function Z({value:e,setValue:t}){return r.a.createElement(X,{id:"tag-input",value:e,onChange:e=>t(e.target.value),placeholder:"Search for tags","aria-label":"Search"})}n(31);function ee(e){return e.replace(/_/g," ")}function te(e){const t=Number(e);return t>=1e6?"".concat((t/1e6).toFixed(0),"M"):t>=1e3?"".concat((t/1e3).toFixed(0),"K"):t}function ne(){const e=Object(s.a)(["\n  ","\n  ","\n"]);return ne=function(){return e},e}function ae(){const e=Object(s.a)(["\n  display: inline-block;\n  padding: 0.25rem;\n  border-radius: ","\n  font-size: 14px;\n  line-height: 1.2;\n  vertical-align: baseline;\n  margin: ",";\n  ","\n"]);return ae=function(){return e},e}const re=l.b.div(ae(),({collapsed:e})=>e?"3px":"".concat("3px"," ").concat("3px"," 0 0"),()=>"4px",({active:e})=>{const t=e?"#121212":"crimson",n=e?"crimson":"#121212";return"\n    color: ".concat(t,";\n    background-color: ").concat(n,";\n    border: ").concat("crimson"," ").concat("2px"," solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover {\n      background-color: ").concat(t,";\n      color: ").concat(n,";\n      \n      i {\n        color: ").concat(n,";\n      }\n    }\n\n    :focus, :active {\n      color: ").concat("white",";\n      border-color: ").concat("white","\n    }\n  ")}),ce=l.b.span(ne(),({left:e})=>e?"margin-right: 5px;":"",({right:e})=>e?"margin-left: 5px;":"");function oe({name:e,count:t,modifier:n,types:c,activeTags:o,loadAliases:s,dispatch:l}){const u=Object(a.useState)(),m=Object(i.a)(u,2),p=m[0],d=m[1],f=Object(a.useState)(!0),b=Object(i.a)(f,2),g=b[0],h=b[1];Object(a.useEffect)(()=>{o.some(t=>t.name===e)&&k.getAliases(e).then(e=>{e.sort((e,t)=>Number(t.posts)-Number(e.posts)),d(e.filter(e=>!o.some(t=>t.name===e.name)))})},[e,o]);const E=o.some(t=>t.name===e),O=s&&p&&p.length>0;return r.a.createElement(re,{active:E,collapsed:g,onMouseLeave:()=>h(!0),tabIndex:"0"},r.a.createElement(We,{types:c,left:!0}),r.a.createElement(ie,{name:e,count:t,modifier:n,types:c,activeTags:o,dispatch:l}),O&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{right:!0,onClick:()=>h(!g)},r.a.createElement(Fe,null)),r.a.createElement("div",{className:"dropdown-list"+(g?"":" visible")},p.map(({name:e,posts:t})=>r.a.createElement(se,{key:"t_"+e,name:e,count:t,dispatch:l})))))}function ie({name:e,count:t,types:n,modifier:a,dispatch:c}){const o=ee(e),i=t?"".concat(o," (").concat(te(t),")"):o;return r.a.createElement("span",{onClick:()=>c({type:"TOGGLE_TAG",tag:{name:e,count:t,types:n,modifier:a}}),onKeyDown:r=>32===r.keyCode&&c({type:"TOGGLE_TAG",tag:{name:e,count:t,types:n,modifier:a}})},"-"===a?r.a.createElement("s",null,i):i)}function se({name:e,count:t,dispatch:n}){return r.a.createElement("div",{className:"alias"},r.a.createElement(ie,{name:e,count:t,dispatch:n}))}oe.defaultProps={types:[],onClick:()=>{}},ie.defaultProps={modifier:"+",types:[],activeTags:[],onClick:()=>{}};var le=oe;function ue(){const e=Object(s.a)([""]);return ue=function(){return e},e}function me(){const e=Object(s.a)([""]);return me=function(){return e},e}function pe(){const e=Object(s.a)([""]);return pe=function(){return e},e}function de(){const e=Object(s.a)([""]);return de=function(){return e},e}function fe(){const e=Object(s.a)([""]);return fe=function(){return e},e}function be(){const e=Object(s.a)([""]);return be=function(){return e},e}function ge(){const e=Object(s.a)([""]);return ge=function(){return e},e}function he(){const e=Object(s.a)([""]);return he=function(){return e},e}function Ee(){const e=Object(s.a)([""]);return Ee=function(){return e},e}function Oe(){const e=Object(s.a)([""]);return Oe=function(){return e},e}function xe(){const e=Object(s.a)([""]);return xe=function(){return e},e}function ye(){const e=Object(s.a)([""]);return ye=function(){return e},e}function ve(){const e=Object(s.a)([""]);return ve=function(){return e},e}function je(){const e=Object(s.a)([""]);return je=function(){return e},e}function we(){const e=Object(s.a)([""]);return we=function(){return e},e}function ke(){const e=Object(s.a)([""]);return ke=function(){return e},e}function Te(){const e=Object(s.a)(["\n  line-height: 16px;\n  ","\n  ","\n"]);return Te=function(){return e},e}function Se(){const e=Object(s.a)(["\n  ","\n"]);return Se=function(){return e},e}const _e=l.b.i(Se(),({color:e,size:t})=>"\n    color: ".concat(e,";\n    min-width: ").concat(t,"px;\n    height: ").concat(t,"px;\n\n    ").concat(re,":hover & {\n      color: ").concat("crimson",";\n    }\n\n    ").concat(re,":active & ,  ").concat(re,":focus & {\n      color: ").concat("white",";\n    }\n  ")),Ce=l.b.span(Te(),({left:e})=>e?"margin-right: 5px;":"",({right:e})=>e?"margin-left: 5px;":""),Pe=({className:e,icon:t,color:n,size:a,onClick:c,left:o,right:i})=>r.a.createElement(Ce,{onClick:c,left:o,right:i},r.a.createElement(_e,{className:"fas ".concat(t," ").concat(e),color:n,size:a}));Pe.defaultProps={color:"black",size:14};const Ne=Object(l.b)(Pe).attrs({icon:"fa-user"})(ke()),ze=Object(l.b)(Pe).attrs({icon:"fa-pen"})(we()),De=Object(l.b)(Pe).attrs({icon:"fa-copyright"})(je()),Ae=(Object(l.b)(Pe).attrs({icon:"fa-plus-circle"})(ve()),Object(l.b)(Pe).attrs({icon:"fa-minus-circle"})(ye()),Object(l.b)(Pe).attrs({icon:"fa-times"})(xe()),Object(l.b)(Pe).attrs({icon:"fa-expand"})(Oe())),Fe=Object(l.b)(Pe).attrs({icon:"fa-caret-down"})(Ee()),Ie=Object(l.b)(Pe).attrs({icon:"fa-external-link-alt"})(he()),Ve=Object(l.b)(Pe).attrs({icon:"fa-hashtag"})(ge()),Re=Object(l.b)(Pe).attrs({icon:"fa-registered"})(be()),Ge=Object(l.b)(Pe).attrs({icon:"fa-heart"})(fe()),Me=Object(l.b)(Pe).attrs({icon:"fa-play"})(de()),Le=Object(l.b)(Pe).attrs({icon:"fa-pause"})(pe()),Ue=Object(l.b)(Pe).attrs({icon:"fa-caret-down"})(me()),qe=Object(l.b)(Pe).attrs({icon:"fa-caret-up"})(ue());function Be({types:e,className:t,onClick:n}){switch(e.find(e=>!e.match(/^[general|ambiguous]$/))){case"character":return r.a.createElement(Ne,{className:t,onClick:n,left:!0});case"copyright":return r.a.createElement(De,{className:t,onClick:n,left:!0});case"artist":return r.a.createElement(ze,{className:t,onClick:n,left:!0});default:return r.a.createElement("div",{className:t})}}Be.defaultProps={types:[]};var We=Be;function He(){const e=Object(s.a)(["\n  flex: 0 0 48px;\n  text-align: center;\n"]);return He=function(){return e},e}function Je(){const e=Object(s.a)(["\n  display: flex;\n  height: 28px;\n\n  > * {\n    margin: auto;\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px grey solid;\n  }\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return Je=function(){return e},e}function Ke(){const e=Object(s.a)(["\n  ",";\n  display: none;\n  background: white;\n  box-sizing: border-box;\n  border: "," "," solid;\n  border-radius: 0 0 3px 3px;\n  color: black;\n  z-index: 1;\n"]);return Ke=function(){return e},e}const Ye=l.b.div(Ke(),(function({inputRef:e}){return e?"\n      position: absolute;\n      top: ".concat(e.offsetTop+e.clientHeight-2,"px;\n      left: ").concat(e.offsetLeft,"px;\n      width: ").concat(e.clientWidth,"px;"):""}),"2px","crimson");const $e=l.b.div(Je()),Qe=l.b.span(He());function Xe({name:e,posts:t,types:n,onClick:a}){return r.a.createElement($e,{onClick:a,onKeyDown:e=>32===e.keyCode&&a(e),tabIndex:"0"},r.a.createElement(Qe,null,r.a.createElement(We,{types:n})),r.a.createElement("span",{style:{flexGrow:1}},ee(e)),r.a.createElement("span",{style:{paddingRight:5}},te(t)," posts"))}var Ze=function({inputRef:e,entries:t,onClick:n}){return t&&t.length>0?r.a.createElement(Ye,{inputRef:e},t.map(e=>r.a.createElement(Xe,Object.assign({key:e.name},e,{onClick:()=>n(e)})))):null};function et(){const e=Object(s.a)(["\n  display: flex;\n  background: white;\n  ","\n    :focus-within {\n    "," {\n      display: block;\n    }\n  }\n"]);return et=function(){return e},e}const tt=l.b.div(et(),({closed:e})=>e?"border-radius: ".concat("3px",";"):"\n        border-radius: ".concat("3px"," ").concat("3px"," 0 0;\n\n        > ").concat(K," {\n          border-radius: 0 ").concat("3px"," 0 0;\n        }\n\n        > ").concat(Y," {\n          border-radius: ").concat("3px"," 0 0 0;\n        }\n      "),Ye);var nt=function({dispatch:e}){const t=Object(a.useState)(),n=Object(i.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)(""),l=Object(i.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)("+"),d=Object(i.a)(p,2),f=d[0],b=d[1],g=Object(a.useState)([]),h=Object(i.a)(g,2),E=h[0],O=h[1],y=Object(a.useCallback)(t=>{e({type:"ADD_TAG",tag:C({name:t.name,modifier:f,count:t.posts,types:t.types})}),m(""),O([])},[e,f]);return Object(a.useEffect)(()=>{const e=setTimeout(()=>{var e;u&&""!==u&&k.getTags((e=u,e.toLowerCase().replace(/ /g,"_"))).then(e=>{O(e)})},400);return()=>clearTimeout(e)},[u]),r.a.createElement(tt,{ref:o,closed:0===E.length},r.a.createElement($,{type:"modifier",onClick:()=>b("+"===f?"-":"+")},f),r.a.createElement(Z,{value:u,setValue:m}),r.a.createElement($,{type:"add",onClick:()=>{if(u&&""!==u.trim()){const e=E.find(e=>e.name===u)||{};y(Object(x.a)({},e,{name:u}))}}},"Add"),r.a.createElement(Ze,{inputRef:c,entries:E,onClick:e=>{y(e)}}))},at=n(17),rt=n.n(at);n(36);function ct(){const e=Object(s.a)(["\n  margin-left: ",";\n"]);return ct=function(){return e},e}function ot(){const e=Object(s.a)(["\n  display: flex;\n"]);return ot=function(){return e},e}const it=l.b.label(ot()),st=l.b.span(ct(),"8px");function lt({children:e,initial:t,onChange:n}){return r.a.createElement(it,null,r.a.createElement(rt.a,{defaultChecked:t,icons:{checked:null,unchecked:null},onChange:n}),r.a.createElement(st,null,e))}function ut(){const e=Object(s.a)(["\n  background: none;\n  border: none;\n  outline: none;\n  color: ",";\n  max-height: 16px;\n  width: ","em;\n  text-align: right;\n  font-size: 14px;\n  margin: -1px 0.2em 0 0.2em;\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield;\n"]);return ut=function(){return e},e}function mt(){const e=Object(s.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return mt=function(){return e},e}lt.defaultProps={initial:!1};const pt=l.b.div(mt(),"8px"),dt=l.b.input(ut(),"crimson",({value:e})=>.57*String(e).length);function ft({options:e,dispatch:t}){const n=Object(a.useState)(1),c=Object(i.a)(n,2),o=c[0],s=c[1];return r.a.createElement(pt,null,r.a.createElement(lt,{initial:e.infinite,onChange:()=>t({type:"SET_OPTION",key:"infinite",value:!e.infinite})},"Infinite Scrolling"),r.a.createElement(lt,{initial:Boolean(e.rated),onChange:()=>{t({type:"SET_OPTION",key:"rated",value:e.rated?void 0:o})}},e.rated?r.a.createElement("div",{style:{display:"flex"}},"Above",r.a.createElement(dt,{type:"number",value:o,onChange:e=>s(Number(e.target.value)),onBlur:e=>t({type:"SET_OPTION",key:"rated",value:Number(e.target.value)})}),"likes"):"Only show Rated Posts"),r.a.createElement(lt,{initial:e.originals,onChange:()=>t({type:"SET_OPTION",key:"originals",value:!e.originals})},"Load Original Sizes"))}function bt(){const e=Object(s.a)(["\n  display: inline-flex;\n  flex-wrap: wrap;\n  margin: ",";\n"]);return bt=function(){return e},e}const gt=l.b.div(bt(),({padding:e})=>"calc(".concat(e," - ").concat("4px",")"));function ht({tags:e,activeTags:t,loadAliases:n,dispatch:a,padding:c}){return r.a.createElement("div",null,r.a.createElement(gt,{padding:c},e.map(e=>r.a.createElement(le,Object.assign({key:"t_"+e.name},e,{activeTags:t,loadAliases:n,dispatch:a})))))}ht.defaultProps={activeTags:[],onItemClick:()=>{},onItemItemClick:()=>{},padding:"0px"};var Et=ht;var Ot=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null,"Help"),r.a.createElement(E,null,r.a.createElement(p,null,"Searching for Tags"),r.a.createElement(O,null),r.a.createElement(nt,{dispatch:()=>{}}),r.a.createElement(O,null),r.a.createElement("p",null,"You can use the Tag Selector to look for tags you like.The Tag Selector has 4 parts."),r.a.createElement("ol",null,r.a.createElement("li",null,'The modifier (left) determines wether posts must match a tag or not. Putting "-" will hide all posts with this tag'),r.a.createElement("li",null,"The Search Box (center) allows you to search for tags. As soon as you start typing the Tag Selector will show you relevant tags to choose from (4)."),r.a.createElement("li",null,"The Add Button (right) Allows you to add any tag to the current filter. Usefull when using wildcards."),r.a.createElement("li",null,"The Tag Dropdown (left) automatically shows tags that start with your input. It also includes The number of posts tagged, to allow you to weigh tags against each other."))),r.a.createElement(E,null,r.a.createElement(p,null,"Options"),r.a.createElement(O,null),r.a.createElement(ft,{options:{},dispatch:()=>{}}),r.a.createElement(O,null),r.a.createElement("p",null,"Options allow you to customize your experience in various ways. There are 3 options available"),r.a.createElement("ol",null,r.a.createElement("li",null,"Infinite Scrolling automatically loads new posts when you get close to the bottom of the page."),r.a.createElement("li",null,"Only show Rated posts filters out posts below the specified amount of posts."),r.a.createElement("li",null,"Load original sizes always loads the highest quality of an image. This can easily cause extreme data consumption. Don't use with mobile data."))),r.a.createElement(E,null,r.a.createElement(p,null,"Tags"),r.a.createElement(O,null),r.a.createElement(Et,{tags:[{name:"Tag 1"},{name:"Tag 2",types:["character"]},{name:"Tag 3",modifier:"-",types:["copyright"],count:1020}],activeTags:[{name:"Tag 2"},{name:"Tag 3"}]}),r.a.createElement(O,null),r.a.createElement("p",null,"This whole application is based on tags. Every Post has multiple tags. Usually you can enable/disable a tag just by tapping it. If a tag is red it means its active. The icons next to the name show what type of tag it is. Not every tag has a type. The number on the right shows how many posts there are with that tag.")))};function xt(){const e=Object(s.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return xt=function(){return e},e}const yt=l.b.section(xt(),"8px");var vt=function({options:e,tags:t,dispatch:n}){const c=Object(a.useCallback)(()=>{k.getPosts(t,0,e.rated).then(e=>{n({type:"SET_POSTS",posts:e.posts.map(C),count:Number(e.count)})})},[n,e.rated,t]);return r.a.createElement(yt,null,r.a.createElement(p,null,r.a.createElement("label",{htmlFor:"tag-input"},"Search")),r.a.createElement(E,null,r.a.createElement(nt,{dispatch:n}),t.length>0&&r.a.createElement(Et,{tags:t,activeTags:t,dispatch:n,loadAliases:!0}),r.a.createElement(ft,{options:e,dispatch:n}),r.a.createElement($,{type:"block",onClick:c},"Search")))};function jt(){const e=Object(s.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  background: ",";\n  padding: ",";\n  ",";\n\n  > span,\n  > a {\n    margin: ",";\n    line-height: 1rem;\n    height: 1rem;\n  }\n"]);return jt=function(){return e},e}function wt(){const e=Object(s.a)(["\n  > "," {\n    padding: ",";\n  }\n\n  overflow: hidden;\n"]);return wt=function(){return e},e}const kt=l.b.div(wt(),gt,"4px"),Tt=l.b.div(jt(),f,"4px",b,"4px");var St=function({rating:e,score:t,source:n,tags:a,activeTags:c,dispatch:o}){return r.a.createElement(kt,null,r.a.createElement(Tt,null,e&&r.a.createElement(_t,{value:e}),t&&r.a.createElement(Ct,{value:t}),n&&r.a.createElement(Pt,{value:n})),r.a.createElement(Et,{tags:a,activeTags:c,dispatch:o,padding:"8px"}))};const _t=({value:e})=>r.a.createElement("span",null,r.a.createElement(Re,{color:"white",left:!0}),e[0].toUpperCase()),Ct=({value:e})=>r.a.createElement("span",null,e,r.a.createElement(Ge,{color:"white",right:!0}));function Pt({value:e}){return e.startsWith("http")?r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"source"},r.a.createElement(Ie,{color:"red",left:!0}),"Source"):r.a.createElement("span",null,r.a.createElement(Ve,{color:"white",left:!0}),e)}function Nt(){const e=Object(s.a)(["\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    height: 5px;\n    background-color: ",";\n  "]);return Nt=function(){return e},e}const zt=l.b.div(({currentTime:e,duration:t})=>Object(l.a)(Nt(),"crimson"));function Dt(e){const t=e.onFullscreen,n=e.togglePlay,a=e.isPaused,c=e.isPlayable,o=e.currentTime,i=e.duration,s=e.isVisible,l=e.toggleDetails,u=e.areDetailsVisible;return s?r.a.createElement("div",null,t&&r.a.createElement($,{type:"topLeft",onClick:t,label:"Open Fullscreen"},r.a.createElement(Ae,{color:"white"})),r.a.createElement($,{type:"bottomLeft",onClick:l,label:"Toggle Details"},u?r.a.createElement(Ue,{color:"white"}):r.a.createElement(qe,{color:"white"})),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement($,{type:"center",onClick:n,label:"Play/Pause"},a?r.a.createElement(Me,{color:"white",size:50}):r.a.createElement(Le,{color:"white",size:50})),!!i&&r.a.createElement(zt,{currentTime:o,duration:i,style:{width:"".concat(o/i*100,"%")}}))):null}Dt.defaultProps={onFullscreen:null,togglePlay:()=>{},isPaused:!0,isPlayable:!1,currentTime:0,duration:null};var At=Dt;function Ft(){const e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  display: block;\n  object-fit: contain;\n"]);return Ft=function(){return e},e}const It=l.b.video(Ft());function Vt(e){const t=e.src,n=e.thumbnail_src,c=e.isOverlayVisible,o=e.toggleOverlay,s=e.toggleDetails,l=e.areDetailsVisible,u=Object(a.useState)({paused:!0,play:()=>{},pause:()=>{},currentTime:0,duration:1}),m=Object(i.a)(u,2),p=m[0],d=m[1],f=Object(a.useState)(Date.now()),b=Object(i.a)(f,2),g=b[0],h=b[1],E=Object(a.useState)(0),O=Object(i.a)(E,2),x=O[0],y=O[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(It,{controls:!1,loop:!0,src:t,alt:t,poster:n,preload:"metadata",onClick:o,ref:d}),r.a.createElement(At,{isVisible:c,isPaused:p.paused,currentTime:p.currentTime,duration:p.duration,onFullscreen:()=>{var e;(e=p).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},togglePlay:()=>p.paused?(()=>{p.play();const e=setInterval(()=>{h(Date.now()),console.log(g)},34);y(e)})():(p.pause(),clearInterval(x),void y(-1)),toggleDetails:s,isPlayable:!0,areDetailsVisible:l}))}function Rt(){const e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  display: block;\n  object-fit: contain;\n"]);return Rt=function(){return e},e}const Gt=l.b.img(Rt());var Mt=function(e){const t=e.src,n=e.thumbnail_src,c=e.isOverlayVisible,o=e.toggleOverlay,s=e.toggleDetails,l=e.areDetailsVisible,u=Object(a.useState)(!0),m=Object(i.a)(u,2),p=m[0],d=m[1],f=p?n:t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gt,{src:f,alt:f,onClick:o}),r.a.createElement(At,{isPlayable:!0,toggleDetails:s,isPaused:p,isVisible:c,togglePlay:()=>d(!p),areDetailsVisible:l}))};function Lt(){const e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  display: block;\n  object-fit: contain;\n"]);return Lt=function(){return e},e}const Ut=l.b.img(Lt());var qt=function(e){const t=e.src,n=e.isOverlayVisible,a=e.toggleOverlay,c=e.toggleDetails,o=e.areDetailsVisible;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut,{src:t,alt:t,onClick:a}),r.a.createElement(At,{isVisible:n,isPlayable:!1,toggleDetails:c,isOverlayVisible:n,areDetailsVisible:o}))};function Bt(){const e=Object(s.a)(["\n  display: inline-block;\n  position: relative;\n"]);return Bt=function(){return e},e}const Wt=l.b.div(Bt());var Ht=e=>{const t=((e,t)=>{switch(((e,t)=>"video"===e?"video":t.endsWith(".gif")?"gif":"picture")(e,t)){case"video":return Vt;case"gif":return Mt;default:return qt}})(e.type,e.src),n=Object(a.useState)(!0),c=Object(i.a)(n,2),o=c[0],s=c[1];return r.a.createElement(Wt,null,r.a.createElement(t,Object.assign({isOverlayVisible:o,toggleOverlay:()=>s(!o)},e)))};function Jt(){const e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  background: ",";\n  ",";\n  border-radius: ",";\n  overflow: hidden;\n  margin-bottom: ",";\n  box-sizing: border-box;\n"]);return Jt=function(){return e},e}const Kt=l.b.div(Jt(),f,b,"3px","8px");function Yt({id:e,media_type:t,small_src:n,big_src:c,thumbnail_src:o,rating:s,score:l,source:u,tags:m,loadOriginal:p,activeTags:d,dispatch:f}){const b=function(e,t,n,a){let r;return e?r=t:(r="".concat(n,"?").concat(a),r.includes("//images")&&(r=r.replace("//images","/images"))),r}(p,c,n,e),g=Object(a.useState)(!0),h=Object(i.a)(g,2),E=h[0],O=h[1];return r.a.createElement(Kt,null,r.a.createElement(Ht,{type:t,src:b,thumbnail_src:o,areDetailsVisible:!E,toggleDetails:()=>O(!E)}),!E&&r.a.createElement(St,{rating:s,score:l,source:u,tags:m,activeTags:d,dispatch:f}))}function $t(){const e=Object(s.a)([""]);return $t=function(){return e},e}const Qt=l.b.div($t());var Xt=function({posts:e,activeTags:t,loadOriginal:n,dispatch:a}){return r.a.createElement(Qt,null,e.map(e=>r.a.createElement(Yt,Object.assign({key:"p_".concat(e.id)},e,{loadOriginal:n,activeTags:t,dispatch:a}))))},Zt=n(10),en=n.n(Zt);function tn(){const e=Object(s.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return tn=function(){return e},e}const nn=l.b.section(tn(),"8px");let an=!0;var rn=function({options:e,dispatch:t,tags:n,results:c}){const o=Object(a.useState)(!1),s=Object(i.a)(o,2),l=s[0],u=s[1],m=Object(a.useCallback)(()=>{k.getPosts(n,c.page+1,e.rated).then(e=>{u(0===e.posts.length),t({type:"ADD_POSTS",posts:e.posts.map(C)}),an=!0})},[t,e.rated,c.page,n]);return window.onscroll=Object(a.useCallback)(()=>{e.infinite&&an&&window.innerHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight-window.innerHeight&&(an=!1,m())},[m,e.infinite]),r.a.createElement(nn,{className:"results"},r.a.createElement(p,null,te(c.count)," results"),r.a.createElement(Xt,{posts:c.posts,activeTags:n,loadOriginal:e.originals,dispatch:t}),!e.infinite&&!l&&r.a.createElement($,{type:"block",onClick:m},"Load More"),l&&r.a.createElement(E,null,r.a.createElement("img",{src:en.a,alt:en.a}),r.a.createElement(O,null),r.a.createElement(p,null,"You have reached the end!"),r.a.createElement("p",{style:{textAlign:"center"}},"Go look for something else...")))};function cn({tags:e,options:t,results:n,dispatch:a}){return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,{options:t,tags:e,dispatch:a}),n.posts.length>0&&r.a.createElement(rn,{options:t,dispatch:a,tags:e,results:n}))}var on=function({size:e}){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 12.7 12.7"},r.a.createElement("g",{transform:"translate(0,-284.3)"},r.a.createElement("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:"crimson",strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),r.a.createElement("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:"crimson",fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)"},r.a.createElement("tspan",{id:"tspan4531",x:"2.1363549",y:"289.02704",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:"crimson",fillOpacity:"1"},"34"))))};function sn(){const e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n"]);return sn=function(){return e},e}function ln(){const e=Object(s.a)(["\n  background: ",";\n  ",";\n  padding: "," 0;\n  margin-bottom: ",";\n"]);return ln=function(){return e},e}function un(){const e=Object(s.a)(["\n  width: 1px;\n  height: 32px;\n  margin: 0 ",";\n  background: ",";\n"]);return un=function(){return e},e}function mn(){const e=Object(s.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return mn=function(){return e},e}const pn=l.b.header(mn(),"8px"),dn=l.b.div(un(),"8px","white"),fn=l.b.div(ln(),f,b,"8px","8px"),bn=l.b.nav(sn());var gn=function({activeMenu:e,dispatch:t}){return r.a.createElement(pn,null,r.a.createElement(fn,null,r.a.createElement(d,null,r.a.createElement(on,{size:32}),r.a.createElement(dn,null),r.a.createElement("span",{style:{marginTop:2}},"Browse ",r.a.createElement("a",{href:"https://rule34.xxx"},"Rule34")))),r.a.createElement(bn,null,r.a.createElement($,{type:"menu",active:"search"===e,onClick:()=>t({type:"SET_ACTIVE_MENU",menu:"search"})},"Search"),r.a.createElement($,{type:"menu",active:"help"===e,onClick:()=>t({type:"SET_ACTIVE_MENU",menu:"help"})},"Help"),r.a.createElement($,{type:"menu",active:"settings"===e,onClick:()=>t({type:"SET_ACTIVE_MENU",menu:"settings"})},"Settings")))},hn=n(4);function En(e,t){switch(t.type){case"ADD_TAG":return xn(e,t.tag);case"REMOVE_TAG":return yn(e,t.tag);case"TOGGLE_TAG":return vn(e,t.tag);case"ADD_POSTS":return jn(e,t.posts);case"SET_POSTS":return wn(e,t.posts,t.count);case"SET_OPTION":return kn(e,t.key,t.value);case"FOCUS_POST":return Tn(e,t.id);case"UNFOCUS_POST":return Tn(e,void 0);case"SET_ACTIVE_MENU":return Sn(e,t.menu);case"RESET":return _n(e);default:throw new Error("Unrecognized Action: ".concat(t.type))}}function On(e,t){return e.findIndex(e=>e.name===t.name)}const xn=(e,t)=>Object(hn.a)(e,n=>{const a=On(e.tags,t);n.tags=[...e.tags],-1!==a?n.tags[a]=t:n.tags=[...n.tags,t]}),yn=(e,t)=>Object(hn.a)(e,n=>{const a=On(e.tags,t);-1!==a&&(n.tags=[...e.tags],n.tags.splice(a,1))}),vn=(e,t)=>-1!==On(e.tags,t)?yn(e,t):xn(e,t),jn=(e,t)=>Object(hn.a)(e,n=>{n.results.posts=[...e.results.posts,...t],n.results.page=e.results.page+1}),wn=(e,t,n)=>Object(hn.a)(e,e=>{e.results.posts=[...t],e.results.count=n,e.results.page=0}),kn=(e,t,n)=>Object(hn.a)(e,e=>{e.options[t]=n}),Tn=(e,t)=>Object(hn.a)(e,e=>{e.context.focusedPost=t}),Sn=(e,t)=>Object(hn.a)(e,e=>{e.context.activeMenu=t}),_n=e=>Object(hn.a)(e,e=>{Object.assign(e,Cn)}),Cn={results:{posts:[],page:0,count:void 0},context:{focusedPost:void 0,activeMenu:"search"},tags:[],options:{infinite:!0,rated:void 0,originals:!1}};function Pn(){const e=function(e){const t=localStorage.getItem("state");return[null!==t&&"undefined"!==t?JSON.parse(t):e,e=>localStorage.setItem("state",JSON.stringify(e))]}(Cn),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useReducer)(En,n),o=Object(i.a)(c,2),s=o[0],l=o[1];return Object(a.useEffect)(()=>{r(s)},[r,s]),[s,l]}function Nn(){const e=Object(s.a)(["\n  width: 1px;\n  height: 20px;\n  background: ",";\n"]);return Nn=function(){return e},e}function zn(){const e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1px 1fr 1px 1fr;\n  justify-content: space-around;\n  padding: ",";\n"]);return zn=function(){return e},e}const Dn=l.b.footer(zn(),"8px"),An=l.b.div(Nn(),"white");var Fn=function(){return r.a.createElement(Dn,null,r.a.createElement($,{type:"invisible"},r.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react/issues/new?template=bug_report.md"},"Report a bug")),r.a.createElement(An,null),r.a.createElement($,{type:"invisible"},r.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react"},"Github")),r.a.createElement(An,null),r.a.createElement($,{type:"invisible"},r.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react/issues/new?template=feature_request.md"},"Feature request")))};function In({state:e,dispatch:t}){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null,"Settings"),r.a.createElement(E,null,r.a.createElement(p,null,"General"),r.a.createElement("p",null,"nothing yet"),r.a.createElement(O,null),r.a.createElement(p,null,"Developer"),r.a.createElement(J,{onClick:()=>t({type:"RESET"})},"Reset Application")))}function Vn(){const e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: strech;\n  min-height: 100%;\n  background: ",";\n  color: ",";\n\n  font-size: 14px;\n\n  a {\n    color: ",";\n    text-decoration: none;\n  }\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Vn=function(){return e},e}function Rn(){const e=Object(s.a)(["\n  flex-grow: 1;\n  align-self: strech;\n  display: flex;\n  flex-direction: column;\n  padding: 0 16px;\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Rn=function(){return e},e}const Gn=l.b.main(Rn(),"8px"),Mn=l.b.div(Vn(),"#121212","white","crimson","8px");Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){const e=Pn(),t=Object(i.a)(e,2),n=t[0],a=t[1],c=function(e,t,n){switch(e){case"help":return r.a.createElement(Ot,{state:t,dispatch:n});case"settings":return r.a.createElement(In,{state:t,dispatch:n});case"search":default:return r.a.createElement(cn,{tags:t.tags,options:t.options,results:t.results,dispatch:n})}}(n.context.activeMenu,n,a);return r.a.createElement(Mn,null,r.a.createElement(gn,{activeMenu:n.context.activeMenu,dispatch:a}),r.a.createElement(Gn,null,c),r.a.createElement(Fn,null))}),null),document.getElementById("app-root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.5690c157.chunk.js.map