(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/OutOfResults.00a98fae.png"},50:function(e,t,n){e.exports=n(73)},55:function(e,t,n){},63:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(18),c=n.n(r),l=(n(55),n(4)),s=n(8),i=n(16),d=n(33),u=n(40),m=n.n(u),b=n(17);const h=e=>({type:"R34_SET_ACTIVE_MENU",menu:e}),g=e=>({type:"R34_ADD_TAG",tag:e}),p=(e,t)=>({type:"R34_SET_OPTION",key:e,value:t}),f={activeMenu:"search"};const O={infinite:!0,rated:!1,ratedTreshold:1,originals:!1,cookies:!1,preloadVideos:!1,tagSuggestionsCount:20},j=(e,t,n)=>Object(b.a)(e,e=>{switch(t){case"infinite":e.infinite=n;break;case"rated":e.rated=n;break;case"ratedTreshold":e.ratedTreshold=n;break;case"originals":e.originals=n;break;case"cookies":e.cookies=n;break;case"preload_videos":e.preloadVideos=n;break;case"tag_suggestion_count":e.tagSuggestionsCount=n}});const v={posts:[],pageNumber:0,count:0};var E=n(24);const w={active:{},aliases:{}};var y=Object(i.combineReducers)({tags:(e=w,t)=>{switch(t.type){case"R34_ADD_TAG":return((e,t)=>Object(b.a)(e,n=>{n.active[t.name]=Object(E.a)(Object(E.a)({},e.active[t.name]),t)}))(e,t.tag);case"R34_REMOVE_TAG":return((e,t)=>Object(b.a)(e,e=>{delete e.active[t.name],delete e.aliases[t.name]}))(e,t.tag);case"R34_ADD_ALIASES":return((e,t,n)=>Object(b.a)(e,e=>{e.aliases[n]=t}))(e,t.aliases,t.forTag);default:return e}},results:(e=v,t)=>{switch(t.type){case"R34_ADD_POSTS":return((e,t)=>Object(b.a)(e,n=>{n.posts=[...e.posts,...t],n.pageNumber=e.pageNumber+1,window.posts=n.posts}))(e,t.posts);case"R34_SET_POSTS":return((e,t,n)=>Object(b.a)(e,e=>{e.posts=t,e.count=Number(n),e.pageNumber=0,window.posts=e.posts}))(e,t.posts,t.count);default:return e}},preferences:(e=O,t)=>{switch(t.type){case"R34_SET_OPTION":return j(e,t.key,t.value);case"R34_ALLOW_COOKIES":return j(e,"cookies",t.value);default:return e}},misc:(e=f,t)=>{switch(t.type){case"R34_SET_ACTIVE_MENU":return((e,t)=>Object(b.a)(e,e=>{e.activeMenu=t}))(e,t.menu);default:return e}}}),k=n(41),x=n.n(k);n(74);const C=e=>e.tags.active,_=e=>e.results.posts,S=e=>e.results.count,T=e=>e.results.pageNumber,R=e=>e.preferences,L=e=>e.preferences.originals,N=e=>e.preferences.cookies,z=e=>e.misc.activeMenu,I=e=>Object.values(e.tags.aliases).flat(),A=e=>Object.keys(e.results.posts).length===e.results.count,P={apiKey:"AIzaSyBHdepwE7M4Byu2lFtX2s__9COcMdvXu7Q",authDomain:"r34-react.firebaseapp.com",databaseURL:"https://r34-react.firebaseio.com",projectId:"r34-react",storageBucket:"r34-react.appspot.com",messagingSenderId:"844749417844",appId:"1:844749417844:web:11fa1fda0e14f1ac2dd021",measurementId:"G-27J3QXZ8YR"};let M,D;var F=n(20),W=n.n(F),G=n(28);let B="https://r34-json.herokuapp.com";fetch(B).catch(()=>B="https://r34-api-clone.herokuapp.com");var U={getTags:(e,t=20)=>Object(G.a)(W.a.mark((function n(){var a;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(B,"/tags?limit=").concat(t,"&name=").concat(e,"*&order_by=posts"));case 2:return a=n.sent,n.next=5,a.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))(),getPosts:(e,t=0,n=0)=>Object(G.a)(W.a.mark((function a(){var o;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(V(t,e,n));case 2:return o=a.sent,a.next=5,o.json();case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))(),getAliases:e=>Object(G.a)(W.a.mark((function t(){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(B,"/alias/").concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()};function V(e,t,n){const a=Object.values(t).map(e=>"".concat("-"===e.modifier?"-":"").concat(encodeURIComponent(e.name))).join("+");let o="".concat(B,"/posts?pid=").concat(e,"&limit=").concat(20,"&tags=").concat(a);return n>0&&(o+="+".concat(encodeURIComponent("score:>="+n))),o}class H{constructor(e,t,n,a,o,r,c,l,s,i,d,u,m,b,h,g,p,f,O,j,v){this.id=void 0,this.score=void 0,this.rating=void 0,this.source=void 0,this.tags=void 0,this.media_type=void 0,this.thumbnail_src=void 0,this.small_src=void 0,this.big_src=void 0,this.width=void 0,this.height=void 0,this.creator_id=void 0,this.creator_url=void 0,this.status=void 0,this.parent_id=void 0,this.has_children=void 0,this.has_comments=void 0,this.comments_url=void 0,this.has_notes=void 0,this.created_at=void 0,this.change=void 0,this.id=e,this.score=t,this.rating=n,this.source=a,this.tags=o,this.media_type=r,this.small_src=c,this.big_src=l,this.thumbnail_src=s,this.width=i,this.height=d,this.creator_id=u,this.creator_url=m,this.status=b,this.parent_id=h,this.has_children=g,this.has_comments=p,this.comments_url=f,this.has_notes=O,this.created_at=j,this.change=v}}class K{constructor(e,t=[],n=null,a="+"){this.name=void 0,this.count=void 0,this.types=void 0,this.modifier=void 0,this.name=e,this.types=t,this.count=n,this.modifier=a}}function X(e){const t=e.id,n=e.type,a=e.score,o=e.rating,r=e.source,c=e.tags,l=e.file_url,s=e.width,i=e.height,d=e.creator_id,u=e.creator_url,m=e.sample_url,b=e.preview_url,h=e.status,g=e.parent_id,p=e.has_children,f=e.has_comments,O=e.comments_url,j=e.has_notes,v=e.created_at,E=e.change;return new H(Number(t),Number(a),o,r,c?c.map(e=>new K(e)):[],n,m,l,b,Number(s),Number(i),Number(d),u,h,Number(g),Boolean(p),Boolean(f),O,Boolean(j),v,E)}var q=n(43);const J={key:"appstate",storage:m.a,blacklist:["results"]},Y=Object(d.a)(J,y),Q=Object(i.createStore)(Y,Object(q.composeWithDevTools)(Object(i.applyMiddleware)(e=>t=>n=>{if(N(e.getState())){if(M||(M=x.a.initializeApp(P),D=M.analytics()),"R34_ADD_TAG"===n.type){const e={id:"r34_add_tag",payload:{name:(a=n.tag).name,modifier:a.modifier}},t=e.id,o=e.payload;D.logEvent(t,o)}if("R34_ADD_POSTS"===n.type||"R34_SET_POSTS"===n.type){const t=C(e.getState()),a=T(e.getState()),o=R(e.getState()),r=((e,t,n)=>({id:"r34_search",payload:{active_tags:Object.values(e).map(e=>"".concat(e.modifier).concat(e.name)).sort(),page_number:t,preferences:n}}))(t,"R34_SET_POSTS"===n.type?0:a+1,o),c=r.id,l=r.payload;D.logEvent(c,l)}}var a;t(n)},e=>t=>n=>{if("R34_GET_RESULTS"===n.type){const t=C(e.getState()),n=R(e.getState()),a=n.rated,o=n.ratedTreshold;U.getPosts(t,0,a?o:0).then(t=>{var n,a;e.dispatch((n=t.posts.map(X),a=t.count,{type:"R34_SET_POSTS",posts:n,count:a}))})}const a=A(e.getState());if("R34_GET_MORE_RESULTS"===n.type&&!a){const t=C(e.getState()),n=T(e.getState()),a=R(e.getState()),o=a.rated,r=a.ratedTreshold;U.getPosts(t,n+1,o?r:0).then(t=>{e.dispatch({type:"R34_ADD_POSTS",posts:t.posts.map(X)})})}t(n)}))),Z=Object(d.b)(Q);var $,ee,te,ne=n(44),ae=n(2),oe=ae.d.h2($||($=Object(l.a)(["\n  font-size: 24px;\n  font-weight: lighter;\n  margin: 0;\n  text-align: center;\n"])));const re=ae.d.h1(ee||(ee=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: lighter;\n  text-align: center;\n  margin: 0;\n"]))),ce=ae.d.h3(e=>Object(ae.c)(te||(te=Object(l.a)(["\n    font-size: ",";\n    margin: 0;\n  "])),e.theme.fontSizes.content));var le,se,ie=ae.d.div(e=>Object(ae.c)(le||(le=Object(l.a)(["\n    padding: ",";\n    background: ",";\n    ",";\n    border-radius: ",";\n    width: 100%;\n\n    > *:not(:last-child) {\n      margin-bottom: ",";\n    }\n  "])),e.theme.dimensions.gutter,e.theme.misc.layer,e.theme.shadow.box,e.theme.dimensions.borderRadius,e.theme.dimensions.gutter));const de=ae.d.div(e=>Object(ae.c)(se||(se=Object(l.a)(["\n    width: 100%;\n    height: 1px;\n    background: ",";\n  "])),e.theme.misc.layer));var ue,me,be,he,ge,pe,fe,Oe,je,ve,Ee,we=n(13);const ye=ae.d.button(e=>Object(ae.c)(ue||(ue=Object(l.a)(["\n    font-size: ",";\n\n    :focus {\n      outline: none;\n    }\n  "])),e.theme.fontSizes.content)),ke=Object(ae.d)(ye)(e=>Object(ae.c)(me||(me=Object(l.a)(["\n    background-color: transparent;\n    border: none;\n    border-radius: 1000px;\n    padding: 5px;\n    filter: ",";\n\n    svg {\n      transition: all 0.2s ease-in-out;\n    }\n\n    :hover {\n      svg {\n        transform: scale(1.1);\n      }\n    }\n  "])),e.theme.shadow.drop)),xe=Object(ae.d)(ke)(e=>Object(ae.c)(be||(be=Object(l.a)(["\n    color: ",";\n  "])),e.theme.colors.backgroundColor2)),Ce=Object(ae.d)(ke)(e=>Object(ae.c)(he||(he=Object(l.a)(["\n    color: ",";\n  "])),e.theme.colors.accentColor)),_e=Object(ae.d)(ke)(ge||(ge=Object(l.a)(["\n  position: relative;\n  left: 0;\n  top: 0;\n  margin: 10px;\n"]))),Se=Object(ae.d)(ke)(pe||(pe=Object(l.a)(["\n  position: relative;\n  left: 0;\n  bottom: 0;\n  margin: 10px;\n"]))),Te=Object(ae.d)(ke)(fe||(fe=Object(l.a)(["\n  position: relative;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]))),Re=Object(ae.d)(ye)(e=>Object(ae.c)(Oe||(Oe=Object(l.a)(["\n    height: 32px;\n    font-size: ",";\n    font-weight: bold;\n    color: ",";\n    background: ",";\n    border: ","\n      "," solid;\n\n    transition: border-color 0.4s ease-in-out;\n    transition: color 0.4s ease-in-out;\n    transition: background-color 0.4s ease-in-out;\n\n    :hover {\n      background-color: ",";\n      color: ",";\n    }\n\n    :active,\n    :focus {\n      color: ",";\n\n      border-color: ",";\n      cursor: pointer;\n    }\n  "])),e.theme.fontSizes.content,e.theme.colors.accentColor,e.theme.colors.backgroundColor,e.theme.colors.accentColor,e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.colors.backgroundColor,e.theme.colors.backgroundColor2,e.theme.colors.backgroundColor2)),Le=Object(ae.d)(Re)(e=>Object(ae.c)(je||(je=Object(l.a)(["\n    width: 100%;\n    border-radius: ",";\n  "])),e.theme.dimensions.borderRadius)),Ne=Object(ae.d)(Re)(e=>Object(ae.c)(ve||(ve=Object(l.a)(["\n    border-left-width: 0;\n    border-radius: 0 ","\n      "," 0;\n  "])),e.theme.dimensions.borderRadius,e.theme.dimensions.borderRadius)),ze=Object(ae.d)(ye)(e=>Object(ae.c)(Ee||(Ee=Object(l.a)(["\n    background-color: transparent;\n    min-width: 48px;\n    border: ","\n      "," solid;\n    border-right-width: 0;\n    border-radius: "," 0 0\n      ",";\n    font-weight: bold;\n  "])),e.theme.colors.accentColor,e.theme.dimensions.borderWidth,e.theme.dimensions.borderRadius,e.theme.dimensions.borderRadius));var Ie,Ae=function(e){const t=e.type,n=e.children,a=e.onClick,r=e.active,c=void 0!==r&&r,l=e.disabled,s=void 0!==l&&l,i=e.label,d=e.className,u=void 0===d?"":d,m=((e,t)=>{switch(e){case"invisible":return ke;case"block":return Le;case"topLeft":return _e;case"bottomLeft":return Se;case"center":return Te;case"modifier":return ze;case"add":return Ne;case"menu":return t?Ce:xe;default:return Re}})(t,c);return o.a.createElement(m,{onClick:a,disabled:s,"aria-label":i,className:u},n)};const Pe=ae.d.input(e=>Object(ae.c)(Ie||(Ie=Object(l.a)(["\n    width: 100%;\n    border: none;\n    outline: none;\n    background: none;\n    font-size: ",";\n    border-top: ","\n      "," solid;\n    border-bottom: ","\n      "," solid;\n  "])),e.theme.fontSizes.content,e.theme.colors.accentColor,e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.dimensions.borderWidth));function Me(e){const t=e.value,n=e.setValue;return o.a.createElement(Pe,{id:"tag-input",value:t,onChange:e=>n(e.target.value),placeholder:"Search for tags","aria-label":"Search"})}n(63);function De(e){return e.replace(/_/g," ")}const Fe=e=>{const t=e;return t>=1e6?"".concat((t/1e6).toFixed(0),"M"):t>=1e3?"".concat((t/1e3).toFixed(0),"K"):t};function We(e=!1){const t=Object(a.useState)(e),n=Object(we.a)(t,2),o=n[0],r=n[1],c=Object(a.useCallback)(()=>r(!o),[o]),l=Object(a.useCallback)(()=>r(e),[e]);return[o,c,l]}var Ge,Be,Ue;const Ve=ae.d.div(e=>{return Object(ae.c)(Be||(Be=Object(l.a)(["\n      display: inline-block;\n      padding: 0.25rem;\n      border-radius: ",";\n      font-size: ",";\n      line-height: 1.2;\n      vertical-align: baseline;\n      margin: ",";\n      ","\n    "])),(t=e.collapsed,n=e.theme,t?n.dimensions.borderRadius:"".concat(n.dimensions.borderRadius," ").concat(n.dimensions.borderRadius," 0 0")),e.theme.fontSizes.content,e.theme.dimensions.spacing,((e,t)=>{const n=e?t.colors.backgroundColor:t.colors.accentColor,a=e?t.colors.accentColor:t.colors.backgroundColor;return Object(ae.c)(Ge||(Ge=Object(l.a)(["\n    color: ",";\n    background-color: ",";\n    border: "," "," solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover,\n    :focus,\n    :active {\n      border-color: ",";\n      color: ",";\n\n      i {\n        color: ",";\n      }\n    }\n  "])),n,a,t.colors.accentColor,t.dimensions.borderWidth,t.colors.backgroundColor2,t.colors.backgroundColor2,t.colors.backgroundColor2)})(e.active,e.theme));var t,n}),He=ae.d.span(e=>Object(ae.c)(Ue||(Ue=Object(l.a)(["\n    ","\n    ","\n  "])),e.left?"margin-right: 5px;":"",e.right?"margin-left: 5px;":""));function Ke(e){const t=e.name,n=e.count,a=e.modifier,r=e.types,c=Object(s.b)(),l=De(t),i=n?"".concat(l," (").concat(Fe(n),")"):l,d=Object(s.c)(C),u=()=>d[t]?c({type:"R34_REMOVE_TAG",tag:new K(t,r,n)}):c(g(new K(t,r,n)));return o.a.createElement("span",{onClick:u,onKeyDown:e=>32===e.keyCode&&u()},"-"===a?o.a.createElement("s",null,i):i)}function Xe(e){const t=e.name,n=e.count;return o.a.createElement("div",{className:"alias"},o.a.createElement(Ke,{name:t,count:n}))}var qe,Je,Ye,Qe,Ze,$e,et,tt,nt,at,ot,rt,ct,lt,st,it,dt,ut,mt,bt,ht=function(e){const t=e.name,n=e.count,r=e.modifier,c=e.types,l=e.loadAliases,i=Object(s.c)(C),d=Object(s.c)((u=t,e=>e.tags.aliases[u]));var u;const m=We(!0),b=Object(we.a)(m,3),h=b[0],g=b[1],p=b[2],f=Object(s.b)();Object(a.useEffect)(()=>{l&&i[t]&&U.getAliases(t).then(e=>{e.sort((e,t)=>t.posts-e.posts);const n=e.filter(e=>!i[e.name]).map(e=>new K(e.name,[],e.posts));f(((e,t)=>({type:"R34_ADD_ALIASES",aliases:e,forTag:t}))(n,t))})},[l,t,i,f]);const O=Boolean(i[t]),j=l&&d&&d.length>0;return o.a.createElement(Ve,{active:O,collapsed:h,onMouseLeave:p},o.a.createElement(Nt,{types:c,left:!0}),o.a.createElement(Ke,{name:t,count:n,modifier:r,types:c}),j&&o.a.createElement(o.a.Fragment,null,o.a.createElement(He,{right:!0,onClick:g},o.a.createElement(wt,null)),o.a.createElement("div",{className:"dropdown-list"+(h?"":" visible")},d.map(({name:e,count:t})=>o.a.createElement(Xe,{key:"t_"+e,name:e,count:t})))))};const gt=ae.d.i(e=>Object(ae.c)(qe||(qe=Object(l.a)(["\n    ","\n  "])),e=>"\n    color: ".concat(e.color,";\n    min-width: ").concat(e.size,"px;\n    height: ").concat(e.size,"px;\n\n    ").concat(Ve,":hover & {\n      color: ").concat(e.theme.colors.accentColor,";\n    }\n\n    ").concat(Ve,":active & ,  ").concat(Ve,":focus & {\n      color: ").concat(e.theme.colors.backgroundColor2,";\n    }\n  "))),pt=ae.d.span(e=>Object(ae.c)(Je||(Je=Object(l.a)(["\n    line-height: 16px;\n    ","\n    ","\n  "])),e.left?"margin-right: 5px;":"",e.right?"margin-left: 5px;":"")),ft=e=>{const t=e.icon,n=e.className,a=void 0===n?"":n,r=e.color,c=void 0===r?"black":r,l=e.size,s=void 0===l?14:l,i=e.onClick,d=void 0===i?()=>{}:i,u=e.left,m=void 0!==u&&u,b=e.right,h=void 0!==b&&b,g=e.prefix,p=void 0===g?"fas":g;return o.a.createElement(pt,{onClick:d,left:m,right:h},o.a.createElement(gt,{className:"".concat(p," ").concat(t," ").concat(a),color:c,size:s}))},Ot=Object(ae.d)(ft).attrs({icon:"fa-user"})(Ye||(Ye=Object(l.a)([""]))),jt=Object(ae.d)(ft).attrs({icon:"fa-pen"})(Qe||(Qe=Object(l.a)([""]))),vt=Object(ae.d)(ft).attrs({icon:"fa-copyright"})(Ze||(Ze=Object(l.a)([""]))),Et=(Object(ae.d)(ft).attrs({icon:"fa-plus-circle"})($e||($e=Object(l.a)([""]))),Object(ae.d)(ft).attrs({icon:"fa-minus-circle"})(et||(et=Object(l.a)([""]))),Object(ae.d)(ft).attrs({icon:"fa-times"})(tt||(tt=Object(l.a)([""]))),Object(a.memo)(Object(ae.d)(ft).attrs({icon:"fa-expand"})(nt||(nt=Object(l.a)([""]))))),wt=Object(ae.d)(ft).attrs({icon:"fa-caret-down"})(at||(at=Object(l.a)([""]))),yt=Object(ae.d)(ft).attrs({icon:"fa-external-link-alt"})(ot||(ot=Object(l.a)([""]))),kt=Object(ae.d)(ft).attrs({icon:"fa-hashtag"})(rt||(rt=Object(l.a)([""]))),xt=Object(ae.d)(ft).attrs({icon:"fa-registered"})(ct||(ct=Object(l.a)([""]))),Ct=Object(ae.d)(ft).attrs({icon:"fa-heart"})(lt||(lt=Object(l.a)([""]))),_t=Object(ae.d)(ft).attrs({prefix:"fab",icon:"fa-twitter"})(st||(st=Object(l.a)([""]))),St=Object(ae.d)(ft).attrs({icon:"fa-link"})(it||(it=Object(l.a)([""]))),Tt=Object(a.memo)(Object(ae.d)(ft).attrs({icon:"fa-play"})(dt||(dt=Object(l.a)([""])))),Rt=Object(a.memo)(Object(ae.d)(ft).attrs({icon:"fa-pause"})(ut||(ut=Object(l.a)([""])))),Lt=(Object(ae.d)(ft).attrs({icon:"fa-caret-down"})(mt||(mt=Object(l.a)([""]))),Object(ae.d)(ft).attrs({icon:"fa-caret-up"})(bt||(bt=Object(l.a)([""]))),()=>{});function Nt(e){const t=e.types,n=void 0===t?[]:t,a=e.className,r=void 0===a?"":a,c=e.onClick,l=void 0===c?Lt:c;switch(n.find(e=>!e.match(/^[general|ambiguous]$/))){case"character":return o.a.createElement(Ot,{className:r,onClick:l,left:!0});case"copyright":return o.a.createElement(vt,{className:r,onClick:l,left:!0});case"artist":return o.a.createElement(jt,{className:r,onClick:l,left:!0});default:return o.a.createElement("div",{className:r})}}var zt,It,At,Pt;const Mt=ae.d.div(e=>Object(ae.c)(It||(It=Object(l.a)(["\n    ",";\n    background: white;\n    box-sizing: border-box;\n    border: ","\n      "," solid;\n    border-radius: 0 0 3px 3px;\n    color: black;\n    z-index: 1;\n  "])),function(e){if(e){const t=e.offsetTop,n=e.clientHeight,a=e.offsetLeft,o=e.clientWidth;return Object(ae.c)(zt||(zt=Object(l.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n      max-height: 50vh;\n      overflow-y: scroll;\n    "])),t+n-2,a,o)}return""}(e.tagSelectorRef),e.theme.dimensions.borderWidth,e.theme.colors.accentColor));function Dt(e){const t=e.tagSelectorRef,n=e.entries,a=e.onClick;return n&&n.length>0?o.a.createElement(Mt,{tagSelectorRef:t},n.map(e=>o.a.createElement(Gt,Object.assign({key:e.name,onClick:()=>a(e)},e)))):null}const Ft=ae.d.div(At||(At=Object(l.a)(["\n  display: flex;\n  height: 28px;\n\n  > * {\n    margin: auto;\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px grey solid;\n  }\n\n  :focus {\n    text-decoration: underline;\n  }\n"]))),Wt=ae.d.span(Pt||(Pt=Object(l.a)(["\n  flex: 0 0 48px;\n  text-align: center;\n"]))),Gt=e=>{const t=e.name,n=e.posts,a=e.types,r=e.onClick;return o.a.createElement(Ft,{onClick:r},o.a.createElement(Wt,null,o.a.createElement(Nt,{types:a})),o.a.createElement("span",{style:{flexGrow:1}},De(t)),o.a.createElement("span",{style:{paddingRight:5}},Fe(n)," posts"))};var Bt;const Ut=ae.d.div(e=>Object(ae.c)(Bt||(Bt=Object(l.a)(["\n    display: flex;\n    background: white;\n    ","\n  "])),e.closed?"border-radius: ".concat(e.theme.dimensions.borderRadius,";"):"\n        border-radius: ".concat(e.theme.dimensions.borderRadius," ").concat(e.theme.dimensions.borderRadius," 0 0;\n\n        > ").concat(Ne," {\n          border-radius: 0 ").concat(e.theme.dimensions.borderRadius," 0 0;\n        }\n\n        > ").concat(ze," {\n          border-radius: ").concat(e.theme.dimensions.borderRadius," 0 0 0;\n        }\n      ")));function Vt(){const e=Object(s.b)(),t=Object(a.useState)(""),n=Object(we.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)("+"),i=Object(we.a)(l,2),d=i[0],u=i[1],m=Object(a.useState)([]),b=Object(we.a)(m,2),h=b[0],p=b[1],f=Object(s.c)(R).tagSuggestionsCount,O=Object(a.useState)(null),j=Object(we.a)(O,2),v=j[0],w=j[1],y=Object(a.useCallback)(t=>{e(g(function(e){const t=e.name,n=e.types,a=e.count,o=e.modifier;return new K(t,n,Number(a),o)}({name:t.name,modifier:d,count:t.posts,types:t.types}))),c(""),p([])},[e,d]);Object(a.useEffect)(()=>{const e=setTimeout(()=>{var e;r?U.getTags((e=r,e.toLowerCase().replace(/ /g,"_")),f).then(e=>{p(e)}):p([])},300);return()=>clearTimeout(e)},[f,r]);const k=Object(a.useCallback)(()=>u("+"===d?"-":"+"),[d,u]),x=Object(a.useCallback)(()=>{if(r&&""!==r.trim()){const e=h.find(e=>e.name===r)||{};y(Object(E.a)(Object(E.a)({},e),{},{name:r}))}},[r,y,h]);return o.a.createElement(Ut,{ref:w,closed:0===h.length},o.a.createElement(Ae,{type:"modifier",onClick:k,label:"Tag Modifier"},d),o.a.createElement(Me,{value:r,setValue:c}),o.a.createElement(Ae,{type:"add",onClick:x,label:"Add Tag"},"Add"),h.length>0&&o.a.createElement(Dt,{tagSelectorRef:v,entries:h,onClick:e=>y(e)}))}var Ht,Kt;const Xt=ae.d.div(e=>Object(ae.c)(Ht||(Ht=Object(l.a)(["\n    border-radius: 30px;\n    width: 50px;\n    border: "," solid\n      ",";\n    background-color: ",";\n    transition: transform 0.4s ease-in-out;\n  "])),e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.colors.backgroundColor)),qt=ae.d.div(e=>Object(ae.c)(Kt||(Kt=Object(l.a)(["\n    width: 20px;\n    height: 20px;\n    background-color: ",";\n    border-radius: 50%;\n    transition: all 0.2s ease-in-out;\n    transform: translate(",");\n  "])),e.value?e.theme.colors.accentColor:e.theme.colors.backgroundColor2,e.value?"30px":"0px"));function Jt(e){const t=e.value,n=e.onToggle;return o.a.createElement(Xt,{onClick:n},o.a.createElement(qt,{value:t}))}var Yt,Qt;const Zt=ae.d.label(Yt||(Yt=Object(l.a)(["\n  display: flex;\n"]))),$t=ae.d.span(e=>Object(ae.c)(Qt||(Qt=Object(l.a)(["\n    margin: auto;\n    margin-left: ",";\n  "])),e.theme.dimensions.gutter));function en(e){const t=e.children,n=e.value,a=e.onToggle;return o.a.createElement(Zt,null,o.a.createElement(Jt,{value:n,onToggle:a}),o.a.createElement($t,null,t))}var tn,nn;const an=ae.d.div(e=>Object(ae.c)(tn||(tn=Object(l.a)(["\n    > *:not(:last-child) {\n      margin-bottom: ",";\n    }\n  "])),e.theme.dimensions.gutter)),on=ae.d.input(e=>Object(ae.c)(nn||(nn=Object(l.a)(["\n    background: none;\n    border: none;\n    outline: none;\n    color: ",";\n    width: ","em;\n    text-align: right;\n    font-size: ",";\n    margin: -1px 0.2em 0 0.2em;\n\n    ::-webkit-inner-spin-button,\n    ::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n    -moz-appearance: textfield;\n  "])),e.theme.colors.accentColor,.65*String(e.value).length,e.theme.fontSizes.content));function rn(){const e=Object(s.b)(),t=Object(s.c)(R),n=t.rated,r=t.ratedTreshold,c=Object(a.useState)(r),l=Object(we.a)(c,2),i=l[0],d=l[1],u=Object(a.useCallback)(()=>e(p("rated",!n)),[e,n]),m=Object(a.useCallback)(()=>e(p("ratedTreshold",i)),[e,i]);return o.a.createElement(an,null,o.a.createElement(en,{value:n,onToggle:u},n?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("span",null,"More than"),o.a.createElement(on,{type:"number",value:i,onChange:e=>d(Number(e.target.value)),onBlur:m}),o.a.createElement("span",null,"likes")):"Only show Rated Posts"))}var cn;const ln=ae.d.div(e=>Object(ae.c)(cn||(cn=Object(l.a)(["\n    display: inline-flex;\n    flex-wrap: wrap;\n    margin: calc(\n      "," -\n        ","\n    );\n  "])),e.padding?e.theme.dimensions.gutter:"0px",e.theme.dimensions.spacing));function sn(e){const t=e.tags,n=e.loadAliases,a=void 0!==n&&n,r=e.padding,c=void 0!==r&&r;return o.a.createElement("div",null,o.a.createElement(ln,{padding:c},Object.entries(t).map(([e,t])=>o.a.createElement(ht,Object.assign({key:e},t,{loadAliases:a})))))}function dn(e){const t=Object(ae.f)();return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 12.7 12.7"},o.a.createElement("g",{transform:"translate(0,-284.3)"},o.a.createElement("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:t.colors.accentColor,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),o.a.createElement("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:t.colors.accentColor,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)"},o.a.createElement("tspan",{id:"tspan4531",x:"2.1363549",y:"289.02704",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:t.colors.accentColor,fillOpacity:"1"},"34"))))}var un,mn,bn,hn;const gn=ae.d.header(e=>Object(ae.c)(un||(un=Object(l.a)(["\n    > *:not(:last-child) {\n      margin-bottom: ",";\n    }\n  "])),e.theme.dimensions.gutter)),pn=ae.d.div(e=>Object(ae.c)(mn||(mn=Object(l.a)(["\n    width: 1px;\n    height: 32px;\n    margin: 0 ",";\n    background: ",";\n  "])),e.theme.dimensions.gutter,e.theme.colors.backgroundColor2)),fn=ae.d.div(e=>Object(ae.c)(bn||(bn=Object(l.a)(["\n    background: ",";\n    ",";\n    padding: "," 0;\n    margin-bottom: ",";\n  "])),e.theme.misc.layer,e.theme.shadow.box,e.theme.dimensions.gutter,e.theme.dimensions.bigSpacing)),On=ae.d.nav(hn||(hn=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n"])));function jn(){const e=Object(s.c)(z),t=Object(s.b)();return o.a.createElement(gn,{role:"cell"},o.a.createElement(fn,null,o.a.createElement(re,null,o.a.createElement(dn,{size:32}),o.a.createElement(pn,null),o.a.createElement("span",{style:{marginTop:2}},"Browse ",o.a.createElement("a",{href:"https://rule34.xxx"},"Rule34")))),o.a.createElement(On,{role:"cell"},o.a.createElement(Ae,{type:"menu",active:"search"===e,onClick:()=>t(h("search")),label:"search"},"Search"),o.a.createElement(Ae,{type:"menu",active:"help"===e,onClick:()=>t(h("help")),label:"help"},"Help"),o.a.createElement(Ae,{type:"menu",active:"settings"===e,onClick:()=>t(h("settings")),label:"settings"},"Settings")))}var vn,En,wn;const yn=ae.d.footer(e=>Object(ae.c)(vn||(vn=Object(l.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1px 1fr 1px 1fr;\n    justify-content: space-around;\n    padding: ",";\n    height: 50vh;\n  "])),e.theme.dimensions.spacing)),kn=ae.d.div(e=>Object(ae.c)(En||(En=Object(l.a)(["\n    width: 1px;\n    height: 20px;\n    background: ",";\n  "])),e.theme.colors.backgroundColor2)),xn=ae.d.a(wn||(wn=Object(l.a)(["\n  text-align: center;\n"])));function Cn(){return o.a.createElement(yn,null,o.a.createElement(xn,{href:"https://github.com/kurozenzen/r34-react/issues/new?template=bug_report.md"},"Report a bug"),o.a.createElement(kn,null),o.a.createElement(xn,{href:"https://github.com/kurozenzen/r34-react"},"Github"),o.a.createElement(kn,null),o.a.createElement(xn,{href:"https://github.com/kurozenzen/r34-react/issues/new?template=feature_request.md"},"Feature request"))}function _n(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(jn,null),o.a.createElement(oe,null,"Help"),o.a.createElement(ie,null,o.a.createElement(oe,null,"Searching for Tags"),o.a.createElement(de,null),o.a.createElement(Vt,null),o.a.createElement(de,null),o.a.createElement("p",null,"You can use the Tag Selector to look for tags you like.The Tag Selector has 4 parts."),o.a.createElement("ol",null,o.a.createElement("li",null,'The modifier (left) determines wether posts must match a tag or not. Putting "-" will hide all posts with this tag'),o.a.createElement("li",null,"The Search Box (center) allows you to search for tags. As soon as you start typing the Tag Selector will show you relevant tags to choose from (4)."),o.a.createElement("li",null,"The Add Button (right) Allows you to add any tag to the current filter. Usefull when using wildcards."),o.a.createElement("li",null,"The Tag Dropdown (left) automatically shows tags that start with your input. It also includes The number of posts tagged, to allow you to weigh tags against each other."))),o.a.createElement(ie,null,o.a.createElement(oe,null,"Options"),o.a.createElement(de,null),o.a.createElement(rn,null),o.a.createElement(de,null),o.a.createElement("p",null,"Options allow you to customize your experience in various ways. There are 3 options available"),o.a.createElement("ol",null,o.a.createElement("li",null,"Infinite Scrolling automatically loads new posts when you get close to the bottom of the page."),o.a.createElement("li",null,"Only show Rated posts filters out posts below the specified amount of posts."),o.a.createElement("li",null,"Load original sizes always loads the highest quality of an image. This can easily cause extreme data consumption. Don't use with mobile data."))),o.a.createElement(ie,null,o.a.createElement(oe,null,"Tags"),o.a.createElement(de,null),o.a.createElement(sn,{tags:{"Tag 1":{name:"Tag 1"},"Tag 2":{name:"Tag 2",types:["character"]},"Tag 3":{name:"Tag 3",modifier:"-",types:["copyright"],count:1020}}}),o.a.createElement(de,null),o.a.createElement("p",null,"This whole application is based on tags. Every Post has multiple tags. Usually you can enable/disable a tag just by tapping it. If a tag is red it means its active. The icons next to the name show what type of tag it is. Not every tag has a type. The number on the right shows how many posts there are with that tag.")),o.a.createElement(Cn,null))}var Sn;const Tn=ae.d.div(Sn||(Sn=Object(l.a)(["\n  display: grid;\n  grid-template-columns: 1fr auto;\n  grid-template-rows: auto auto;\n\n  > h3 {\n    grid-column: 1/2;\n    grid-row: 1/2;\n  }\n\n  > p {\n    grid-column: 1/2;\n    grid-row: 2/3;\n  }\n\n  > :nth-child(3) {\n    grid-column: 2/3;\n    grid-row: 1/3;\n  }\n"])));function Rn({title:e,description:t,children:n}){return o.a.createElement(Tn,null,o.a.createElement(ce,null,e),o.a.createElement("p",null,t),o.a.createElement("div",null,n))}var Ln;const Nn=ae.d.input(e=>Object(ae.c)(Ln||(Ln=Object(l.a)(["\n    width: 50px;\n    border: "," solid\n      ",";\n    background-color: ",";\n    padding: 3px;\n    border-radius: 3px;\n    text-align: right;\n  "])),e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.colors.backgroundColor2));function zn({type:e,value:t,onChange:n}){return o.a.createElement(Nn,{type:e,value:t,onChange:n})}function In(){const e=Object(s.b)(),t=Object(s.c)(R),n=t.preloadVideos,r=t.tagSuggestionsCount,c=t.originals,l=Object(a.useCallback)(()=>e(p("preload_videos",!n)),[e,n]),i=Object(a.useCallback)(()=>e(p("originals",!c)),[e,c]),d=Object(a.useCallback)(t=>e(p("tag_suggestion_count",t.target.value)),[e]),u=Object(a.useCallback)(()=>{localStorage.clear(),window.location.reload()},[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(jn,null),o.a.createElement(oe,null,"Settings"),o.a.createElement(ie,null,o.a.createElement(oe,null,"General"),o.a.createElement(de,null),o.a.createElement(Rn,{title:"Preload Videos",description:"Start loading videos immediately instead of just-in-time. This can improve the viewing experience but will consume a LOT of data. Only use with WIFI."},o.a.createElement(Jt,{value:n,onToggle:l})),o.a.createElement(de,null),o.a.createElement(Rn,{title:"Load original sizes",description:"Display images and videos at their original resolution. This will consume more data but provides a nicer experience."},o.a.createElement(Jt,{value:c,onToggle:i})),o.a.createElement(de,null),o.a.createElement(Rn,{title:"Number of Tag suggestions",description:"Controls the number of tags displayed when searching. Increase this when searching for niche tags."},o.a.createElement(zn,{type:"number",value:r,onChange:d})),o.a.createElement(de,null),o.a.createElement(oe,null,"Developer"),o.a.createElement(Le,{onClick:u},"Reset Application")),o.a.createElement(Cn,null))}var An=n(26);function Pn(e){const t=e.Header,n=e.items,r=void 0===n?[]:n,c=e.LoadingItem,l=e.hasMoreRows,s=e.ItemComponent,i=e.loadMore,d=e.OutOfItems,u=e.isLoading,m=e.setLoading,b=Object(a.useState)(null),h=Object(we.a)(b,2),g=h[0],p=h[1],f=Object(a.useMemo)(()=>new An.b({fixedWidth:!0}),[]),O=t?1:0,j=r.length+O+1,v=Object(a.useCallback)(({index:e})=>e<O+r.length+(l?0:1),[l,r.length,O]);Object(a.useEffect)(()=>{if(g){const e=()=>{g.measureAllRows(),g.recomputeRowHeights(),g.forceUpdateGrid()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}},[g]);const E=Object(a.useCallback)(({index:e,key:n,parent:a,style:i})=>o.a.createElement(An.a,{cache:f,columnIndex:0,key:n,rowIndex:e,parent:a},({measure:n,registerChild:a})=>t&&e<O?o.a.createElement(t,{style:i,virtualRef:a,onLoad:n}):e<O+r.length?o.a.createElement(s,Object.assign({style:i,virtualRef:a,onLoad:n},r[e-O])):e<O+r.length+1?l||u?o.a.createElement(c,{style:i,virtualRef:a,onLoad:n}):d&&r.length>0?o.a.createElement(d,{style:i,virtualRef:a,onLoad:n}):o.a.createElement("div",null):(console.warn("index not found / out of bounds. INDEX:",e),null)),[f,t,O,r,l,u,d]);return o.a.createElement(An.c,{isRowLoaded:v,loadMoreRows:e=>u||!l?Promise.reject(0):(m(!0),i(),new Promise(e=>{setTimeout(()=>{m(!1),e(1)},1e3)})),rowCount:j},({onRowsRendered:e,registerChild:t})=>o.a.createElement(An.d,{ref:e=>{p(e),t(e)},onRowsRendered:e,rowRenderer:E,deferredMeasurementCache:f,overscanRowCount:0,rowCount:r.length+O+1,rowHeight:f.rowHeight,width:window.innerWidth,height:window.innerHeight}))}var Mn,Dn=e=>o.a.createElement("span",null,o.a.createElement(xt,{color:"white",left:!0}),e.value[0].toUpperCase()),Fn=e=>o.a.createElement("span",null,e.value,o.a.createElement(Ct,{color:"white",right:!0})),Wn=e=>e.value.startsWith("http")?e.value.includes("twitter")?o.a.createElement(Bn,{value:e.value}):o.a.createElement("a",{href:e.value,target:"_blank",rel:"noopener noreferrer",className:"source"},o.a.createElement(St,{color:"red",left:!0}),(e=>{if(e.includes("http:")||e.includes("https:")||e.includes("www.")||e.includes(".com")){let t=e.replace(/https?:\/\//,"").replace(/ww[w\d]\./,"").replace(".com","").replace(".org","").replace(".net","");return t.substring(0,t.indexOf("/"))}return e})(e.value)):o.a.createElement("span",null,o.a.createElement(kt,{color:"white",left:!0}),e.value);const Gn=ae.d.a(e=>Object(ae.c)(Mn||(Mn=Object(l.a)(["\n    color: "," !important;\n  "])),e.color)),Bn=({value:e})=>o.a.createElement(Gn,{href:e,target:"_blank",rel:"noopener noreferrer",className:"source",color:"rgb(29, 161, 242)"},o.a.createElement(_t,{color:"rgb(29, 161, 242)",left:!0}),e.split("twitter.com/")[1].split(" ")[0].split("?")[0].split("/")[0]);var Un,Vn;const Hn=ae.d.div(({theme:{dimensions:e,misc:t,shadow:n}})=>Object(ae.c)(Un||(Un=Object(l.a)(["\n    grid-row: 2/3;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    background: ",";\n    padding: ",";\n    ",";\n    border-radius: 0 0 "," ",";\n  "])),t.layer,e.bigSpacing,n.box,e.borderRadius,e.borderRadius)),Kn=Object(ae.d)(sn)(Vn||(Vn=Object(l.a)(["\n  grid-row: 3/4;\n"])));function Xn(e){const t=e.rating,n=e.score,r=e.source,c=e.tags,l=Object(a.useMemo)(()=>{return e="name",c.reduce((t,n)=>(t[n[e]]=n,t),{});var e},[c]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Hn,{className:"bar"},!!t&&o.a.createElement(Dn,{value:t}),!!n&&o.a.createElement(Fn,{value:n}),!!r&&o.a.createElement(Wn,{value:r})),o.a.createElement(Kn,{tags:l,padding:!0,loadAliases:!1}))}var qn;var Jn,Yn=ae.d.video(qn||(qn=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: contain;\n  grid-area: 1/1/2/2;\n"])));const Qn=Object(ae.e)(Jn||(Jn=Object(l.a)(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n"])));var Zn,$n,ea,ta,na,aa,oa;const ra=ae.d.div(e=>Object(ae.c)(Zn||(Zn=Object(l.a)(["\n    grid-area: 1/1/2/2;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: auto 1fr auto auto;\n\n    ",";\n  "])),e.isVisible?"":Object(ae.c)($n||($n=Object(l.a)(["\n          opacity: 0;\n          animation: "," 0.4s ease-in-out;\n        "])),Qn))),ca=ae.d.div(e=>Object(ae.c)(ea||(ea=Object(l.a)(["\n    grid-area: 4/5/4/4;\n    height: 5px;\n    background-color: ",";\n  "])),e.theme.colors.accentColor)),la=Object(ae.d)(Ae).attrs({type:"invisible"})(e=>Object(ae.c)(ta||(ta=Object(l.a)(["\n    width: max-content;\n    height: max-content;\n    padding: ",";\n  "])),e.theme.dimensions.bigSpacing)),sa=Object(ae.d)(la)(na||(na=Object(l.a)(["\n  grid-area: 1/1/2/2;\n  place-self: start start;\n"]))),ia=Object(ae.d)(la)(aa||(aa=Object(l.a)(["\n  grid-area: 3/1/4/1;\n  place-self: end start;\n"]))),da=Object(ae.d)(la)(oa||(oa=Object(l.a)(["\n  grid-area: 2/2/3/3;\n  place-self: center center;\n"])));var ua=function(e){const t=e.onFullscreen,n=void 0===t?Lt:t,a=e.togglePlay,r=void 0===a?Lt:a,c=e.isPaused,l=void 0===c||c,s=e.isPlayable,i=void 0!==s&&s,d=e.currentTime,u=void 0===d?0:d,m=e.duration,b=void 0===m?null:m,h=e.openInNewTab,g=We(),p=Object(we.a)(g,2),f=p[0],O=p[1];return o.a.createElement(ra,{isVisible:l||f,onClick:O},n&&o.a.createElement(sa,{onClick:n,label:"Open Fullscreen"},o.a.createElement(Et,{color:"white"})),o.a.createElement(ia,{onClick:h,label:"Open In New Tab"},o.a.createElement(yt,{color:"white"})),i&&o.a.createElement(o.a.Fragment,null,o.a.createElement(da,{onClick:r,label:"Play/Pause"},l?o.a.createElement(Tt,{color:"white",size:50}):o.a.createElement(Rt,{color:"white",size:50})),!!b&&!!u&&o.a.createElement(ca,{style:{width:"".concat(u/b*100,"%")}})))};function ma(e){const t=e.src,n=e.onLoad,r=e.openInNewTab,c=Object(a.useState)(null),l=Object(we.a)(c,2),i=l[0],d=l[1],u=Object(a.useState)(Date.now()),m=Object(we.a)(u,2)[1],b=Object(a.useState)(null),h=Object(we.a)(b,2),g=h[0],p=h[1],f=Object(a.useCallback)(()=>{i&&i.play();const e=setInterval(()=>{m(Date.now())},34);p(e)},[i]),O=Object(a.useCallback)(()=>{i&&i.pause(),clearInterval(g),p(null)},[i,g]),j=Object(a.useCallback)(()=>i&&void i.requestFullscreen(),[i]),v=Object(a.useCallback)(e=>{e.stopPropagation(),i&&(i.paused?f():O())},[i,f,O]),E=Object(s.c)(R).preloadVideos;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Yn,{controls:!1,loop:!0,src:t,preload:E?"auto":"metadata",ref:d,onLoadedMetadata:n}),o.a.createElement(ua,{isPaused:!i||i.paused,currentTime:i?i.currentTime:void 0,duration:i?i.duration:void 0,onFullscreen:j,togglePlay:v,openInNewTab:r,isPlayable:!0}))}var ba;var ha=ae.d.img(ba||(ba=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: contain;\n  grid-area: 1/1/2/2;\n"])));function ga(e){const t=e.src,n=e.thumbnail_src,r=e.onLoad,c=e.openInNewTab,l=Object(a.useState)(!0),s=Object(we.a)(l,2),i=s[0],d=s[1],u=i?n:t;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ha,{src:u,alt:u,loading:"lazy",onLoad:r}),o.a.createElement(ua,{isPlayable:!0,isPaused:i,togglePlay:e=>{e.stopPropagation(),d(!i)},openInNewTab:c}))}function pa(e){const t=e.src,n=e.onLoad,a=e.openInNewTab;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ha,{src:t,alt:t,onLoad:n,loading:"lazy"}),o.a.createElement(ua,{isPlayable:!1,openInNewTab:a}))}function fa(e){const t=e.type,n=e.src,r=e.thumbnail_src,c=e.onLoad,l=Object(a.useCallback)(e=>{var t;e.stopPropagation();const a=null===(t=new URL(n).searchParams.get("url"))||void 0===t?void 0:t.replace("//","/").split("?")[0];a&&window.open(a)},[n]),s=Object(a.useMemo)(()=>{const e=((e,t)=>{switch(((e,t)=>"video"===e?"video":t.includes(".gif")?"gif":"picture")(e,t)){case"video":return ma;case"gif":return ga;default:return pa}})(t,n);return o.a.createElement(e,{src:n,thumbnail_src:r,onLoad:c,openInNewTab:l})},[t,n,r,c,l]);return o.a.createElement(o.a.Fragment,null,s)}var Oa,ja,va,Ea,wa=Object(ae.c)(Oa||(Oa=Object(l.a)(["\n  padding: 0 10px;\n  width: 100%;\n  max-width: 1000px;\n  margin: auto;\n"])));const ya=ae.d.div(ja||(ja=Object(l.a)(["\n  padding-top: 10px;\n"]))),ka=ae.d.div(va||(va=Object(l.a)(["\n  ","\n"])),wa),xa=ae.d.div(e=>Object(ae.c)(Ea||(Ea=Object(l.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: auto auto auto;\n    border-radius: ",";\n    overflow: hidden;\n    ",";\n  "])),e.theme.dimensions.borderRadius,e.theme.misc.layer));function Ca(e){const t=e.id,n=e.media_type,r=e.small_src,c=e.big_src,l=e.thumbnail_src,i=e.rating,d=e.score,u=e.source,m=e.tags,b=e.style,h=e.onLoad,g=e.virtualRef,p=function(e,t,n,a){let o;return e?o=t:(o="".concat(n,"?").concat(a),o.includes("//images")&&(o=o.replace("//images","/images"))),o}(Object(s.c)(L),c,r,t),f=Object(a.useState)(!0),O=Object(we.a)(f,2),j=O[0],v=O[1],E=Object(a.useCallback)(()=>{v(!j),setTimeout(h,100)},[j,h]),w=Object(a.useMemo)(()=>o.a.createElement(Xn,{rating:i,score:d,source:u,tags:m}),[i,d,u,m]);return o.a.createElement(ya,{style:b,ref:g,className:"list-div"},o.a.createElement(ka,null,o.a.createElement(xa,{onClick:E,role:"row"},o.a.createElement(fa,{onLoad:h,type:n,src:p,thumbnail_src:l}),!j&&w)))}function _a(){const e=Object(s.b)(),t=Object(a.useCallback)(()=>e({type:"R34_GET_RESULTS"}),[e]);return o.a.createElement(Ae,{type:"block",onClick:t,label:"Search"},"Search")}function Sa({onChange:e}){const t=Object(s.c)(C);return Object(a.useEffect)(()=>{e()},[e,t]),Object.keys(t).length>0?o.a.createElement(sn,{tags:t,loadAliases:!0}):null}var Ta;const Ra=ae.d.section(e=>Object(ae.c)(Ta||(Ta=Object(l.a)(["\n    display: grid;\n    ","\n\n    > *:not(:last-child) {\n      margin-bottom: ",";\n    }\n  "])),wa,e.theme.dimensions.gutter));function La(e){const t=e.onLoad;return o.a.createElement(Ra,null,o.a.createElement(oe,null,o.a.createElement("label",{htmlFor:"tag-input"},"Search")),o.a.createElement(ie,null,o.a.createElement(Vt,null),o.a.createElement(Sa,{onChange:t}),o.a.createElement(rn,null),o.a.createElement(_a,null)))}function Na({onLoad:e,virtualRef:t,style:n}){const r=We(),c=Object(we.a)(r,2),l=c[0],i=c[1],d=Object(s.c)(S);return Object(a.useEffect)(()=>{d>0&&e()},[d,e]),o.a.createElement("div",{onLoad:e,ref:t,style:n,role:"row"},o.a.createElement(jn,null),o.a.createElement(La,{onLoad:e}),d>0&&o.a.createElement(oe,{onClick:i},(l?d.toLocaleString():Fe(d))+" results"))}var za,Ia=n(32),Aa=n.n(Ia);function Pa({onLoad:e,virtualRef:t,style:n}){const r=Object(s.c)(I),c=Object(a.useMemo)(()=>r.reduce((e,t)=>(e[t.name]=t,e),{}),[r]);return o.a.createElement("div",{style:n,ref:t,onLoad:e,role:"row"},o.a.createElement(ie,null,o.a.createElement("img",{src:Aa.a,alt:Aa.a,style:{width:"100%"}}),o.a.createElement(de,null),o.a.createElement(oe,null,"You have reached the end!"),o.a.createElement("p",{style:{textAlign:"center"}},"Go look for something else!"),r.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{style:{textAlign:"center"}},"How about some of these?"),o.a.createElement(sn,{tags:c,padding:!0}))))}const Ma=ae.d.svg(za||(za=Object(l.a)(["\n  height: 35px;\n  padding: 10px;\n"])));function Da(){return o.a.createElement(Ma,{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 50 20","enable-background":"new 0 0 0 0",xmlSpace:"preserve"},o.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"6",cy:"10",r:"6"},o.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})),o.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"26",cy:"10",r:"6"},o.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})),o.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"46",cy:"10",r:"6"},o.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"})))}var Fa;const Wa=ae.d.div(Fa||(Fa=Object(l.a)(["\n  display: grid;\n  place-items: center;\n"])));function Ga({onLoad:e,virtualRef:t,style:n}){return o.a.createElement(Wa,{onLoad:e,ref:t,style:n,role:"row"},o.a.createElement(Da,null))}function Ba(){const e=Object(s.b)(),t=Object(s.c)(_),n=!Object(s.c)(A),r=Object(a.useCallback)(()=>e({type:"R34_GET_MORE_RESULTS"}),[e]),c=Object(a.useState)(!1),l=Object(we.a)(c,2),i=l[0],d=l[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Pn,{Header:Na,OutOfItems:Pa,items:t,LoadingItem:Ga,hasMoreRows:n,ItemComponent:Ca,loadMore:r,isLoading:i,setLoading:d}))}var Ua;const Va=ae.d.div(e=>Object(ae.c)(Ua||(Ua=Object(l.a)(["\n    position: fixed;\n    display: flex;\n    bottom: 0;\n    bottom: left;\n    width: 100%;\n    color: ",";\n    background: ",";\n    justify-content: space-between;\n    padding: "," 0;\n\n    span {\n      margin: auto 0;\n      margin-left: ",";\n    }\n\n    button {\n      margin-right: ",";\n    }\n  "])),e.theme.colors.text,e.theme.colors.backgroundColor,e.theme.dimensions.gutter,e.theme.dimensions.gutter,e.theme.dimensions.gutter));function Ha(){const e=Object(s.b)(),t=Object(a.useCallback)(()=>{e({type:"R34_ALLOW_COOKIES",value:!0})},[e]);return o.a.createElement(Va,null,o.a.createElement("span",null,"This website uses cookies."),o.a.createElement(Ae,{type:"red",onClick:t,label:"Allow Cookies"},"Cool"))}var Ka;const Xa=ae.d.div(e=>Object(ae.c)(Ka||(Ka=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: strech;\n    width: 100vw;\n    min-height: 100vh;\n    background: ",";\n    color: ",";\n    font-size: ",";\n\n    a {\n      color: ",";\n      text-decoration: none;\n    }\n\n    > *:not(:last-child) {\n      margin-bottom: ",";\n    }\n  "])),e.theme.colors.backgroundColor,e.theme.colors.backgroundColor2,e.theme.fontSizes.content,e.theme.colors.accentColor,e.theme.dimensions.gutter));function qa(){const e=Object(s.c)(z),t=Object(s.c)(N),n=Object(a.useMemo)(()=>({help:o.a.createElement(_n,null),settings:o.a.createElement(In,null),search:o.a.createElement(Ba,null)}),[]);return o.a.createElement(Xa,null,n[e],!t&&o.a.createElement(Ha,null))}var Ja,Ya={dimensions:{borderRadius:"3px",borderWidth:"2px",spacing:"4px",bigSpacing:"8px",appMargin:"16px",gutter:"8px"},colors:{accentColor:"#ee3344",hoverAccent:"#ee3344",backgroundColor:"#121212",backgroundColor2:"#fff"},shadow:{box:"box-shadow: 0 0 8px #000",drop:"drop-shadow(0 0 4px #000)"},timings:{transistionTime:"0.2s"},misc:{layer:"#ffffff11; :hover { background: #ffffff16;} transition: background-color 0.2s ease-in-out"},fontSizes:{content:"17px"}};const Qa=Object(ae.b)(e=>Object(ae.c)(Ja||(Ja=Object(l.a)(["\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      background-color: ",";\n    }\n  "])),e.theme.colors.backgroundColor));function Za(){return o.a.createElement(s.a,{store:Q},o.a.createElement(ne.a,{loading:null,persistor:Z},o.a.createElement(ae.a,{theme:Ya},o.a.createElement(Qa,null),o.a.createElement(qa,null))))}c.a.render(o.a.createElement(Za,null),document.getElementById("app-root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.c4b58f7f.chunk.js.map