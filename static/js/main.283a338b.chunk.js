(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{27:function(e,n,t){e.exports=t(43)},32:function(e,n,t){},37:function(e,n,t){},42:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(16),i=t.n(c),o=(t(32),t(3)),u=t(1),l=t(7),s=t(17),f=t(23),m=t(18),p=t(26),d=t(2);function h(){var e=Object(u.a)(["\n  font-size: 24px;\n  font-weight: lighter;\n  margin: 0;\n  text-align: center;\n"]);return h=function(){return e},e}function g(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: lighter;\n  text-align: center;\n  margin: 0;\n"]);return g=function(){return e},e}var b=d.a.h1(g()),v=d.a.h2(h());var E=function(e){var n=e.size,t=e.children;switch(n){case"large":return r.a.createElement(b,null,t);case"medium":default:return r.a.createElement(v,null,t)}},O="#ef3322",y="#ffffff11; :hover { background: #ffffff16;} transition: background-color 0.4s ease-in-out",j="box-shadow: 0 0 8px rgba(0, 0, 0, 1)",x="8px";function w(){var e=Object(u.a)(["\n  width: 100%;\n  height: 1px;\n  background: ",";\n"]);return w=function(){return e},e}function k(){var e=Object(u.a)(["\n  padding: ",";\n  background: ",";\n  ",";\n  border-radius: ",";\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return k=function(){return e},e}var T=d.a.div(k(),x,y,j,"3px",x),C=d.a.div(w(),y),_=t(21),S=t(5),P=t.n(S),N=t(8),z=20,A="https://r34-json.herokuapp.com";fetch(A).catch((function(){return A="https://r34-api-clone.herokuapp.com"}));var I={getTags:function(){var e=Object(N.a)(P.a.mark((function e(n){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A+"/tags?limit="+z+"&name="+n+"*&order_by=posts");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getPosts:function(){var e=Object(N.a)(P.a.mark((function e(n){var t,a,r,c=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:0,a=c.length>2&&void 0!==c[2]?c[2]:0,e.next=4,fetch(F(t,n,a));case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getAliases:function(){var e=Object(N.a)(P.a.mark((function e(n){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A+"/alias/"+n);case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};function F(e,n,t){var a=A+"/posts";return a+="?pid="+e,a+="&limit="+z,a+="&tags="+n.map((function(e){return(e.modifier?e.modifier:"")+encodeURIComponent(e.name)})).join("+"),a+=encodeURIComponent("+score:>="+t)}var D=function e(n,t,a,r,c,i,o,u,s,f,m,p,d,h,g,b,v,E,O,y,j){Object(l.a)(this,e),this.id=n,this.score=t,this.rating=a,this.source=r,this.tags=c,this.media_type=i,this.small_src=o,this.big_src=u,this.thumbnail_src=s,this.width=f,this.height=m,this.creator_id=p,this.creator_url=d,this.status=h,this.parent_id=g,this.has_children=b,this.has_comments=v,this.comments_url=E,this.has_notes=O,this.created_at=y,this.change=j},U=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"+";Object(l.a)(this,e),this.name=n,this.types=t,this.count=a,this.modifier=r},M=function(e){return e.name?function(e){var n=e.name,t=e.types,a=e.count,r=e.modifier;return new U(n,t,Number(a),r)}(e):function(e){var n=e.id,t=e.type,a=e.score,r=e.rating,c=e.source,i=e.tags,o=e.file_url,u=e.width,l=e.height,s=e.creator_id,f=e.creator_url,m=e.sample_url,p=e.preview_url,d=e.status,h=e.parent_id,g=e.has_children,b=e.has_comments,v=e.comments_url,E=e.has_notes,O=e.created_at,y=e.change;return new D(Number(n),Number(a),r,c,i?i.map((function(e){return new U(e)})):[],t,m,o,p,Number(u),Number(l),Number(s),f,d,h,g,b,v,E,O,y)}(e)};function R(){var e=Object(u.a)(["\n  min-width: 48px;\n  border: "," "," solid;\n  border-right-width: 0;\n  border-radius: "," 0 0 ",";\n"]);return R=function(){return e},e}function G(){var e=Object(u.a)(["\n  border-left-width: 0;\n  border-radius: 0 "," "," 0;\n"]);return G=function(){return e},e}function L(){var e=Object(u.a)(["\n  width: 100%;\n  border-radius: ",";\n"]);return L=function(){return e},e}function B(){var e=Object(u.a)(["\n  height: 32px;\n  font-size: 14px;\n  color: ",";\n  background: ",";\n  border: "," "," solid;\n\n  transition: border-color 0.4s ease-in-out;\n  transition: color 0.4s ease-in-out;\n  transition: background-color 0.4s ease-in-out;\n\n  :hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  :active,\n  :focus {\n    color: ",";\n\n    border-color: ",";\n    cursor: pointer;\n  }\n"]);return B=function(){return e},e}function V(){var e=Object(u.a)(["\n  position: absolute;\n"]);return V=function(){return e},e}function W(){var e=Object(u.a)(["\n  color: ",";\n"]);return W=function(){return e},e}function H(){var e=Object(u.a)(["\n  background: none;\n  border: none;\n  padding: ",";\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return H=function(){return e},e}function K(){var e=Object(u.a)(["\n  font-size: 14px;\n\n  :focus {\n    outline: none;\n  }\n"]);return K=function(){return e},e}var J=d.a.button(K()),q=Object(d.a)(J)(H(),"4px"),$=Object(d.a)(q)(W(),(function(e){return e.active?O:"white"})),Y=Object(d.a)(q)(V()),Q=Object(d.a)(J)(B(),O,"#121212",O,"2px",O,"#121212","white","white"),X=Object(d.a)(Q)(L(),"3px"),Z=Object(d.a)(Q)(G(),"3px","3px"),ee=Object(d.a)(q)(R(),O,"2px","3px","3px");function ne(e){var n,t=e.type,a=e.children,c=e.onClick,i=e.active,o=e.disabled,u=e.label;switch(t){case"invisible":n=q;break;case"block":n=X;break;case"topLeft":n=Y;break;case"modifier":n=ee;break;case"add":n=Z;break;case"menu":n=$;break;default:n=Q}return r.a.createElement(n,{onClick:c,active:i,disabled:o,"aria-label":u},a)}function te(){var e=Object(u.a)(["\n  width: 100%;\n  border: none;\n  outline: none;\n  background: none;\n  font-size: 14px;\n  border-top: "," "," solid;\n  border-bottom: "," "," solid;\n"]);return te=function(){return e},e}var ae=d.a.input(te(),O,"2px",O,"2px");function re(e){var n=e.value,t=e.setValue;return r.a.createElement(ae,{id:"tag-input",value:n,onChange:function(e){return t(e.target.value)},placeholder:"Search for tags"})}t(37);function ce(e){return e.replace(/_/g," ")}function ie(){var e=Object(u.a)(["\n  ","\n  ","\n"]);return ie=function(){return e},e}function oe(){var e=Object(u.a)(["\n  display: inline-block;\n  padding: 0.25rem;\n  border-radius: ","\n  font-size: 14px;\n  line-height: 1.2;\n  vertical-align: baseline;\n  margin: ",";\n  ","\n"]);return oe=function(){return e},e}var ue=d.a.div(oe(),(function(e){return e.collapsed?"3px":"".concat("3px"," ").concat("3px"," 0 0")}),(function(){return"4px"}),(function(e){var n=e.active,t=n?"#121212":O,a=n?O:"#121212";return"\n    color: ".concat(t,";\n    background-color: ").concat(a,";\n    border: ").concat(O," ").concat("2px"," solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover {\n      background-color: ").concat(t,";\n      color: ").concat(a,";\n      \n      i {\n        color: ").concat(a,";\n      }\n    }\n\n    :focus, :active {\n      color: ").concat("white",";\n      border-color: ").concat("white","\n    }\n  ")})),le=d.a.span(ie(),(function(e){return e.left?"margin-right: 5px;":""}),(function(e){return e.right?"margin-left: 5px;":""}));function se(e){var n=e.name,t=e.count,c=e.modifier,i=e.types,u=e.activeTags,l=e.loadAliases,s=e.dispatch,f=Object(a.useState)(),m=Object(o.a)(f,2),p=m[0],d=m[1],h=Object(a.useState)(!0),g=Object(o.a)(h,2),b=g[0],v=g[1];Object(a.useEffect)((function(){u.some((function(e){return e.name===n}))&&I.getAliases(n).then((function(e){e.sort((function(e,n){return Number(n.posts)-Number(e.posts)})),d(e.filter((function(e){return!u.some((function(n){return n.name===e.name}))})))}))}),[n,u]);var E=u.some((function(e){return e.name===n})),O=l&&p&&p.length>0;return r.a.createElement(ue,{active:E,collapsed:b,onMouseLeave:function(){return v(!0)},tabIndex:"0"},r.a.createElement(ze,{types:i,left:!0}),r.a.createElement(fe,{name:n,count:t,modifier:c,types:i,activeTags:u,dispatch:s}),O&&r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{right:!0,onClick:function(){return v(!b)}},r.a.createElement(Te,null)),r.a.createElement("div",{className:"dropdown-list"+(b?"":" visible")},p.map((function(e){var n=e.name,t=e.posts;return r.a.createElement(me,{key:"t_"+n,name:n,count:t,dispatch:s})})))))}function fe(e){var n=e.name,t=e.count,a=e.types,c=e.modifier,i=e.dispatch,o=ce(n),u=t?"".concat(o," (").concat(t,")"):o;return r.a.createElement("span",{onClick:function(){return i({type:"TOGGLE_TAG",tag:{name:n,count:t,types:a,modifier:c}})},onKeyDown:function(e){return 32===e.keyCode&&i({type:"TOGGLE_TAG",tag:{name:n,count:t,types:a,modifier:c}})}},"-"===c?r.a.createElement("s",null,u):u)}function me(e){var n=e.name,t=e.count,a=e.dispatch;return r.a.createElement("div",{className:"alias"},r.a.createElement(fe,{name:n,count:t,dispatch:a}))}se.defaultProps={types:[],onClick:function(){}},fe.defaultProps={modifier:"+",types:[],activeTags:[],onClick:function(){}};var pe=se;function de(){var e=Object(u.a)(["\n  line-height: 16px;\n  ","\n  ","\n"]);return de=function(){return e},e}function he(){var e=Object(u.a)(["\n  ","\n"]);return he=function(){return e},e}var ge=d.a.i(he(),(function(e){var n=e.color,t=e.size;return"\n    color: ".concat(n,";\n    width: ").concat(t,"px;\n    height: ").concat(t,"px;\n\n    ").concat(ue,":hover & {\n      color: ").concat(O,";\n    }\n\n    ").concat(ue,":active & ,  ").concat(ue,":focus & {\n      color: ").concat("white",";\n    }\n  ")})),be=d.a.span(de(),(function(e){return e.left?"margin-right: 5px;":""}),(function(e){return e.right?"margin-left: 5px;":""})),ve=function(e){var n=e.className,t=e.icon,a=e.color,c=e.size,i=e.onClick,o=e.left,u=e.right;return r.a.createElement(be,{onClick:i,left:o,right:u},r.a.createElement(ge,{className:"fas ".concat(t," ").concat(n),color:a,size:c}))};function Ee(e){return r.a.createElement(ve,Object.assign({icon:"fa-user"},e))}function Oe(e){return r.a.createElement(ve,Object.assign({icon:"fa-pen"},e))}function ye(e){return r.a.createElement(ve,Object.assign({icon:"fa-copyright"},e))}function je(e){return r.a.createElement(ve,Object.assign({icon:"fa-plus-circle"},e))}function xe(e){return r.a.createElement(ve,Object.assign({icon:"fa-minus-circle"},e))}function we(e){return r.a.createElement(ve,Object.assign({icon:"fa-times"},e))}function ke(e){return r.a.createElement(ve,Object.assign({icon:"fa-expand"},e))}function Te(e){return r.a.createElement(ve,Object.assign({icon:"fa-caret-down"},e))}function Ce(e){return r.a.createElement(ve,Object.assign({icon:"fa-external-link-alt"},e))}function _e(e){return r.a.createElement(ve,Object.assign({icon:"fa-hashtag"},e))}function Se(e){return r.a.createElement(ve,Object.assign({icon:"fa-registered"},e))}function Pe(e){return r.a.createElement(ve,Object.assign({icon:"fa-heart"},e))}function Ne(e){var n=e.types,t=e.className,a=e.onClick;switch(n.find((function(e){return!e.match(/^[general|ambiguous]$/)}))){case"character":return r.a.createElement(Ee,{className:t,onClick:a,left:!0});case"copyright":return r.a.createElement(ye,{className:t,onClick:a,left:!0});case"artist":return r.a.createElement(Oe,{className:t,onClick:a,left:!0});default:return r.a.createElement("div",{className:t})}}ve.defaultProps={color:"black",size:14},Ne.defaultProps={types:[]};var ze=Ne;function Ae(e){var n=Number(e);return n>=1e6?"".concat((n/1e6).toFixed(0),"M"):n>=1e3?"".concat((n/1e3).toFixed(0),"K"):n}function Ie(){var e=Object(u.a)(["\n  flex: 0 0 48px;\n  text-align: center;\n"]);return Ie=function(){return e},e}function Fe(){var e=Object(u.a)(["\n  display: flex;\n  height: 28px;\n\n  > * {\n    margin: auto;\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px grey solid;\n  }\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return Fe=function(){return e},e}function De(){var e=Object(u.a)(["\n  ",";\n  display: none;\n  background: white;\n  box-sizing: border-box;\n  border: "," "," solid;\n  border-radius: 0 0 3px 3px;\n  color: black;\n  z-index: 1;\n"]);return De=function(){return e},e}var Ue=d.a.div(De(),(function(e){var n=e.inputRef;return n?"\n      position: absolute;\n      top: ".concat(n.offsetTop+n.clientHeight-2,"px;\n      left: ").concat(n.offsetLeft,"px;\n      width: ").concat(n.clientWidth,"px;"):""}),"2px",O);var Me=d.a.div(Fe()),Re=d.a.span(Ie());function Ge(e){var n=e.name,t=e.posts,a=e.types,c=e.onClick;return r.a.createElement(Me,{onClick:c,onKeyDown:function(e){return 32===e.keyCode&&c(e)},tabIndex:"0"},r.a.createElement(Re,null,r.a.createElement(ze,{types:a})),r.a.createElement("span",{style:{flexGrow:1}},ce(n)),r.a.createElement("span",{style:{paddingRight:5}},Ae(t)," posts"))}var Le=function(e){var n=e.inputRef,t=e.entries,a=e.onClick;return t&&t.length>0?r.a.createElement(Ue,{inputRef:n},t.map((function(e){return r.a.createElement(Ge,Object.assign({key:e.name},e,{onClick:function(){return a(e)}}))}))):null};function Be(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Ve(){var e=Object(u.a)(["\n  display: flex;\n  background: white;\n  ","\n\n  :focus-within {\n    "," {\n      display: block;\n    }\n  }\n"]);return Ve=function(){return e},e}var We=d.a.div(Ve(),(function(e){return e.closed?"border-radius: ".concat("3px",";"):"\n        border-radius: ".concat("3px"," ").concat("3px"," 0 0;\n\n        > ").concat(Z," {\n          border-radius: 0 ").concat("3px"," 0 0;\n        }\n\n        > ").concat(ee," {\n          border-radius: ").concat("3px"," 0 0 0;\n        }\n      ")}),Ue);var He=function(e){var n=e.dispatch,t=Object(a.useState)(),c=Object(o.a)(t,2),i=c[0],u=c[1],l=Object(a.useState)(""),s=Object(o.a)(l,2),f=s[0],m=s[1],p=Object(a.useState)("+"),d=Object(o.a)(p,2),h=d[0],g=d[1],b=Object(a.useState)([]),v=Object(o.a)(b,2),E=v[0],O=v[1],y=Object(a.useCallback)((function(e){n({type:"ADD_TAG",tag:M({name:e.name,modifier:h,count:e.posts,types:e.types})}),m(""),O([])}),[n,h]);return Object(a.useEffect)((function(){var e=setTimeout((function(){var e;f&&""!==f&&I.getTags((e=f,e.toLowerCase().replace(/ /g,"_"))).then((function(e){O(e)}))}),400);return function(){return clearTimeout(e)}}),[f]),r.a.createElement(We,{ref:u,closed:0===E.length},r.a.createElement(ne,{type:"modifier",onClick:function(){return g("+"===h?"-":"+")}},h),r.a.createElement(re,{value:f,setValue:m}),r.a.createElement(ne,{type:"add",onClick:function(){if(f&&""!==f.trim()){var e=E.find((function(e){return e.name===f}))||{};y(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Be(t,!0).forEach((function(n){Object(_.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Be(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,{name:f}))}}},"Add"),r.a.createElement(Le,{inputRef:i,entries:E,onClick:function(e){y(e)}}))},Ke=t(22),Je=t.n(Ke);t(42);function qe(){var e=Object(u.a)(["\n  margin-left: ",";\n"]);return qe=function(){return e},e}function $e(){var e=Object(u.a)(["\n  display: flex;\n"]);return $e=function(){return e},e}var Ye=d.a.label($e()),Qe=d.a.span(qe(),x);function Xe(e){var n=e.children,t=e.initial,a=e.onChange;return r.a.createElement(Ye,null,r.a.createElement(Je.a,{defaultChecked:t,icons:{checked:null,unchecked:null},onChange:a}),r.a.createElement(Qe,null,n))}function Ze(){var e=Object(u.a)(["\n  background: none;\n  border: none;\n  outline: none;\n  color: ",";\n  max-height: 16px;\n  width: ","em;\n  text-align: right;\n  font-size: 14px;\n  margin: -1px 0.2em 0 0.2em;\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield;\n"]);return Ze=function(){return e},e}function en(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return en=function(){return e},e}Xe.defaultProps={initial:!1};var nn=d.a.div(en(),x),tn=d.a.input(Ze(),O,(function(e){var n=e.value;return.57*String(n).length}));function an(e){var n=e.options,t=e.dispatch,c=Object(a.useState)(1),i=Object(o.a)(c,2),u=i[0],l=i[1];return r.a.createElement(nn,null,r.a.createElement(Xe,{initial:n.infinite,onChange:function(){return t({type:"SET_OPTION",key:"infinite",value:!n.infinite})}},"Infinite Scrolling"),r.a.createElement(Xe,{initial:Boolean(n.rated),onChange:function(){t({type:"SET_OPTION",key:"rated",value:n.rated?void 0:u})}},n.rated?r.a.createElement("div",{style:{display:"flex"}},"Above",r.a.createElement(tn,{type:"number",value:u,onChange:function(e){return l(Number(e.target.value))},onBlur:function(e){return t({type:"SET_OPTION",key:"rated",value:Number(e.target.value)})}}),"likes"):"Only show Rated Posts"),r.a.createElement(Xe,{initial:n.originals,onChange:function(){return t({type:"SET_OPTION",key:"originals",value:!n.originals})}},"Load Original Sizes"))}function rn(){var e=Object(u.a)(["\n  display: inline-flex;\n  flex-wrap: wrap;\n  margin: ",";\n"]);return rn=function(){return e},e}var cn=d.a.div(rn(),(function(e){var n=e.padding;return"calc(".concat(n," - ").concat("4px",")")}));function on(e){var n=e.tags,t=e.activeTags,a=e.loadAliases,c=e.dispatch,i=e.padding;return r.a.createElement("div",null,r.a.createElement(cn,{padding:i},n.map((function(e){return r.a.createElement(pe,Object.assign({key:"t_"+e.name},e,{activeTags:t,loadAliases:a,dispatch:c}))}))))}on.defaultProps={activeTags:[],onItemClick:function(){},onItemItemClick:function(){},padding:"0px"};var un=on,ln=function(e){function n(){return Object(l.a)(this,n),Object(f.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(p.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null,"Help"),r.a.createElement(T,null,r.a.createElement(E,{type:"small"},"Searching for Tags"),r.a.createElement(C,null),r.a.createElement(He,{dispatch:function(){}}),r.a.createElement(C,null),r.a.createElement("p",null,"You can use the Tag Selector to look for tags you like.The Tag Selector has 4 parts.",r.a.createElement("ol",null,r.a.createElement("li",null,'The modifier (left) determines wether posts must match a tag or not. Putting "-" will hide all posts with this tag'),r.a.createElement("li",null,"The Search Box (center) allows you to search for tags. As soon as you start typing the Tag Selector will show you relevant tags to choose from (4)."),r.a.createElement("li",null,"The Add Button (right) Allows you to add any tag to the current filter. Usefull when using wildcards."),r.a.createElement("li",null,"The Tag Dropdown (left) automatically shows tags that start with your input. It also includes The number of posts tagged, to allow you to weigh tags against each other.")))),r.a.createElement(T,null,r.a.createElement(E,{type:"small"},"Options"),r.a.createElement(C,null),r.a.createElement(an,{options:{},dispatch:function(){}}),r.a.createElement(C,null),r.a.createElement("p",null,"Options allow you to customize your experience in various ways. There are 3 options available",r.a.createElement("ol",null,r.a.createElement("li",null,"Infinite Scrolling automatically loads new posts when you get close to the bottom of the page."),r.a.createElement("li",null,"Only show Rated posts filters out posts below the specified amount of posts."),r.a.createElement("li",null,"Load original sizes always loads the highest quality of an image. This can easily cause extreme data consumption. Don't use with mobile data.")))),r.a.createElement(T,null,r.a.createElement(E,{type:"small"},"Tags"),r.a.createElement(C,null),r.a.createElement(un,{tags:[{name:"Tag 1"},{name:"Tag 2",types:["character"]},{name:"Tag 3",modifier:"-",types:["copyright"],count:1020}],activeTags:[{name:"Tag 2"},{name:"Tag 3"}]}),r.a.createElement(C,null),r.a.createElement("p",null,"This whole application is based on tags. Every Post has multiple tags. Usually you can enable/disable a tag just by tapping it. If a tag is red it means its active. The icons next to the name show what type of tag it is. Not every tag has a type. The number on the right shows how many posts there are with that tag.")))}}]),n}(a.Component);function sn(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return sn=function(){return e},e}var fn=d.a.section(sn(),x);var mn=function(e){var n=e.options,t=e.tags,c=e.dispatch,i=Object(a.useCallback)((function(){I.getPosts(t,0,n.rated).then((function(e){c({type:"SET_POSTS",posts:e.posts.map(M),count:Number(e.count)})}))}),[c,n.rated,t]);return r.a.createElement(fn,null,r.a.createElement(E,null,r.a.createElement("label",{htmlFor:"tag-input"},"Search")),r.a.createElement(T,null,r.a.createElement(He,{dispatch:c}),t.length>0&&r.a.createElement(un,{tags:t,activeTags:t,dispatch:c,loadAliases:!0}),r.a.createElement(an,{options:n,dispatch:c}),r.a.createElement(ne,{type:"block",onClick:i},"Search")))};t(15);function pn(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n"]);return pn=function(){return e},e}var dn=d.a.img(pn());function hn(e){var n=e.src,t=e.onClick;return r.a.createElement(dn,{src:n,alt:n,onClick:t,onKeyDown:function(e){return 32===e.keyCode&&t(e)}})}function gn(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n"]);return gn=function(){return e},e}var bn=!1,vn=d.a.video(gn());function En(e){var n=e.src,t=e.thumbnail_src,c=e.onClick,i=Object(a.useCallback)((function(e){!bn&&c(),bn=!1}),[c]),o=Object(a.useCallback)((function(){bn=!0}),[]);return r.a.createElement(vn,{controls:!0,loop:!0,src:n,alt:n,poster:t,preload:"metadata",onTouchMove:o,onTouchEnd:i,onKeyDown:function(e){return 32===e.keyCode&&c(e)}})}function On(e){var n=e.type,t=e.src,a=e.thumbnail_src,c=e.isFullscreen,i=e.onFullscreen,o=e.onClick;return r.a.createElement("div",{style:{display:"contents"}},r.a.createElement(ne,{type:"topLeft",onClick:i,label:"Toggle Fullscreen"},c?r.a.createElement(we,{color:"white"}):r.a.createElement(ke,{color:"white"})),"video"===n?r.a.createElement(En,{src:t,poster:a,onClick:o}):r.a.createElement(hn,{src:t,alt:t,onClick:o}))}function yn(){var e=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  background: ",";\n  padding: ",";\n  ",";\n\n  > span,\n  > a {\n    margin: ",";\n    line-height: 1rem;\n    height: 1rem;\n  }\n"]);return yn=function(){return e},e}function jn(){var e=Object(u.a)(["\n  > "," {\n    padding: ",";\n  }\n\n  overflow: hidden;\n"]);return jn=function(){return e},e}var xn=d.a.div(jn(),cn,"4px"),wn=d.a.div(yn(),y,"4px",j,"4px");var kn=function(e){var n=e.rating,t=e.score,a=e.source,c=e.tags,i=e.activeTags,o=e.dispatch;return r.a.createElement(xn,null,r.a.createElement(wn,null,n&&r.a.createElement(Tn,{value:n}),t&&r.a.createElement(Cn,{value:t}),a&&r.a.createElement(_n,{value:a})),r.a.createElement(un,{tags:c,activeTags:i,dispatch:o,padding:x}))},Tn=function(e){var n=e.value;return r.a.createElement("span",null,r.a.createElement(Se,{color:"white",left:!0}),n[0].toUpperCase())},Cn=function(e){var n=e.value;return r.a.createElement("span",null,n,r.a.createElement(Pe,{color:"white",right:!0}))};function _n(e){var n=e.value;return n.startsWith("http")?r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"source"},r.a.createElement(Ce,{color:"red",left:!0}),"Source"):r.a.createElement("span",null,r.a.createElement(_e,{color:"white",left:!0}),n)}function Sn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  background: ",";\n  ",";\n  border-radius: ",";\n  overflow: hidden;\n  margin-bottom: ",";\n  border-box: border-box;\n"]);return Sn=function(){return e},e}var Pn=d.a.div(Sn(),y,j,"3px","8px");function Nn(e){var n=e.id,t=e.media_type,c=e.small_src,i=e.big_src,u=e.thumbnail_src,l=e.rating,s=e.score,f=e.source,m=e.tags,p=e.loadOriginal,d=e.activeTags,h=e.dispatch,g=function(e,n,t,a){var r;return e?r=n:(r="".concat(t,"?").concat(a)).includes("//images")&&(r=r.replace("//images","/images")),r}(p,i,c,n),b=Object(a.useState)(!0),v=Object(o.a)(b,2),E=v[0],O=v[1];return r.a.createElement(Pn,null,r.a.createElement(On,{type:t,src:g,thumbnail_src:u,isFullscreen:!1,onFullscreen:function(){return h({type:"FOCUS_POST",id:n})},onClick:function(){return O(!E)}}),!E&&r.a.createElement(kn,{rating:l,score:s,source:f,tags:m,activeTags:d,dispatch:h}))}function zn(){var e=Object(u.a)([""]);return zn=function(){return e},e}var An=d.a.div(zn());var In=function(e){var n=e.posts,t=e.activeTags,a=e.loadOriginal,c=e.dispatch;return r.a.createElement(An,null,n.map((function(e){return r.a.createElement(Nn,Object.assign({key:"p_".concat(e.id)},e,{loadOriginal:a,activeTags:t,dispatch:c}))})))};function Fn(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Fn=function(){return e},e}var Dn=d.a.section(Fn(),x),Un=!0;var Mn=function(e){var n=e.options,t=e.dispatch,c=e.tags,i=e.results,o=Object(a.useCallback)((function(){I.getPosts(c,i.page+1,n.rated).then((function(e){t({type:"ADD_POSTS",posts:e.posts.map(M)}),Un=!0}))}),[t,n.rated,i.page,c]);return window.onscroll=Object(a.useCallback)((function(){n.infinite&&Un&&window.innerHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight-window.innerHeight&&(Un=!1,o())}),[o,n.infinite]),r.a.createElement(Dn,{className:"results"},r.a.createElement(E,null,Ae(i.count)," results"),r.a.createElement(In,{posts:i.posts,activeTags:c,loadOriginal:n.originals,dispatch:t}),!n.infinite&&r.a.createElement(ne,{type:"block",onClick:o},"Load More"))};function Rn(e){var n=e.tags,t=e.options,a=e.results,c=e.dispatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(mn,{options:t,tags:n,dispatch:c}),a.posts.length>0&&r.a.createElement(Mn,{options:t,dispatch:c,tags:n,results:a}))}function Gn(){var e=Object(u.a)(["\n  position: fixed;\n  left: 100%;\n  right: 100%;\n"]);return Gn=function(){return e},e}function Ln(){var e=Object(u.a)(["\n  position: fixed;\n  left: 0;\n  bottom: 0;\n"]);return Ln=function(){return e},e}function Bn(){var e=Object(u.a)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  overflow: scroll;\n  background-color: ",";\n"]);return Bn=function(){return e},e}var Vn=d.a.div(Bn(),"#121212"),Wn=d.a.div(Ln()),Hn=d.a.img(Gn());function Kn(e){var n=e.focusedPost,t=e.posts,c=e.dispatch,i=t.findIndex((function(e){return e.id===n})),o=t[i],u=o.big_src,l=o.media_type,s=o.thumbnail_src,f=t[i>0?i-1:i].big_src,m=t[i<t.length-1?i+1:i].big_src,p=Object(a.useCallback)((function(){return i>0&&c({type:"FOCUS_POST",id:t[i-1].id})}),[i,c,t]),d=Object(a.useCallback)((function(){return i<t.length-1&&c({type:"FOCUS_POST",id:t[i+1].id})}),[i,c,t]);return r.a.createElement(Vn,null,r.a.createElement(On,{type:l,src:u,thumbnail_src:s,isFullscreen:!0,onFullscreen:function(){return c({type:"UNFOCUS_POST"})},onClick:function(){}}),r.a.createElement(Wn,null,r.a.createElement(xe,{onClick:p,color:"white"}),r.a.createElement(je,{onClick:d,color:"white"})),r.a.createElement(Hn,{src:f}),r.a.createElement(Hn,{src:m}))}var Jn=function(e){var n=e.size;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 12.7 12.7"},r.a.createElement("g",{transform:"translate(0,-284.3)"},r.a.createElement("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:O,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),r.a.createElement("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:O,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)"},r.a.createElement("tspan",{id:"tspan4531",x:"2.1363549",y:"289.02704",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:O,fillOpacity:"1"},"34"))))};function qn(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return qn=function(){return e},e}function $n(){var e=Object(u.a)(["\n  background: ",";\n  ",";\n  padding: "," 0;\n  margin-bottom: ",";\n"]);return $n=function(){return e},e}function Yn(){var e=Object(u.a)(["\n  width: 1px;\n  height: 32px;\n  margin: 0 ",";\n  background: ",";\n"]);return Yn=function(){return e},e}function Qn(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Qn=function(){return e},e}var Xn=d.a.header(Qn(),x),Zn=d.a.div(Yn(),x,"white"),et=d.a.div($n(),y,j,x,"8px"),nt=d.a.nav(qn());var tt=function(e){var n=e.activeMenu,t=e.dispatch;return r.a.createElement(Xn,null,r.a.createElement(et,null,r.a.createElement(E,{size:"large"},r.a.createElement(Jn,{size:32}),r.a.createElement(Zn,null),r.a.createElement("span",{style:{marginTop:2}},"Browse ",r.a.createElement("a",{href:"https://rule34.xxx"},"Rule34")))),r.a.createElement(nt,null,r.a.createElement(ne,{type:"menu",active:"search"===n,onClick:function(){return t({type:"SET_ACTIVE_MENU",menu:"search"})}},"Search"),r.a.createElement(ne,{type:"menu",active:"help"===n,onClick:function(){return t({type:"SET_ACTIVE_MENU",menu:"help"})}},"Help"),r.a.createElement(ne,{type:"menu",active:"settings"===n,onClick:function(){return t({type:"SET_ACTIVE_MENU",menu:"settings"})}},"Settings")))},at=t(6),rt=t(4);function ct(e,n){switch(n.type){case"ADD_TAG":return ot(e,n.tag);case"REMOVE_TAG":return ut(e,n.tag);case"TOGGLE_TAG":return lt(e,n.tag);case"ADD_POSTS":return st(e,n.posts);case"SET_POSTS":return ft(e,n.posts,n.count);case"SET_OPTION":return mt(e,n.key,n.value);case"FOCUS_POST":return pt(e,n.id);case"UNFOCUS_POST":return pt(e,void 0);case"SET_ACTIVE_MENU":return dt(e,n.menu);case"RESET":return ht(e);default:throw new Error("Unrecognized Action: ".concat(n.type))}}function it(e,n){return e.findIndex((function(e){return e.name===n.name}))}var ot=function(e,n){return Object(rt.a)(e,(function(t){var a=it(e.tags,n);t.tags=Object(at.a)(e.tags),-1!==a?t.tags[a]=n:t.tags=[].concat(Object(at.a)(t.tags),[n])}))},ut=function(e,n){return Object(rt.a)(e,(function(t){var a=it(e.tags,n);-1!==a&&(t.tags=Object(at.a)(e.tags),t.tags.splice(a,1))}))},lt=function(e,n){return-1!==it(e.tags,n)?ut(e,n):ot(e,n)},st=function(e,n){return Object(rt.a)(e,(function(t){t.results.posts=[].concat(Object(at.a)(e.results.posts),Object(at.a)(n)),t.results.page=e.results.page+1}))},ft=function(e,n,t){return Object(rt.a)(e,(function(e){e.results.posts=Object(at.a)(n),e.results.count=t,e.results.page=0}))},mt=function(e,n,t){return Object(rt.a)(e,(function(e){e.options[n]=t}))},pt=function(e,n){return Object(rt.a)(e,(function(e){e.context.focusedPost=n}))},dt=function(e,n){return Object(rt.a)(e,(function(e){e.context.activeMenu=n}))},ht=function(e){return Object(rt.a)(e,(function(e){Object.assign(e,gt)}))},gt={results:{posts:[],page:0,count:void 0},context:{focusedPost:void 0,activeMenu:"search"},tags:[],options:{infinite:!0,rated:void 0,originals:!1}};function bt(){var e=function(e){var n=localStorage.getItem("state");return[null!==n&&"undefined"!==n?JSON.parse(n):e,function(e){return localStorage.setItem("state",JSON.stringify(e))}]}(gt),n=Object(o.a)(e,2),t=n[0],r=n[1],c=Object(a.useReducer)(ct,t),i=Object(o.a)(c,2),u=i[0],l=i[1];return Object(a.useEffect)((function(){r(u)}),[r,u]),[u,l]}function vt(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  justify-content: space-around;\n  padding: ",";\n"]);return vt=function(){return e},e}var Et=d.a.footer(vt(),x);var Ot=function(){return r.a.createElement(Et,null,r.a.createElement(ne,{type:"invisible"},r.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react"},"Github")),r.a.createElement(ne,{type:"invisible"},r.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react/issues/new?template=bug_report.md"},"Report a bug")),r.a.createElement(ne,{type:"invisible"},r.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react/issues/new?template=feature_request.md"},"Feature request")))};function yt(e){e.state;var n=e.dispatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null,"Settings"),r.a.createElement(T,null,r.a.createElement(E,null,"General"),r.a.createElement("p",null,"nothing yet"),r.a.createElement(C,null),r.a.createElement(E,null,"Developer"),r.a.createElement(X,{onClick:function(){return n({type:"RESET"})}},"Reset Application")))}function jt(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: strech;\n  min-height: 100%;\n  background: ",";\n  color: ",";\n\n  font-size: 14px;\n\n  a {\n    color: ",";\n    text-decoration: none;\n  }\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return jt=function(){return e},e}function xt(){var e=Object(u.a)(["\n  flex-grow: 1;\n  align-self: strech;\n  display: flex;\n  flex-direction: column;\n  padding: 0 16px;\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return xt=function(){return e},e}var wt=d.a.main(xt(),x),kt=d.a.div(jt(),"#121212","white",O,x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement((function(){var e=bt(),n=Object(o.a)(e,2),t=n[0],a=n[1],c=function(e,n,t){switch(e){case"reader":return r.a.createElement(Kn,{state:n,dispatch:t});case"help":return r.a.createElement(ln,{state:n,dispatch:t});case"settings":return r.a.createElement(yt,{state:n,dispatch:t});case"search":default:return r.a.createElement(Rn,{tags:n.tags,options:n.options,results:n.results,dispatch:t})}}(t.context.activeMenu,t,a);return r.a.createElement(kt,null,r.a.createElement(tt,{activeMenu:t.context.activeMenu,dispatch:a}),r.a.createElement(wt,null,c),r.a.createElement(Ot,null))}),null),document.getElementById("app-root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.283a338b.chunk.js.map