(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{32:function(A,e){A.exports="data:image/png;base64,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"},39:function(A,e,t){A.exports=t(76)},44:function(A,e,t){},45:function(A,e,t){},47:function(A,e,t){},51:function(A,e,t){},62:function(A,e,t){},67:function(A,e,t){},75:function(A,e,t){},76:function(A,e,t){"use strict";t.r(e);var n=t(0),a=t.n(n),r=t(29),c=t.n(r),i=(t(44),t(9)),s=t(14),o=t(16),u=t(15),l=t(17),m=t(2),g=t(10),p=(t(45),t(11)),f=t.n(p),d=t(21),E=20,h="https://r34-json.herokuapp.com";fetch(h).catch((function(){return h="https://r34-api-clone.herokuapp.com"}));var b={getTags:function(){var A=Object(d.a)(f.a.mark((function A(e){var t;return f.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,fetch(h+"/tags?limit="+E+"&name="+e+"*&order_by=posts");case 2:return t=A.sent,A.next=5,t.json();case 5:return A.abrupt("return",A.sent);case 6:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),getPosts:function(){var A=Object(d.a)(f.a.mark((function A(e){var t,n,a,r=arguments;return f.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:0,n=r.length>2&&void 0!==r[2]?r[2]:0,A.next=4,fetch(C(t,e,n));case 4:return a=A.sent,A.next=7,a.json();case 7:return A.abrupt("return",A.sent);case 8:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),getAliases:function(){var A=Object(d.a)(f.a.mark((function A(e){var t;return f.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,fetch(h+"/alias/"+e);case 2:return t=A.sent,A.next=5,t.json();case 5:return A.abrupt("return",A.sent);case 6:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()};function C(A,e,t){var n=h+"/posts";return n+="?pid="+A,n+="&limit="+E,n+="&tags="+e.map((function(A){return(A.modifier?A.modifier:"")+encodeURIComponent(A.name)})).join("+"),n+=encodeURIComponent("+score:>="+t)}function v(A){var e=A.name,t=A.count,r=A.modifier,c=A.types,i=A.activeTags,s=A.loadAliases,o=A.dispatch,u=Object(n.useState)(),l=Object(m.a)(u,2),g=l[0],p=l[1],f=Object(n.useState)(!0),d=Object(m.a)(f,2),E=d[0],h=d[1];Object(n.useEffect)((function(){i.some((function(A){return A.name===e}))&&b.getAliases(e).then((function(A){A.sort((function(A,e){return Number(e.posts)-Number(A.posts)})),p(A.filter((function(A){return!i.some((function(e){return e.name===A.name}))})))}))}),[e,i]);var C=i.some((function(A){return A.name===e})),v="-"===r,B=c.includes("character"),Q=c.includes("artist"),N=s&&g&&g.length>0;return a.a.createElement("div",{className:"tag"+(C?" active":"")+(v?" exclude":"")+(B?" character":"")+(Q?" artist":"")+(E?"":" dropped"),onMouseLeave:function(){return h(!0)}},a.a.createElement(O,{name:e,count:t,modifier:r,types:c,activeTags:i,dispatch:o}),N&&a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"caret fas fa-caret-down",onClick:function(){return h(!E)}}),a.a.createElement("div",{className:"dropdown-list"+(E?"":" visible")},g.map((function(A){var e=A.name,t=A.posts;return a.a.createElement(I,{key:"t_"+e,name:e,count:t,dispatch:o})})))))}function O(A){var e=A.name,t=A.count,n=A.types,r=A.modifier,c=A.dispatch;return a.a.createElement("span",{onClick:function(){return c({type:"TOGGLE_TAG",tag:{name:e,count:t,types:n,modifier:r}})}},t?"".concat(e," (").concat(t,")"):e)}function I(A){var e=A.name,t=A.count,n=A.dispatch;return a.a.createElement("div",{className:"alias"},a.a.createElement(O,{name:e,count:t,dispatch:n}))}v.defaultProps={types:[],onClick:function(){}},O.defaultProps={modifier:"+",types:[],activeTags:[],onClick:function(){}};var B=v;function Q(A){var e=A.tags,t=A.activeTags,n=A.loadAliases,r=A.dispatch;return a.a.createElement("div",{className:"tag-list"},e.map((function(A){return a.a.createElement(B,Object.assign({key:"t_"+A.name},A,{activeTags:t,loadAliases:n,dispatch:r}))})))}Q.defaultProps={activeTags:[],onItemClick:function(){},onItemItemClick:function(){}};var N=Q,j=t(3),k=t(4);t(47);function T(){var A=Object(j.a)(["\n  background: none;\n  border: none;\n  outline: none;\n"]);return T=function(){return A},A}var w=k.a.button(T()),y=t(32),x=t.n(y);function S(){var A=Object(j.a)(["\n  position: absolute;\n  left: 5px;\n  top: 5px;\n"]);return S=function(){return A},A}var P=Object(k.a)(w)(S()),V=function(A){var e=A.onClick;return a.a.createElement(P,{onClick:e},a.a.createElement("img",{src:x.a,alt:"Fullscreen",height:20,width:20}))};var G=function(A){var e=A.id,t=A.media_type,r=A.small_src,c=A.big_src,i=A.thumbnail_src,s=A.rating,o=A.score,u=A.source,l=A.tags,g=A.loadOriginal,p=A.activeTags,f=A.dispatch,d=function(A,e,t,n){var a;return A?a=e:(a="".concat(t,"?").concat(n)).includes("//images")&&(a=a.replace("//images","/images")),a}(g,c,r,e),E=Object(n.useState)(!0),h=Object(m.a)(E,2),b=h[0],C=h[1];return a.a.createElement("li",{id:e,className:"list-group-item post gray"},a.a.createElement(R,{type:t,src:d,thumbnail_src:i,fullscreen:function(){return f({type:"FOCUS_POST",id:e})},onClick:function(){return C(!b)}}),!b&&a.a.createElement("div",{className:"details collapse"+(b?"":".show")},a.a.createElement("div",{className:"d-flex justify-content-between info-bar"},a.a.createElement(D,{value:s}),a.a.createElement(L,{value:o}),a.a.createElement(Y,{value:u})),a.a.createElement("div",{className:"pl-1"},a.a.createElement(Q,{tags:l,activeTags:p,dispatch:f}))))};function R(A){var e=A.type,t=A.src,n=A.thumbnail_src,r=A.fullscreen,c=A.onClick,i=!1;switch(e){case"image":return a.a.createElement(a.a.Fragment,null,a.a.createElement(V,{onClick:r}),a.a.createElement("img",{src:t,alt:t,className:"img-fluid",onClick:c}));case"video":return a.a.createElement("video",{controls:!0,loop:!0,src:t,alt:t,poster:n,className:"video-fluid",preload:"none",onClick:c,onTouchMove:function(){i=!0},onTouchEnd:function(A){i||c(A),i=!1}});default:return null}}function D(A){var e=A.value;return a.a.createElement("span",{className:"rating"},e[0].toUpperCase())}function L(A){var e=A.value;return a.a.createElement("span",{className:"score"},e)}function Y(A){var e=A.value;return e?e.startsWith("http")?a.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"source"},"Source"):a.a.createElement("span",{className:"source"},e):null}t(51);var U=function(A){var e=A.posts,t=A.activeTags,n=A.loadOriginal,r=A.dispatch;return a.a.createElement("ul",{className:"post-list list-group list-group-flush"},e.map((function(A){return a.a.createElement(G,Object.assign({key:"p_".concat(A.id)},A,{loadOriginal:n,activeTags:t,dispatch:r}))})))},Z=t(33),F=t.n(Z),z=(t(62),function A(e,t,n,a,r,c,s,o,u,l,m,g,p,f,d,E,h,b,C,v,O){Object(i.a)(this,A),this.id=e,this.score=t,this.rating=n,this.source=a,this.tags=r,this.media_type=c,this.small_src=s,this.big_src=o,this.thumbnail_src=u,this.width=l,this.height=m,this.creator_id=g,this.creator_url=p,this.status=f,this.parent_id=d,this.has_children=E,this.has_comments=h,this.comments_url=b,this.has_notes=C,this.created_at=v,this.change=O}),K=function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"+";Object(i.a)(this,A),this.name=e,this.types=t,this.count=n,this.modifier=a},q=function(A){return A.name?function(A){var e=A.name,t=A.types,n=A.count,a=A.modifier;return new K(e,t,Number(n),a)}(A):function(A){var e=A.id,t=A.type,n=A.score,a=A.rating,r=A.source,c=A.tags,i=A.file_url,s=A.width,o=A.height,u=A.creator_id,l=A.creator_url,m=A.sample_url,g=A.preview_url,p=A.status,f=A.parent_id,d=A.has_children,E=A.has_comments,h=A.comments_url,b=A.has_notes,C=A.created_at,v=A.change;return new z(Number(e),Number(n),a,r,c.map((function(A){return new K(A)})),t,m,i,g,Number(s),Number(o),Number(u),l,p,f,d,E,h,b,C,v)}(A)};var H=function(A){var e=A.dispatch,t=Object(n.useState)(""),r=Object(m.a)(t,2),c=r[0],i=r[1],s=Object(n.useState)("+"),o=Object(m.a)(s,2),u=o[0],l=o[1],g=Object(n.useState)([]),p=Object(m.a)(g,2),f=p[0],d=p[1],E=Object(n.useState)([]),h=Object(m.a)(E,2),C=h[0],v=h[1];Object(n.useEffect)((function(){f&&f.length>0&&v(f.filter((function(){return!0})))}),[f]);var O=Object(n.useCallback)((function(){var A=C.find((function(A){return A.name===c}))||{},t=A.posts,n=A.types;e({type:"ADD_TAG",tag:q({name:c,modifier:u,count:t,types:n})}),i("")}),[e,u,C,c]),I={placeholder:"Search for tags",value:c,onChange:function(A,e){var t=e.newValue;return i(t)}};return a.a.createElement("div",{className:"d-flex input-group tag-selector"},a.a.createElement("div",{className:"input-group-prepend left-append"},a.a.createElement("select",{className:"form-control select-modifier",value:u,onChange:function(A){return l(A.target.value)}},a.a.createElement("option",null,"+"),a.a.createElement("option",null,"-"))),a.a.createElement(F.a,{suggestions:f,onSuggestionsFetchRequested:function(A){var e,t=A.value;b.getTags((e=t,e.toLowerCase().replace(/ /g,"_"))).then((function(A){d(A)}))},onSuggestionsClearRequested:function(){return d([])},getSuggestionValue:function(A){return A.name},renderSuggestion:function(A){var e=A.name,t=A.posts;return a.a.createElement("span",null,"".concat(e," (").concat(t,")"))},inputProps:I}),a.a.createElement("div",{className:"input-group-append right-append"},a.a.createElement("button",{className:"btn btn-red btn-add-tag",onClick:O},"Add")))};function J(){var A=Object(j.a)(["\n  position: fixed;\n  left: 100%;\n  right: 100%;\n"]);return J=function(){return A},A}function _(){var A=Object(j.a)(["\n  height: 100%;\n  flex-grow: 1;\n"]);return _=function(){return A},A}function X(){var A=Object(j.a)(['\n  display:flex;\n  height: 100%;\n  width: 100%;\n  background: url("','") no-repeat center;\n  background-size: contain;\n']);return X=function(){return A},A}function M(){var A=Object(j.a)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  background-color: black;\n"]);return M=function(){return A},A}var W=k.a.div(M()),$=k.a.div(X(),(function(A){return A.image})),AA=k.a.div(_()),eA=k.a.img(J());function tA(A){var e=A.onClick;return a.a.createElement(w,{onClick:e},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{fill:"white",d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"})))}function nA(A){var e=A.focusedPost,t=A.posts,r=A.dispatch,c=t.findIndex((function(A){return A.id===e})),i=t[c].big_src,s=t[c>0?c-1:c].big_src,o=t[c<t.length-1?c+1:c].big_src,u=Object(n.useCallback)((function(){return c>0&&r({type:"FOCUS_POST",id:t[c-1].id})}),[c,r,t]),l=Object(n.useCallback)((function(){return c<t.length-1&&r({type:"FOCUS_POST",id:t[c+1].id})}),[c,r,t]),m=Object(n.useCallback)((function(){return r({type:"UNFOCUS_POST"})}),[r]);return a.a.createElement(W,null,a.a.createElement(tA,{onClick:m}),a.a.createElement($,{image:i},a.a.createElement(AA,{onClick:u}),a.a.createElement(AA,{onClick:l})),a.a.createElement(eA,{src:s}),a.a.createElement(eA,{src:o}))}var aA=t(13),rA=t(12);function cA(A,e){switch(e.type){case"ADD_TAG":return sA(A,e.tag);case"REMOVE_TAG":return oA(A,e.tag);case"TOGGLE_TAG":return uA(A,e.tag);case"ADD_POSTS":return lA(A,e.posts);case"SET_POSTS":return mA(A,e.posts,e.count);case"SET_OPTION":return gA(A,e.key,e.value);case"FOCUS_POST":return pA(A,e.id);case"UNFOCUS_POST":return pA(A,void 0);default:throw new Error("Unrecognized Action: ".concat(e.type))}}function iA(A,e){return A.findIndex((function(A){return A.name===e.name}))}var sA=function(A,e){return Object(rA.a)(A,(function(t){var n=iA(A.tags,e);t.tags=Object(aA.a)(A.tags),-1!==n?t.tags[n]=e:t.tags=[].concat(Object(aA.a)(t.tags),[e])}))},oA=function(A,e){return Object(rA.a)(A,(function(t){var n=iA(A.tags,e);-1!==n&&(t.tags=Object(aA.a)(A.tags),t.tags.splice(n,1))}))},uA=function(A,e){return-1!==iA(A.tags,e)?oA(A,e):sA(A,e)},lA=function(A,e){return Object(rA.a)(A,(function(t){t.results.posts=[].concat(Object(aA.a)(A.results.posts),Object(aA.a)(e)),t.results.page=A.results.page+1}))},mA=function(A,e,t){return Object(rA.a)(A,(function(A){A.results.posts=Object(aA.a)(e),A.results.count=t,A.results.page=0}))},gA=function(A,e,t){return Object(rA.a)(A,(function(A){A.options[e]=t}))},pA=function(A,e){return Object(rA.a)(A,(function(A){A.context.focusedPost=e}))},fA={results:{posts:[],page:0,count:void 0},context:{focusedPost:void 0},tags:[],options:{infinite:!0,rated:!1,originals:!1}};function dA(){var A=function(A){var e=localStorage.getItem("state");return[null!==e&&"undefined"!==e?JSON.parse(e):A,function(A){return localStorage.setItem("state",JSON.stringify(A))}]}(fA),e=Object(m.a)(A,2),t=e[0],a=e[1],r=Object(n.useReducer)(cA,t),c=Object(m.a)(r,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){a(i)}),[a,i]),[i,s]}var EA=t(34),hA=t.n(EA);t(67);function bA(){var A=Object(j.a)(["\n  margin-inline-start: 5px;\n"]);return bA=function(){return A},A}function CA(){var A=Object(j.a)(["\n  display: flex;\n  margin-block-end: 5px;\n"]);return CA=function(){return A},A}var vA=k.a.label(CA()),OA=k.a.span(bA());function IA(A){var e=A.text,t=A.initial,n=A.onChange;return a.a.createElement(vA,null,a.a.createElement(hA.a,{defaultChecked:t,icons:{checked:null,unchecked:null},onChange:n}),a.a.createElement(OA,null,e))}function BA(A){var e=A.options,t=A.dispatch;return a.a.createElement("div",null,a.a.createElement(IA,{text:"Infinite Scrolling",initial:e.infinite,onChange:function(){return t({type:"SET_OPTION",key:"infinite",value:!e.infinite})}}),a.a.createElement(IA,{text:"Only show Rated Posts",initial:e.rated,onChange:function(){return t({type:"SET_OPTION",key:"rated",value:e.rated?void 0:1})}}),a.a.createElement(IA,{text:"Load Original Sizes",initial:e.originals,onChange:function(){return t({type:"SET_OPTION",key:"originals",value:!e.originals})}}))}IA.defaultProps={initial:!1};var QA=!0;var NA=Object(g.e)((function(){var A=dA(),e=Object(m.a)(A,2),t=e[0],r=e[1],c=t.results,i=t.tags,s=t.options,o=t.context,u=Object(n.useCallback)((function(){b.getPosts(i,0,s.rated).then((function(A){r({type:"SET_POSTS",posts:A.posts.map(q),count:Number(A.count)})}))}),[r,s.rated,i]),l=Object(n.useCallback)((function(){b.getPosts(i,c.page+1,s.rated).then((function(A){r({type:"ADD_POSTS",posts:A.posts.map(q)}),QA=!0}))}),[r,s.rated,c.page,i]);return window.onscroll=Object(n.useCallback)((function(){s.infinite&&QA&&window.innerHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight-window.innerHeight&&(QA=!1,l())}),[l,s.infinite]),a.a.createElement("main",null,a.a.createElement("section",{className:"search"},a.a.createElement("h3",{className:"centered"},"Search"),a.a.createElement(H,{dispatch:r}),i.length>0?a.a.createElement("label",null,"Tags:",a.a.createElement(N,{tags:i,activeTags:i,dispatch:r,loadAliases:!0})):a.a.createElement("div",{className:"mb-1"}),a.a.createElement(BA,{options:s,dispatch:r}),a.a.createElement("button",{className:"btn btn-block btn-red",onClick:u},"Search")),c.posts.length>0&&a.a.createElement("section",{className:"results"},a.a.createElement("h3",{className:"centered"},function(A){var e=Number(A);return e>=1e6?"~".concat((e/1e6).toFixed(0),"M"):e>=1e3?"~".concat((e/1e3).toFixed(0),"K"):e}(c.count)," results"),a.a.createElement(U,{posts:c.posts,activeTags:i,loadOriginal:s.originals,dispatch:r}),!s.infinite&&a.a.createElement("button",{className:"btn btn-block btn-red",onClick:l},"Load More")),o.focusedPost&&a.a.createElement(nA,{focusedPost:o.focusedPost,posts:c.posts,dispatch:r}))})),jA=function(A){function e(){return Object(i.a)(this,e),Object(o.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(l.a)(e,A),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement("main",null,a.a.createElement("p",null,"Helpful things")))}}]),e}(n.Component),kA=function(A){function e(){return Object(i.a)(this,e),Object(o.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(l.a)(e,A),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement("header",null,a.a.createElement("h1",null,"404 - not found")),a.a.createElement("main",null,a.a.createElement("p",null,"Go away")))}}]),e}(n.Component),TA=t(20),wA=(t(74),t(75),function(A){function e(){return Object(i.a)(this,e),Object(o.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(l.a)(e,A),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement(TA.a,{basename:"/r34-react"},a.a.createElement("header",{className:"centered"},a.a.createElement("h1",{className:"centered"},"Browse ",a.a.createElement("a",{href:"https://rule34.xxx"},"Rule34")),a.a.createElement("div",{className:"container d-flex justify-content-center menu-bar"},a.a.createElement(TA.b,{to:"/",className:"menu-item"},"Search"),a.a.createElement(TA.b,{to:"/help",className:"menu-item"},"Help"))),a.a.createElement(g.c,null,a.a.createElement(g.a,{exact:!0,path:"/",render:function(){return a.a.createElement(NA,null)}}),a.a.createElement(g.a,{exact:!0,path:"/help",component:jA}),a.a.createElement(g.a,{component:kA})),a.a.createElement("div",{className:"spacer"}),a.a.createElement("footer",null,a.a.createElement("small",null,a.a.createElement("div",{className:"d-flex justify-content-center"},a.a.createElement("p",null,a.a.createElement("a",{href:"https://github.com/kurozenzen/r34"},"Github Repository"))),a.a.createElement("div",{className:"d-flex justify-content-center"},a.a.createElement("p",null,"Please, if you notice"," ",a.a.createElement("a",{href:"https://github.com/kurozenzen/r34/issues/new?template=bug_report.md"}," ","something isn't right"),", or you"," ",a.a.createElement("a",{href:"https://github.com/kurozenzen/r34/issues/new?template=feature_request.md"},"want a feature")," ","to be implemented take the time to let me know.")),a.a.createElement("div",{className:"d-flex justify-content-center"},a.a.createElement("p",null,"Hosted with Github Pages.")))))}}]),e}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(wA,null),document.getElementById("app-root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(A){A.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.8d996114.chunk.js.map