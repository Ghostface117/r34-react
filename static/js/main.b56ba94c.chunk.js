(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(78)},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},66:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(23),c=a.n(r),l=(a(34),a(5)),o=a(6),u=a(8),i=a(7),m=a(9),p=a(28),h=a(11),g=a(10),d=(a(36),[]),f={add:function(e){d.push(e)},remove:function(e){d.splice(d.indexOf(e),1)},has:function(e){return console.log(e),console.log(d),console.log(d.includes(e)),d.includes(e)}};function b(e){return e.count?s.a.createElement("span",{className:"badge badge-tag",onClick:e.onClick},e.name," (",e.count,")"):s.a.createElement("span",{className:"badge badge-tag"+(f.has(e.name)?" active":" "),onClick:e.onClick},e.name)}function E(e){return s.a.createElement("div",{className:"tag-list"},e.tags.map(function(t){return s.a.createElement(b,{key:"t_"+t.name,name:t.name,count:t.count,onClick:function(){return e.onClick(t)}})}))}a(38);function v(e){return s.a.createElement("li",{className:"list-group-item post  gray"},s.a.createElement(y,{type:e.media_type,src:e.media_src}),s.a.createElement("div",null,s.a.createElement("div",{className:"d-flex justify-content-between info-bar"},s.a.createElement(k,{value:e.rating}),s.a.createElement(O,{value:e.score}),s.a.createElement(N,{value:e.source})),s.a.createElement(E,{tags:e.tags,onClick:e.onTagClick})))}function j(e){return s.a.createElement("ul",{className:"list-group list-inline post-list"},e.posts.map(function(t){return s.a.createElement(v,{key:"p_"+t.id,media_type:t.type,media_src:t.file_url,rating:t.rating,score:t.score,source:t.source,tags:t.tags,onTagClick:e.onTagClick})}))}function y(e){return"image"===e.type?s.a.createElement("img",{src:e.src,alt:e.src,className:"img-fluid"}):"video"===e.type?s.a.createElement("video",{controls:!0,loop:!0,src:e.src,alt:e.src,className:"img-fluid"}):null}function k(e){return s.a.createElement("span",{className:"rating"},e.value[0].toUpperCase())}function O(e){return s.a.createElement("span",{className:"score"},e.value)}function N(e){return e.value?e.value.startsWith("http")?s.a.createElement("a",{href:e.value,className:"source"},"Source"):s.a.createElement("span",{className:"source"},e.value):null}var S=a(15),w=a.n(S),C=a(17),T={getTags:function(){var e=Object(C.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://custom-r34-api.herokuapp.com/tags?limit=10&name="+t+"*&order_by=posts");case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getPosts:function(){var e=Object(C.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://custom-r34-api.herokuapp.com/posts?limit=10&tags="+t.map(function(e){return e.name}).join("+"));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},x=a(24),_=a.n(x),R=function(e){return _.a.parse(e).tags.split(" ").map(function(e){return{name:e}})},P=function(e){return"?tags="+e.map(function(e){return e.name}).join("+")},q=a(25),z=a.n(q);a(66);function A(e){return e.name}function F(e){return s.a.createElement("span",null,e.name)}var H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this))).onChange=function(e,t){var n=t.newValue;t.method;a.setState({value:n})},a.onSuggestionsFetchRequested=function(e){var t=e.value;T.getTags(t).then(function(e){a.setState({suggestions:e})})},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.state={value:"",suggestions:[],onSubmit:function(t){e.onSubmit(a.state.value),t.preventDefault()}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.value,a=e.suggestions,n={placeholder:"Search for tags",value:t,onChange:this.onChange};return s.a.createElement("form",{onSubmit:this.state.onSubmit,className:"tag-selector input-group"},s.a.createElement(z.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:A,renderSuggestion:F,inputProps:n}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-red"})))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={tags:[],suggestions:[],posts:[],searchTerm:""},a.handleAddTag=a.handleAddTag.bind(Object(h.a)(Object(h.a)(a))),a.handleSearch=a.handleSearch.bind(Object(h.a)(Object(h.a)(a))),a.handleToggleTag=a.handleToggleTag.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t=this.state;this.props.location.search&&(e=R(this.props.location.search)),t.tags=e||[],this.setState(t),this.state.tags.length>0&&(f.add.apply(f,Object(p.a)(this.state.tags.map(function(e){return e.name}))),this.updatePosts())}},{key:"handleAddTag",value:function(e){var t=this.state,a={name:e};t.tags.some(function(t){return t.name===e})||(t.tags.push(a),f.add(e),this.setState(t))}},{key:"handleToggleTag",value:function(e){var t=this.state;t.tags.some(function(t){return t.name===e.name})?(t.tags.splice(t.tags.indexOf(e),1),f.remove(e.name)):(t.tags.push(e),f.add(e.name)),this.setState(t)}},{key:"handleSearch",value:function(e){this.updatePosts(),e.preventDefault()}},{key:"updatePosts",value:function(){var e=this;T.getPosts(this.state.tags).then(function(t){var a=e.state;a.posts=t.map(function(e){var t=e;return t.tags=e.tags.map(function(e){return{name:e}}),t}),e.props.history.push(P(e.state.tags)),e.setState(a)})}},{key:"render",value:function(){return s.a.createElement("main",null,s.a.createElement("section",{className:"search"},s.a.createElement("h3",{className:"centered"},"Search"),s.a.createElement(H,{onSubmit:this.handleAddTag,className:"centered"}),s.a.createElement("label",null,"Tags:"),s.a.createElement(E,{tags:this.state.tags,onClick:this.handleToggleTag}),s.a.createElement("form",{onSubmit:this.handleSearch},s.a.createElement("input",{type:"submit",value:"Search",className:"btn btn-block btn-red"}))),s.a.createElement("section",{className:"results"},s.a.createElement("h3",{className:"centered"},"Results"),s.a.createElement(j,{posts:this.state.posts,onTagClick:this.handleToggleTag})))}}]),t}(n.Component),D=Object(g.e)(B),G=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("header",null,s.a.createElement("h1",null,"Help")),s.a.createElement("main",null,s.a.createElement("p",null,"Helpful things")),s.a.createElement("footer",null,s.a.createElement("p",null,"Footer-info sentence...")))}}]),t}(n.Component),W=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("header",null,s.a.createElement("h1",null,"404 - not found")),s.a.createElement("main",null,s.a.createElement("p",null,"Go away")))}}]),t}(n.Component),J=a(14),V=(a(74),a(76),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(J.a,null,s.a.createElement("header",null,s.a.createElement("h1",{className:"centered"},"Browse ",s.a.createElement("a",{href:"https://rule34.xxx"},"Rule34")),s.a.createElement("div",{className:"container d-flex justify-content-center menu-bar"},s.a.createElement(J.b,{to:"/",className:"menu-item"},"Search"),s.a.createElement(J.b,{to:"/help",className:"menu-item"},"Help"))),s.a.createElement(g.c,null,s.a.createElement(g.a,{exact:!0,path:"/",component:D}),s.a.createElement(g.a,{exact:!0,path:"/help",component:G}),s.a.createElement(g.a,{component:W})),s.a.createElement("footer",null,s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement("p",null,s.a.createElement("a",{href:"https://github.com/kurozenzen/r34"},"Github Repository"))),s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement("p",null,"Please, if you notice",s.a.createElement("a",{href:"https://github.com/kurozenzen/r34/issues/new?template=bug_report.md"},"something isn't right"),", or you",s.a.createElement("a",{href:"https://github.com/kurozenzen/r34/issues/new?template=feature_request.md"},"want a feature")," to be implemented take the time to let me know.")),s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement("p",null,"Hosted with Github Pages."))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(V,null),document.getElementById("app-root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.b56ba94c.chunk.js.map