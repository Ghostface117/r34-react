{"version":3,"sources":["components/toggle/Toggle.jsx","components/tag/Tag.jsx","components/tagList/TagList.jsx","components/post/Post.jsx","components/postList/PostList.jsx","misc/api.js","data/post.js","data/tag.js","misc/prepare.js","components/tagSelector/TagSelector.jsx","pages/Main.jsx","pages/Help.jsx","pages/NotFound.jsx","App.js","serviceWorker.js","index.js"],"names":["Toggle","_ref","text","initial","onChange","react_default","a","createElement","className","component_default","defaultChecked","icons","checked","unchecked","Tag","name","count","modifier","types","active","onClick","exclude","character","includes","artist","concat","TagList","tags","activeTags","onItemClick","map","tag","components_tag_Tag","Object","assign","key","isTagActive","some","t","Post","props","media_src","id","media_type","preview_src","original_src","rating","score","source","loadOriginal","onTagClick","replace","_useState","useState","_useState2","slicedToArray","collapsed","setCollapsed","Media","type","src","Rating","value","Score","Source","hasMoved","alt","controls","loop","onTouchMove","onTouchEnd","event","_ref2","toUpperCase","_ref3","_ref4","startsWith","href","target","rel","PostList","posts","post","components_post_Post","pageSize","activeApi","fetch","catch","api","getTags","_getTags","asyncToGenerator","regenerator_default","mark","_callee","searchTerm","res","wrap","_context","prev","next","sent","json","abrupt","stop","this","_x","apply","arguments","getPosts","_getPosts","_callee2","pageNumber","minScore","_args2","_context2","length","undefined","buildPostUrl","_x2","page","url","encodeURIComponent","join","file_url","width","height","creator_id","creator_url","status","parent_id","has_children","has_comments","comments_url","has_notes","created_at","change","classCallCheck","prepare","obj","Number","prepareTag","sample_url","preparePost","TagSelector","onSubmit","setValue","_useState3","_useState4","setModifier","_useState5","_useState6","suggestions","setSuggestions","_useState7","_useState8","oldSuggestions","setOldSuggestions","useEffect","filter","inputProps","placeholder","newValue","tagObject","find","s","preventDefault","e","dist_default","onSuggestionsFetchRequested","tagname","toLowerCase","then","newSuggestions","onSuggestionsClearRequested","getSuggestionValue","suggestion","renderSuggestion","scrollLock","withRouter","infiniteScroll","setInfiniteScroll","filterRated","setFilterRated","_useState9","_useState10","setPageNumber","_useState11","_useState12","setLoadOriginal","_useTags","setTags","addTag","newTag","removeTag","toConsumableArray","tagToRemove","tagToToggle","useTags","_useTags2","toggleTag","_usePosts","setPosts","newPosts","usePosts","_usePosts2","addPosts","loadMore","window","onscroll","innerHeight","document","documentElement","scrollTop","scrollHeight","tagSelector_TagSelector","tagList_TagList","toggle_Toggle","postList_PostList","Search","Component","NotFound","App","react_router_dom","basename","to","react_router","exact","path","component","Main","Help","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.802444f4.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { bool, func, string } from \"prop-types\";\r\nimport ReactToggle from \"react-toggle\";\r\nimport \"./Toggle.css\";\r\n\r\nfunction Toggle({ text, initial, onChange }) {\r\n  return (\r\n    <label className=\"toggle-wrapper\">\r\n      <ReactToggle\r\n        defaultChecked={initial || false}\r\n        icons={{\r\n          checked: null,\r\n          unchecked: null\r\n        }}\r\n        onChange={onChange}\r\n      />\r\n      <span className=\"toggle-text\">{text}</span>\r\n    </label>\r\n  );\r\n}\r\n\r\nToggle.propTypes = {\r\n  text: string.isRequired,\r\n  initial: bool,\r\n  onChange: func.isRequired\r\n};\r\n\r\nexport default Toggle;\r\n","import React from \"react\";\r\nimport { arrayOf, bool, func, number, string } from \"prop-types\";\r\nimport \"./Tag.css\";\r\n\r\nfunction Tag({ name, count, modifier, types, active, onClick }) {\r\n  const onAction = () => onClick({ name, count, types, modifier });\r\n\r\n  const exclude = modifier === \"-\";\r\n  const character = types.includes(\"character\");\r\n  const artist = types.includes(\"artist\");\r\n\r\n  return (\r\n    <span\r\n      className={\r\n        \"badge badge-tag\" +\r\n        (active ? \" active\" : \"\") +\r\n        (exclude ? \" exclude\" : \"\") +\r\n        (character ? \" character\" : \"\") +\r\n        (artist ? \" artist\" : \"\")\r\n      }\r\n      onClick={onAction}\r\n    >\r\n      {count ? `${name} (${count})` : name}\r\n    </span>\r\n  );\r\n}\r\n\r\nTag.propTypes = {\r\n  name: string,\r\n  count: number,\r\n  modifier: string,\r\n  types: arrayOf(string),\r\n  active: bool,\r\n  onClick: func\r\n};\r\n\r\nexport default Tag;\r\n","import React from \"react\";\r\nimport { arrayOf, func, object } from \"prop-types\";\r\nimport Tag from \"../tag/Tag\";\r\n\r\nexport function TagList({ tags, activeTags, onItemClick }) {\r\n  return (\r\n    <div className=\"tag-list\">\r\n      {tags.map(tag => (\r\n        <Tag\r\n          key={\"t_\" + tag.name}\r\n          {...tag}\r\n          active={isTagActive(tag, activeTags)}\r\n          onClick={onItemClick}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nTagList.propTypes = {\r\n  tags: arrayOf(object),\r\n  onItemClick: func\r\n};\r\n\r\nexport default TagList;\r\n\r\nfunction isTagActive(tag, activeTags) {\r\n  return activeTags.some(t => t.name === tag.name);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { arrayOf, func, number, object, string } from \"prop-types\";\r\nimport { TagList } from \"../tagList/TagList\";\r\nimport \"./Post.css\";\r\n\r\nfunction Post(props) {\r\n  let {\r\n    id,\r\n    media_type,\r\n    preview_src,\r\n    original_src,\r\n    rating,\r\n    score,\r\n    source,\r\n    tags,\r\n    loadOriginal,\r\n    activeTags,\r\n    onTagClick\r\n  } = props;\r\n\r\n  let media_src;\r\n  if (loadOriginal) {\r\n    media_src = original_src;\r\n  } else {\r\n    media_src = `${preview_src}?${id}`;\r\n    if (media_src.includes(\"//images\")) {\r\n      media_src = media_src.replace(\"//images\", \"/images\");\r\n    }\r\n  }\r\n\r\n  //TODO: smooth collapse\r\n  let [collapsed, setCollapsed] = useState(true);\r\n  return (\r\n    <li id={id} className=\"list-group-item post gray\">\r\n      <Media\r\n        type={media_type}\r\n        src={media_src}\r\n        onClick={() => setCollapsed(!collapsed)}\r\n      />\r\n\r\n      <div className={\"details collapse\" + (collapsed ? \"\" : \".show\")}>\r\n        <div className=\"d-flex justify-content-between info-bar\">\r\n          <Rating value={rating} />\r\n          <Score value={score} />\r\n          <Source value={source} />\r\n        </div>\r\n        <div className=\"pl-1\">\r\n          <TagList\r\n            tags={tags}\r\n            activeTags={activeTags}\r\n            onItemClick={onTagClick}\r\n          />\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nPost.propTypes = {\r\n  id: number,\r\n  media_type: string,\r\n  media_src: string,\r\n  rating: string,\r\n  score: number,\r\n  source: string,\r\n  tags: arrayOf(object),\r\n  onTagClick: func\r\n};\r\n\r\nexport default Post;\r\n\r\nfunction Media({ type, src, onClick }) {\r\n  let hasMoved = false;\r\n  const onMove = () => {\r\n    hasMoved = true;\r\n  };\r\n  const onRelease = event => {\r\n    if (!hasMoved) onClick(event);\r\n    hasMoved = false;\r\n  };\r\n\r\n  switch (type) {\r\n    case \"image\":\r\n      return (\r\n        <img src={src} alt={src} className=\"img-fluid\" onClick={onClick} />\r\n      );\r\n    case \"video\":\r\n      return (\r\n        <video\r\n          controls\r\n          loop\r\n          src={src}\r\n          alt={src}\r\n          className=\"img-fluid\"\r\n          onClick={onClick}\r\n          onTouchMove={onMove}\r\n          onTouchEnd={onRelease}\r\n        />\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nfunction Rating({ value }) {\r\n  return <span className=\"rating\">{value[0].toUpperCase()}</span>;\r\n}\r\n\r\nfunction Score({ value }) {\r\n  return <span className=\"score\">{value}</span>;\r\n}\r\n\r\nfunction Source({ value }) {\r\n  if (value)\r\n    if (value.startsWith(\"http\"))\r\n      return (\r\n        <a\r\n          href={value}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"source\"\r\n        >\r\n          Source\r\n        </a>\r\n      );\r\n    else return <span className=\"source\">{value}</span>;\r\n  else return null;\r\n}\r\n","import React from \"react\";\r\nimport { arrayOf, object } from \"prop-types\";\r\nimport Post from \"../post/Post\";\r\nimport \"./PostList.css\";\r\n\r\nfunction PostList({ posts, activeTags, loadOriginal, onTagClick }) {\r\n  return (\r\n    <ul className=\"post-list list-group list-group-flush\">\r\n      {posts.map(post => {\r\n        return (\r\n          <Post\r\n            key={`p_${post.id}`}\r\n            {...post}\r\n            loadOriginal={loadOriginal}\r\n            activeTags={activeTags}\r\n            onTagClick={onTagClick}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nPostList.propTypes = {\r\n  posts: arrayOf(object)\r\n};\r\n\r\nexport default PostList;\r\n","const pageSize = 20,\r\n  apiUrl1 = \"https://custom-r34-api.herokuapp.com\",\r\n  apiUrl2 = \"https://r34-api-clone.herokuapp.com\";\r\n\r\nlet activeApi = apiUrl1;\r\n\r\nfetch(activeApi).catch(() => (activeApi = apiUrl2));\r\n\r\nexport default {\r\n  async getTags(searchTerm) {\r\n    const res = await fetch(\r\n      activeApi +\r\n        \"/tags?limit=\" +\r\n        pageSize +\r\n        \"&name=\" +\r\n        searchTerm +\r\n        \"*&order_by=posts\"\r\n    );\r\n    return await res.json();\r\n  },\r\n\r\n  async getPosts(tags, pageNumber = 0, minScore = 0) {\r\n    const res = await fetch(buildPostUrl(pageNumber, tags, minScore));\r\n    return await res.json();\r\n  }\r\n};\r\n\r\nfunction buildPostUrl(page, tags, minScore) {\r\n  let url = activeApi + \"/posts\";\r\n  url += \"?pid=\" + page;\r\n  url += \"&limit=\" + pageSize;\r\n  url +=\r\n    \"&tags=\" +\r\n    tags\r\n      .map(t => (t.modifier ? t.modifier : \"\") + encodeURIComponent(t.name))\r\n      .join(\"+\");\r\n  url += encodeURIComponent(\"+score:>=\" + minScore);\r\n  return url;\r\n}\r\n","export default class Post {\r\n  /**\r\n   *\r\n   * @param {*} id\r\n   * @param {*} type\r\n   * @param {*} score\r\n   * @param {*} rating\r\n   * @param {*} source\r\n   * @param {*} tags\r\n   * @param {*} file_url\r\n   * @param {*} width\r\n   * @param {*} height\r\n   * @param {*} creator_id\r\n   * @param {*} creator_url\r\n   * @param {*} preview_url\r\n   * @param {*} preview_width\r\n   * @param {*} preview_height\r\n   * @param {*} sample_url\r\n   * @param {*} sample_width\r\n   * @param {*} sample_height\r\n   * @param {*} status\r\n   * @param {*} parent_id\r\n   * @param {*} has_children\r\n   * @param {*} has_comments\r\n   * @param {*} comments_url\r\n   * @param {*} has_notes\r\n   * @param {*} created_at\r\n   * @param {*} change\r\n   * @param {*} md5\r\n   */\r\n  constructor(\r\n    id,\r\n    score,\r\n    rating,\r\n    source,\r\n    tags,\r\n    media_type,\r\n    media_src,\r\n    file_url,\r\n    width,\r\n    height,\r\n    creator_id,\r\n    creator_url,\r\n    status,\r\n    parent_id,\r\n    has_children,\r\n    has_comments,\r\n    comments_url,\r\n    has_notes,\r\n    created_at,\r\n    change\r\n  ) {\r\n    this.id = id;\r\n\r\n    this.score = score;\r\n    this.rating = rating;\r\n    this.source = source;\r\n    this.tags = tags;\r\n\r\n    this.media_type = media_type;\r\n    this.preview_src = media_src;\r\n    this.original_src = file_url;\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    this.creator_id = creator_id;\r\n    this.creator_url = creator_url;\r\n\r\n    this.status = status;\r\n    this.parent_id = parent_id;\r\n    this.has_children = has_children;\r\n    this.has_comments = has_comments;\r\n    this.comments_url = comments_url;\r\n    this.has_notes = has_notes;\r\n    this.created_at = created_at;\r\n    this.change = change;\r\n  }\r\n}\r\n","export default class Tag {\r\n  constructor(name, types = [], count, modifier = \"+\") {\r\n    this.name = name;\r\n    this.types = types;\r\n    this.count = count;\r\n    this.modifier = modifier;\r\n  }\r\n}\r\n","import Post from \"../data/post\";\r\nimport Tag from \"../data/tag\";\r\n\r\nexport default function(obj) {\r\n  return obj.name ? prepareTag(obj) : preparePost(obj);\r\n}\r\n\r\nfunction prepareTag({ name, types, count, modifier }) {\r\n  return new Tag(name, types, Number(count), modifier);\r\n}\r\n\r\nfunction preparePost(post) {\r\n  const {\r\n    id,\r\n    type,\r\n    score,\r\n    rating,\r\n    source,\r\n    tags,\r\n    file_url,\r\n    width,\r\n    height,\r\n    creator_id,\r\n    creator_url,\r\n    sample_url,\r\n    status,\r\n    parent_id,\r\n    has_children,\r\n    has_comments,\r\n    comments_url,\r\n    has_notes,\r\n    created_at,\r\n    change\r\n  } = post;\r\n  return new Post(\r\n    Number(id),\r\n    Number(score),\r\n    rating,\r\n    source,\r\n    tags.map(t => new Tag(t)),\r\n    type,\r\n    sample_url,\r\n    file_url,\r\n    Number(width),\r\n    Number(height),\r\n    creator_id,\r\n    creator_url,\r\n    status,\r\n    parent_id,\r\n    has_children,\r\n    has_comments,\r\n    comments_url,\r\n    has_notes,\r\n    created_at,\r\n    change\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { func } from \"prop-types\";\r\nimport Autosuggest from \"react-autosuggest\";\r\nimport api from \"../../misc/api\";\r\nimport \"./TagSelector.css\";\r\nimport prepare from \"../../misc/prepare\";\r\n\r\nfunction TagSelector({ onSubmit }) {\r\n  const [value, setValue] = useState(\"\");\r\n  const [modifier, setModifier] = useState(\"+\");\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [oldSuggestions, setOldSuggestions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (suggestions && suggestions.length > 0)\r\n      setOldSuggestions(suggestions.filter(() => true));\r\n  }, [suggestions]);\r\n\r\n  const onSubmitTag = event => {\r\n    const tagObject = oldSuggestions.find(s => s.name === value) || {};\r\n\r\n    onSubmit(\r\n      prepare({\r\n        name: value,\r\n        count: tagObject.posts,\r\n        types: tagObject.types,\r\n        modifier: modifier\r\n      })\r\n    );\r\n\r\n    setValue(\"\");\r\n\r\n    event.preventDefault();\r\n  };\r\n  const onValueChange = (event, { newValue }) => setValue(newValue);\r\n  const onSuggestionsFetchRequested = ({ value }) => {\r\n    api.getTags(normalize(value)).then(newSuggestions => {\r\n      setSuggestions(newSuggestions);\r\n    });\r\n  };\r\n\r\n  const inputProps = {\r\n    placeholder: \"Search for tags\",\r\n    value,\r\n    onChange: onValueChange\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmitTag} className=\"d-flex input-group tag-selector\">\r\n      <div className=\"input-group-prepend left-append\">\r\n        <select\r\n          className=\"form-control select-modifier\"\r\n          value={modifier}\r\n          onChange={e => setModifier(e.target.value)}\r\n        >\r\n          <option>+</option>\r\n          <option>-</option>\r\n        </select>\r\n      </div>\r\n      <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={onSuggestionsFetchRequested}\r\n        onSuggestionsClearRequested={() => setSuggestions([])}\r\n        getSuggestionValue={suggestion => suggestion.name}\r\n        renderSuggestion={({ name, posts }) => (\r\n          <span>{`${name} (${posts})`}</span>\r\n        )}\r\n        inputProps={inputProps}\r\n      />\r\n      <div className=\"input-group-append right-append\">\r\n        <input type=\"submit\" value=\"Add\" className=\"btn btn-red btn-add-tag\" />\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nfunction normalize(tagname) {\r\n  return tagname.toLowerCase().replace(\" \", \"_\");\r\n}\r\n\r\nTagSelector.propTypes = {\r\n  onSubmitTag: func\r\n};\r\n\r\nexport default TagSelector;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Toggle from \"../components/toggle/Toggle\";\r\nimport TagList from \"../components/tagList/TagList\";\r\nimport PostList from \"../components/postList/PostList\";\r\nimport api from \"../misc/api\";\r\nimport TagSelector from \"../components/tagSelector/TagSelector\";\r\nimport prepare from \"../misc/prepare\";\r\n\r\nlet scrollLock = true;\r\n\r\nfunction endOfPage() {\r\n  return (\r\n    window.innerHeight + document.documentElement.scrollTop >=\r\n    document.documentElement.scrollHeight - window.innerHeight\r\n  );\r\n}\r\n\r\nfunction useTags() {\r\n  const [tags, setTags] = useState([]);\r\n\r\n  const addTag = newTag => {\r\n    debugger;\r\n    if (tags.find(tag => tag.name === newTag.name)) removeTag(newTag);\r\n    setTags([...tags, newTag]);\r\n  };\r\n\r\n  const removeTag = tagToRemove => {\r\n    debugger;\r\n    setTags(tags.filter(tag => tag.name !== tagToRemove.name));\r\n  };\r\n\r\n  const toggleTag = tagToToggle => {\r\n    if (tags.find(tag => tag.name === tagToToggle.name)) removeTag(tagToToggle);\r\n    else addTag(tagToToggle);\r\n  };\r\n\r\n  return [tags, toggleTag, addTag, removeTag];\r\n}\r\n\r\nfunction usePosts() {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  const addPosts = newPosts => setPosts([...posts, ...newPosts]);\r\n\r\n  return [posts, setPosts, addPosts];\r\n}\r\n\r\nfunction Main(props) {\r\n  //TODO: add suggested tags | filters\r\n  const [infiniteScroll, setInfiniteScroll] = useState(false);\r\n  const [filterRated, setFilterRated] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(0);\r\n  const [loadOriginal, setLoadOriginal] = useState(false);\r\n  const [tags, toggleTag, addTag, removeTag] = useTags();\r\n  const [posts, setPosts, addPosts] = usePosts(tags, filterRated);\r\n\r\n  // SEARCH\r\n  const search = () => {\r\n    api.getPosts(tags, 0, filterRated ? 1 : undefined).then(newPosts => {\r\n      setPosts(newPosts.map(prepare));\r\n      setPageNumber(0);\r\n    });\r\n  };\r\n  const loadMore = () => {\r\n    api\r\n      .getPosts(tags, pageNumber + 1, filterRated ? 1 : undefined)\r\n      .then(newPosts => {\r\n        addPosts(newPosts.map(prepare));\r\n        setPageNumber(pageNumber + 1);\r\n        scrollLock = true;\r\n      });\r\n  };\r\n\r\n  // SCROLL\r\n  window.onscroll = () => {\r\n    if (infiniteScroll && scrollLock && endOfPage()) {\r\n      scrollLock = false;\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"search\">\r\n        <h3 className=\"centered\">Search</h3>\r\n        <TagSelector onSubmit={addTag} className=\"centered\" />\r\n\r\n        {tags.length > 0 ? (\r\n          <label>\r\n            Tags:\r\n            <TagList tags={tags} activeTags={tags} onItemClick={removeTag} />\r\n          </label>\r\n        ) : (\r\n          <div className=\"mb-1\" />\r\n        )}\r\n\r\n        <Toggle\r\n          text=\"Infinite Scroll\"\r\n          initial={infiniteScroll}\r\n          onChange={() => setInfiniteScroll(!infiniteScroll)}\r\n        />\r\n        <Toggle\r\n          text=\"Only show Rated\"\r\n          initial={filterRated}\r\n          onChange={() => setFilterRated(!filterRated)}\r\n        />\r\n        <Toggle\r\n          text=\"Load Original Sizes\"\r\n          initial={loadOriginal}\r\n          onChange={() => setLoadOriginal(!loadOriginal)}\r\n        />\r\n\r\n        <button className=\"btn btn-block btn-red\" onClick={search}>\r\n          Search\r\n        </button>\r\n      </section>\r\n\r\n      {posts.length > 0 ? (\r\n        <section className=\"results\">\r\n          <h3 className=\"centered\">Results</h3>\r\n          <PostList\r\n            posts={posts}\r\n            activeTags={tags}\r\n            loadOriginal={loadOriginal}\r\n            onTagClick={toggleTag}\r\n          />\r\n          {!infiniteScroll && (\r\n            <button className=\"btn btn-block btn-red\" onClick={loadMore}>\r\n              Load More\r\n            </button>\r\n          )}\r\n        </section>\r\n      ) : null}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default withRouter(Main);\r\n","import React, { Component } from 'react';\r\n\r\nclass Search extends Component {   \r\n      render() {\r\n        return (\r\n          <div className=\"app\">\r\n            <main>\r\n              <p>Helpful things</p>\r\n            </main>\r\n          </div>\r\n        )\r\n      }\r\n}\r\n\r\nexport default Search","import React, { Component } from 'react';\r\n\r\nclass NotFound extends Component {   \r\n      render() {\r\n        return (\r\n          <div className=\"app\">\r\n            <header>\r\n              <h1>404 - not found</h1>\r\n            </header>\r\n    \r\n            <main>\r\n              <p>Go away</p>\r\n            </main>\r\n          </div>\r\n        )\r\n      }\r\n}\r\n\r\nexport default NotFound","import React, { Component } from 'react';\nimport Main from './pages/Main';\nimport Help from './pages/Help';\nimport NotFound from './pages/NotFound';\nimport { Route, Link, Switch, BrowserRouter as Router } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './App.css';\n\nclass App extends Component {\n  render(){\n    return(\n      <Router basename=\"/r34-react\">\n        <header className=\"centered\">\n          <h1 className=\"centered\">Browse <a href=\"https://rule34.xxx\">Rule34</a></h1>\n          <div className=\"container d-flex justify-content-center menu-bar\">\n            <Link to=\"/\" className=\"menu-item\">Search</Link>\n            <Link to=\"/help\" className=\"menu-item\">Help</Link>\n          </div>\n        </header>\n        <Switch>\n          <Route exact path=\"/\" component={Main} />\n          <Route exact path=\"/help\" component={Help} />\n          <Route component={NotFound} />\n        </Switch>\n        <div className=\"spacer\"></div>\n        <footer>\n          <small>\n            <div className=\"d-flex justify-content-center\">\n              <p>\n                <a href=\"https://github.com/kurozenzen/r34\">Github Repository</a>\n              </p>\n            </div>\n            <div className=\"d-flex justify-content-center\">\n              <p>Please, if you notice <a href=\"https://github.com/kurozenzen/r34/issues/new?template=bug_report.md\"> something isn't right</a>\n              , or you <a href=\"https://github.com/kurozenzen/r34/issues/new?template=feature_request.md\">want a feature</a> to be implemented take the time to let me know.\n              </p>\n            </div>\n            <div className=\"d-flex justify-content-center\">\n              <p>Hosted with Github Pages.</p>\n            </div>\n          </small>\n        </footer>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('app-root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}