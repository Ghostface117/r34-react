(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{42:function(e,t,n){e.exports=n.p+"static/media/OutOfResults.00a98fae.png"},60:function(e,t,n){e.exports=n(83)},72:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),c=n.n(o),l=n(8),i=n(21),s=n(43),d=n(50),u=n.n(d),m=n(23);const b=e=>({type:"R34_ADD_TAG",tag:e}),g=(e,t)=>({type:"R34_SET_OPTION",key:e,value:t}),p=()=>({type:"R34_ALLOW_COOKIES",value:!0}),h={activeMenu:"search"};const f={infinite:!0,rated:!1,ratedTreshold:1,originals:!1,cookies:!1,preloadVideos:!1,tagSuggestionsCount:20},O=(e,t,n)=>Object(m.a)(e,e=>{switch(t){case"infinite":e.infinite=n;break;case"rated":e.rated=n;break;case"ratedTreshold":e.ratedTreshold=n;break;case"originals":e.originals=n;break;case"cookies":e.cookies=n;break;case"preload_videos":e.preloadVideos=n;break;case"tag_suggestion_count":e.tagSuggestionsCount=n}});const j={posts:[],pageNumber:0,count:0};var E=n(30);const v={active:{},aliases:{}};var w=Object(i.combineReducers)({tags:(e=v,t)=>{switch(t.type){case"R34_ADD_TAG":return((e,t)=>Object(m.a)(e,n=>{n.active[t.name]=Object(E.a)(Object(E.a)({},e.active[t.name]),t)}))(e,t.tag);case"R34_REMOVE_TAG":return((e,t)=>Object(m.a)(e,e=>{delete e.active[t.name],delete e.aliases[t.name]}))(e,t.tag);case"R34_ADD_ALIASES":return((e,t,n)=>Object(m.a)(e,e=>{e.aliases[n]=t}))(e,t.aliases,t.forTag);default:return e}},results:(e=j,t)=>{switch(t.type){case"R34_ADD_POSTS":return((e,t)=>Object(m.a)(e,n=>{n.posts=[...e.posts,...t],n.pageNumber=e.pageNumber+1,window.posts=n.posts}))(e,t.posts);case"R34_SET_POSTS":return((e,t,n)=>Object(m.a)(e,e=>{e.posts=t,e.count=Number(n),e.pageNumber=0,window.posts=e.posts}))(e,t.posts,t.count);default:return e}},preferences:(e=f,t)=>{switch(t.type){case"R34_SET_OPTION":return O(e,t.key,t.value);case"R34_ALLOW_COOKIES":return O(e,"cookies",t.value);default:return e}},misc:(e=h,t)=>{switch(t.type){case"R34_SET_ACTIVE_MENU":return((e,t)=>Object(m.a)(e,e=>{e.activeMenu=t}))(e,t.menu);default:return e}}}),y=n(51),k=n.n(y);n(84);const x=e=>e.tags.active,C=e=>e.results.posts,_=e=>e.results.count,S=e=>e.results.pageNumber,T=e=>e.preferences,R=e=>e.preferences.originals,z=e=>e.preferences.cookies,L=e=>Object.values(e.tags.aliases).flat(),N=e=>Object.keys(e.results.posts).length===e.results.count,A={apiKey:"AIzaSyBHdepwE7M4Byu2lFtX2s__9COcMdvXu7Q",authDomain:"r34-react.firebaseapp.com",databaseURL:"https://r34-react.firebaseio.com",projectId:"r34-react",storageBucket:"r34-react.appspot.com",messagingSenderId:"844749417844",appId:"1:844749417844:web:11fa1fda0e14f1ac2dd021",measurementId:"G-27J3QXZ8YR"};let I,P;var M=n(28),D=n.n(M),F=n(36);let W="https://r34-json.herokuapp.com";fetch(W).catch(()=>W="https://r34-api-clone.herokuapp.com");var B={getTags:(e,t=20)=>Object(F.a)(D.a.mark((function n(){var a;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(W,"/tags?limit=").concat(t,"&name=").concat(e,"*&order_by=posts"));case 2:return a=n.sent,n.next=5,a.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))(),getPosts:(e,t=0,n=0)=>Object(F.a)(D.a.mark((function a(){var r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(G(t,e,n));case 2:return r=a.sent,a.next=5,r.json();case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))(),getAliases:e=>Object(F.a)(D.a.mark((function t(){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(W,"/alias/").concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()};function G(e,t,n){const a=Object.values(t).map(e=>"".concat("-"===e.modifier?"-":"").concat(encodeURIComponent(e.name))).join("+");let r="".concat(W,"/posts?pid=").concat(e,"&limit=").concat(20,"&tags=").concat(a);return n>0&&(r+="+".concat(encodeURIComponent("score:>="+n))),r}class V{constructor(e,t,n,a,r,o,c,l,i,s,d,u,m,b,g,p,h,f,O,j,E){this.id=void 0,this.score=void 0,this.rating=void 0,this.source=void 0,this.tags=void 0,this.media_type=void 0,this.thumbnail_src=void 0,this.small_src=void 0,this.big_src=void 0,this.width=void 0,this.height=void 0,this.creator_id=void 0,this.creator_url=void 0,this.status=void 0,this.parent_id=void 0,this.has_children=void 0,this.has_comments=void 0,this.comments_url=void 0,this.has_notes=void 0,this.created_at=void 0,this.change=void 0,this.id=e,this.score=t,this.rating=n,this.source=a,this.tags=r,this.media_type=o,this.small_src=c,this.big_src=l,this.thumbnail_src=i,this.width=s,this.height=d,this.creator_id=u,this.creator_url=m,this.status=b,this.parent_id=g,this.has_children=p,this.has_comments=h,this.comments_url=f,this.has_notes=O,this.created_at=j,this.change=E}}class H{constructor(e,t=[],n=null,a="+"){this.name=void 0,this.count=void 0,this.types=void 0,this.modifier=void 0,this.name=e,this.types=t,this.count=n,this.modifier=a}}function U(e){const t=e.id,n=e.type,a=e.score,r=e.rating,o=e.source,c=e.tags,l=e.file_url,i=e.width,s=e.height,d=e.creator_id,u=e.creator_url,m=e.sample_url,b=e.preview_url,g=e.status,p=e.parent_id,h=e.has_children,f=e.has_comments,O=e.comments_url,j=e.has_notes,E=e.created_at,v=e.change;return new V(Number(t),Number(a),r,o,c?c.map(e=>new H(e)):[],n,m,l,b,Number(i),Number(s),Number(d),u,g,Number(p),Boolean(h),Boolean(f),O,Boolean(j),E,v)}var X=n(53);const q={key:"appstate",storage:u.a,blacklist:["results"]},K=Object(s.a)(q,w),J=Object(i.createStore)(K,Object(X.composeWithDevTools)(Object(i.applyMiddleware)(e=>t=>n=>{if(z(e.getState())){if(I||(I=k.a.initializeApp(A),P=I.analytics()),"R34_ADD_TAG"===n.type){const e={id:"r34_add_tag",payload:{name:(a=n.tag).name,modifier:a.modifier}},t=e.id,r=e.payload;P.logEvent(t,r)}if("R34_ADD_POSTS"===n.type||"R34_SET_POSTS"===n.type){const t=x(e.getState()),a=S(e.getState()),r=T(e.getState()),o=((e,t,n)=>({id:"r34_search",payload:{active_tags:Object.values(e).map(e=>"".concat(e.modifier).concat(e.name)).sort(),page_number:t,preferences:n}}))(t,"R34_SET_POSTS"===n.type?0:a+1,r),c=o.id,l=o.payload;P.logEvent(c,l)}}var a;t(n)},e=>t=>n=>{if("R34_GET_RESULTS"===n.type){const t=x(e.getState()),n=T(e.getState()),a=n.rated,r=n.ratedTreshold;B.getPosts(t,0,a?r:0).then(t=>{var n,a;e.dispatch((n=t.posts.map(U),a=t.count,{type:"R34_SET_POSTS",posts:n,count:a}))})}const a=N(e.getState());if("R34_GET_MORE_RESULTS"===n.type&&!a){const t=x(e.getState()),n=S(e.getState()),a=T(e.getState()),r=a.rated,o=a.ratedTreshold;B.getPosts(t,n+1,r?o:0).then(t=>{e.dispatch({type:"R34_ADD_POSTS",posts:t.posts.map(U)})})}t(n)}))),Y=Object(s.b)(J);var Q,Z,$,ee=n(54),te=n(4),ne=n(2),ae=ne.d.h2(Q||(Q=Object(te.a)(["\n  font-size: 24px;\n  font-weight: lighter;\n  text-align: center;\n"])));const re=ne.d.h1(Z||(Z=Object(te.a)(["\n  display: flex;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: lighter;\n  text-align: center;\n"]))),oe=ne.d.h3(e=>Object(ne.c)($||($=Object(te.a)(["\n    font-size: ",";\n  "])),e.theme.fontSizes.content));var ce,le,ie=ne.d.div(e=>Object(ne.c)(ce||(ce=Object(te.a)(["\n    display: grid;\n    padding: ",";\n    background: ",";\n    ",";\n    border-radius: ",";\n    width: 100%;\n    gap: ",";\n  "])),e.theme.dimensions.gutter,e.theme.misc.layer,e.theme.shadow.box,e.theme.dimensions.borderRadius,e.theme.dimensions.gutter));const se=ne.d.div(e=>Object(ne.c)(le||(le=Object(te.a)(["\n    width: 100%;\n    height: 1px;\n    background: ",";\n  "])),e.theme.misc.layer));var de,ue,me,be,ge,pe,he=n(14);const fe=ne.d.button(({theme:e})=>Object(ne.c)(de||(de=Object(te.a)(["\n    font-size: ",";\n  "])),e.fontSizes.content)),Oe=Object(ne.d)(fe)(({theme:e})=>Object(ne.c)(ue||(ue=Object(te.a)(["\n    background-color: transparent;\n    border: none;\n    padding: ",";\n    filter: ",";\n\n    svg {\n      transition: all "," ease-in-out;\n    }\n\n    :hover {\n      svg {\n        transform: scale(1.1);\n      }\n    }\n  "])),e.dimensions.spacing,e.shadow.drop,e.timings.transitionTime)),je=Object(ne.d)(fe)(({theme:e})=>Object(ne.c)(me||(me=Object(te.a)(["\n    height: ",";\n    font-size: ",";\n    color: ",";\n    background: ",";\n    border: "," "," solid;\n    border-radius: ",";\n    padding: 0 ",";\n\n    transition: border-color "," ease-in-out;\n    transition: color "," ease-in-out;\n    transition: background-color "," ease-in-out;\n\n    :hover {\n      background-color: ",";\n      color: ",";\n    }\n\n    :active,\n    :focus {\n      color: ",";\n\n      border-color: ",";\n      cursor: pointer;\n    }\n  "])),e.dimensions.blockHeight,e.fontSizes.content,e.colors.accentColor,e.colors.backgroundColor,e.colors.accentColor,e.dimensions.borderWidth,e.dimensions.borderRadius,e.dimensions.bigSpacing,e.timings.longTransitionTime,e.timings.longTransitionTime,e.timings.longTransitionTime,e.colors.accentColor,e.colors.backgroundColor,e.colors.backgroundColor2,e.colors.backgroundColor2)),Ee=Object(ne.d)(je)(({theme:e})=>Object(ne.c)(be||(be=Object(te.a)(["\n    width: 100%;\n  "])))),ve=Object(ne.d)(je)(({theme:e})=>Object(ne.c)(ge||(ge=Object(te.a)(["\n    border-left-width: 0;\n    border-radius: 0 ","\n      "," 0;\n  "])),e.dimensions.borderRadius,e.dimensions.borderRadius)),we=Object(ne.d)(fe)(({theme:e})=>Object(ne.c)(pe||(pe=Object(te.a)(["\n    background-color: transparent;\n    min-width: 48px;\n    border: "," "," solid;\n    border-right-width: 0;\n    border-radius: "," 0 0\n      ",";\n    font-weight: bold;\n  "])),e.colors.accentColor,e.dimensions.borderWidth,e.dimensions.borderRadius,e.dimensions.borderRadius));var ye,ke=function(e){const t=e.type,n=e.children,a=e.onClick,o=(e.active,e.disabled),c=void 0!==o&&o,l=e.label,i=e.className,s=void 0===i?"":i,d=((e,t)=>{switch(e){case"invisible":return Oe;case"block":return Ee;case"modifier":return we;case"add":return ve;default:return je}})(t);return r.a.createElement(d,{onClick:a,disabled:c,"aria-label":l,className:s},n)};const xe=ne.d.input(e=>Object(ne.c)(ye||(ye=Object(te.a)(["\n    width: 100%;\n    border: none;\n    outline: none;\n    background: none;\n    font-size: ",";\n    border-top: ","\n      "," solid;\n    border-bottom: ","\n      "," solid;\n  "])),e.theme.fontSizes.content,e.theme.colors.accentColor,e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.dimensions.borderWidth));function Ce(e){const t=e.value,n=e.setValue;return r.a.createElement(xe,{id:"tag-input",value:t,onChange:e=>n(e.target.value),placeholder:"Search for tags","aria-label":"Search"})}n(72);function _e(e){return e.replace(/_/g," ")}const Se=e=>{const t=e;return t>=1e6?"".concat((t/1e6).toFixed(0),"M"):t>=1e3?"".concat((t/1e3).toFixed(0),"K"):t};function Te(e=!1){const t=Object(a.useState)(e),n=Object(he.a)(t,2),r=n[0],o=n[1],c=Object(a.useCallback)(()=>o(!r),[r]),l=Object(a.useCallback)(()=>o(e),[e]);return[r,c,l]}var Re,ze,Le;const Ne=ne.d.div(e=>{return Object(ne.c)(ze||(ze=Object(te.a)(["\n      display: inline-block;\n      padding: 0.25rem;\n      border-radius: ",";\n      font-size: ",";\n      line-height: 1.2;\n      vertical-align: baseline;\n      margin: ",";\n      ","\n    "])),(t=e.collapsed,n=e.theme,t?n.dimensions.borderRadius:"".concat(n.dimensions.borderRadius," ").concat(n.dimensions.borderRadius," 0 0")),e.theme.fontSizes.content,e.theme.dimensions.spacing,((e,t)=>{const n=e?t.colors.backgroundColor:t.colors.accentColor,a=e?t.colors.accentColor:t.colors.backgroundColor;return Object(ne.c)(Re||(Re=Object(te.a)(["\n    color: ",";\n    background-color: ",";\n    border: "," "," solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover,\n    :focus,\n    :active {\n      border-color: ",";\n      color: ",";\n\n      i {\n        color: ",";\n      }\n    }\n  "])),n,a,t.colors.accentColor,t.dimensions.borderWidth,t.colors.backgroundColor2,t.colors.backgroundColor2,t.colors.backgroundColor2)})(e.active,e.theme));var t,n}),Ae=ne.d.span(e=>Object(ne.c)(Le||(Le=Object(te.a)(["\n    ","\n    ","\n  "])),e.left?"margin-right: 5px;":"",e.right?"margin-left: 5px;":""));function Ie(e){const t=e.name,n=e.count,a=e.modifier,o=e.types,c=Object(l.b)(),i=_e(t),s=n?"".concat(i," (").concat(Se(n),")"):i,d=Object(l.c)(x);return r.a.createElement("span",{onClick:e=>{e.stopPropagation(),d[t]?c({type:"R34_REMOVE_TAG",tag:new H(t,o,n)}):c(b(new H(t,o,n)))}},"-"===a?r.a.createElement("s",null,s):s)}function Pe(e){const t=e.name,n=e.count;return r.a.createElement("div",{className:"alias"},r.a.createElement(Ie,{name:t,count:n}))}var Me,De,Fe,We,Be,Ge,Ve,He,Ue,Xe,qe,Ke,Je,Ye,Qe,Ze,$e,et,tt,nt,at,rt=function(e){const t=e.name,n=e.count,o=e.modifier,c=e.types,i=e.loadAliases,s=Object(l.c)(x),d=Object(l.c)((u=t,e=>e.tags.aliases[u]));var u;const m=Te(!0),b=Object(he.a)(m,3),g=b[0],p=b[1],h=b[2],f=Object(l.b)();Object(a.useEffect)(()=>{i&&s[t]&&B.getAliases(t).then(e=>{e.sort((e,t)=>t.posts-e.posts);const n=e.filter(e=>!s[e.name]).map(e=>new H(e.name,[],e.posts));f(((e,t)=>({type:"R34_ADD_ALIASES",aliases:e,forTag:t}))(n,t))})},[i,t,s,f]);const O=Boolean(s[t]),j=i&&d&&d.length>0;return r.a.createElement(Ne,{active:O,collapsed:g,onMouseLeave:h},r.a.createElement(kt,{types:c,left:!0}),r.a.createElement(Ie,{name:t,count:n,modifier:o,types:c}),j&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{right:!0,onClick:p},r.a.createElement(bt,null)),r.a.createElement("div",{className:"dropdown-list"+(g?"":" visible")},d.map(({name:e,count:t})=>r.a.createElement(Pe,{key:"t_"+e,name:e,count:t})))))};const ot=ne.d.i(e=>Object(ne.c)(Me||(Me=Object(te.a)(["\n    color: ",";\n    min-width: ","px;\n    height: ","px;\n\n    ",":hover & {\n      color: ",";\n    }\n\n    ",":active & ,  ",":focus & {\n      color: ",";\n    }\n  "])),e.color,e.size,e.size,Ne,e.theme.colors.accentColor,Ne,Ne,e.theme.colors.backgroundColor2)),ct=ne.d.svg(e=>Object(ne.c)(De||(De=Object(te.a)(["\n    width: ","px;\n    height: ","px;\n  "])),e.size,e.size)),lt=ne.d.span(e=>Object(ne.c)(Fe||(Fe=Object(te.a)([""])))),it=e=>{const t=e.icon,n=e.className,a=void 0===n?"":n,o=e.color,c=void 0===o?"black":o,l=e.size,i=void 0===l?14:l,s=e.onClick,d=void 0===s?()=>{}:s,u=e.left,m=void 0!==u&&u,b=e.right,g=void 0!==b&&b,p=e.prefix,h=void 0===p?"fas":p;return r.a.createElement(lt,{onClick:d,left:m,right:g},r.a.createElement(ot,{className:"".concat(h," ").concat(t," ").concat(a),color:c,size:i}))},st=Object(ne.d)(it).attrs({icon:"fa-user"})(We||(We=Object(te.a)([""]))),dt=Object(ne.d)(it).attrs({icon:"fa-pen"})(Be||(Be=Object(te.a)([""]))),ut=Object(ne.d)(it).attrs({icon:"fa-copyright"})(Ge||(Ge=Object(te.a)([""]))),mt=(Object(ne.d)(it).attrs({icon:"fa-plus-circle"})(Ve||(Ve=Object(te.a)([""]))),Object(ne.d)(it).attrs({icon:"fa-minus-circle"})(He||(He=Object(te.a)([""]))),Object(ne.d)(it).attrs({icon:"fa-times"})(Ue||(Ue=Object(te.a)([""]))),Object(a.memo)(Object(ne.d)(it).attrs({icon:"fa-expand"})(Xe||(Xe=Object(te.a)([""]))))),bt=Object(ne.d)(it).attrs({icon:"fa-caret-down"})(qe||(qe=Object(te.a)([""]))),gt=Object(ne.d)(it).attrs({icon:"fa-external-link-alt"})(Ke||(Ke=Object(te.a)([""]))),pt=Object(ne.d)(it).attrs({icon:"fa-hashtag"})(Je||(Je=Object(te.a)([""]))),ht=Object(ne.d)(it).attrs({icon:"fa-registered"})(Ye||(Ye=Object(te.a)([""]))),ft=Object(ne.d)(it).attrs({icon:"fa-heart"})(Qe||(Qe=Object(te.a)([""]))),Ot=Object(ne.d)(it).attrs({prefix:"fab",icon:"fa-twitter"})(Ze||(Ze=Object(te.a)([""]))),jt=Object(ne.d)(it).attrs({icon:"fa-link"})($e||($e=Object(te.a)([""]))),Et=Object(a.memo)(Object(ne.d)(it).attrs({icon:"fa-play"})(et||(et=Object(te.a)([""])))),vt=Object(a.memo)(Object(ne.d)(it).attrs({icon:"fa-pause"})(tt||(tt=Object(te.a)([""])))),wt=(Object(ne.d)(it).attrs({icon:"fa-caret-down"})(nt||(nt=Object(te.a)([""]))),Object(ne.d)(it).attrs({icon:"fa-caret-up"})(at||(at=Object(te.a)([""]))),e=>{const t=e.color,n=void 0===t?"black":t,a=e.size,o=void 0===a?14:a,c=e.onClick,l=void 0===c?()=>{}:c,i=e.left,s=void 0!==i&&i,d=e.right,u=void 0!==d&&d;return r.a.createElement(lt,{onClick:l,left:s,right:u},r.a.createElement(ct,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",size:o},r.a.createElement("path",{fill:n,d:"M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z"})))}),yt=()=>{};function kt(e){const t=e.types,n=void 0===t?[]:t,a=e.className,o=void 0===a?"":a,c=e.onClick,l=void 0===c?yt:c;switch(n.find(e=>!e.match(/^[general|ambiguous]$/))){case"character":return r.a.createElement(st,{className:o,onClick:l,left:!0});case"copyright":return r.a.createElement(ut,{className:o,onClick:l,left:!0});case"artist":return r.a.createElement(dt,{className:o,onClick:l,left:!0});default:return r.a.createElement("div",{className:o})}}var xt,Ct,_t,St;const Tt=ne.d.div(e=>Object(ne.c)(Ct||(Ct=Object(te.a)(["\n    ",";\n    background: white;\n    box-sizing: border-box;\n    border: ","\n      "," solid;\n    border-radius: 0 0 3px 3px;\n    color: black;\n    z-index: 1;\n  "])),function(e){if(e){const t=e.offsetTop,n=e.clientHeight,a=e.offsetLeft,r=e.clientWidth;return Object(ne.c)(xt||(xt=Object(te.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n      max-height: 50vh;\n      overflow-y: scroll;\n    "])),t+n-2,a,r)}return""}(e.tagSelectorRef),e.theme.dimensions.borderWidth,e.theme.colors.accentColor));function Rt(e){const t=e.tagSelectorRef,n=e.entries,a=e.onClick;return n&&n.length>0?r.a.createElement(Tt,{tagSelectorRef:t},n.map(e=>r.a.createElement(Nt,Object.assign({key:e.name,onClick:()=>a(e)},e)))):null}const zt=ne.d.div(_t||(_t=Object(te.a)(["\n  display: flex;\n  height: 28px;\n\n  > * {\n    margin: auto;\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px grey solid;\n  }\n\n  :focus {\n    text-decoration: underline;\n  }\n"]))),Lt=ne.d.span(St||(St=Object(te.a)(["\n  flex: 0 0 48px;\n  text-align: center;\n"]))),Nt=e=>{const t=e.name,n=e.posts,a=e.types,o=e.onClick;return r.a.createElement(zt,{onClick:o},r.a.createElement(Lt,null,r.a.createElement(kt,{types:a})),r.a.createElement("span",{style:{flexGrow:1}},_e(t)),r.a.createElement("span",{style:{paddingRight:5}},Se(n)," posts"))};var At;const It=ne.d.div(e=>Object(ne.c)(At||(At=Object(te.a)(["\n    display: flex;\n    background: white;\n    ","\n  "])),e.closed?"border-radius: ".concat(e.theme.dimensions.borderRadius,";"):"\n        border-radius: ".concat(e.theme.dimensions.borderRadius," ").concat(e.theme.dimensions.borderRadius," 0 0;\n\n        > ").concat(ve," {\n          border-radius: 0 ").concat(e.theme.dimensions.borderRadius," 0 0;\n        }\n\n        > ").concat(we," {\n          border-radius: ").concat(e.theme.dimensions.borderRadius," 0 0 0;\n        }\n      ")));function Pt(){const e=Object(l.b)(),t=Object(a.useState)(""),n=Object(he.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)("+"),s=Object(he.a)(i,2),d=s[0],u=s[1],m=Object(a.useState)([]),g=Object(he.a)(m,2),p=g[0],h=g[1],f=Object(l.c)(T).tagSuggestionsCount,O=Object(a.useState)(null),j=Object(he.a)(O,2),v=j[0],w=j[1],y=Object(a.useCallback)(t=>{e(b(function(e){const t=e.name,n=e.types,a=e.count,r=e.modifier;return new H(t,n,Number(a),r)}({name:t.name,modifier:d,count:t.posts,types:t.types}))),c(""),h([])},[e,d]);Object(a.useEffect)(()=>{const e=setTimeout(()=>{var e;o?B.getTags((e=o,e.toLowerCase().replace(/ /g,"_")),f).then(e=>{h(e)}):h([])},300);return()=>clearTimeout(e)},[f,o]);const k=Object(a.useCallback)(()=>u("+"===d?"-":"+"),[d,u]),x=Object(a.useCallback)(()=>{if(o&&""!==o.trim()){const e=p.find(e=>e.name===o)||{};y(Object(E.a)(Object(E.a)({},e),{},{name:o}))}},[o,y,p]);return r.a.createElement(It,{ref:w,closed:0===p.length},r.a.createElement(ke,{type:"modifier",onClick:k,label:"Tag Modifier"},d),r.a.createElement(Ce,{value:o,setValue:c}),r.a.createElement(ke,{type:"add",onClick:x,label:"Add Tag"},"Add"),p.length>0&&r.a.createElement(Rt,{tagSelectorRef:v,entries:p,onClick:e=>y(e)}))}var Mt,Dt;const Ft=ne.d.div(e=>Object(ne.c)(Mt||(Mt=Object(te.a)(["\n    border-radius: 30px;\n    width: 50px;\n    border: "," solid\n      ",";\n    background-color: ",";\n    transition: transform 0.4s ease-in-out;\n  "])),e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.colors.backgroundColor)),Wt=ne.d.div(e=>Object(ne.c)(Dt||(Dt=Object(te.a)(["\n    width: 20px;\n    height: 20px;\n    background-color: ",";\n    border-radius: 50%;\n    transition: all 0.2s ease-in-out;\n    transform: translate(",");\n  "])),e.value?e.theme.colors.accentColor:e.theme.colors.backgroundColor2,e.value?"30px":"0px"));function Bt(e){const t=e.value,n=e.onToggle;return r.a.createElement(Ft,{onClick:n},r.a.createElement(Wt,{value:t}))}var Gt;const Vt=ne.d.label(({theme:e})=>Object(ne.c)(Gt||(Gt=Object(te.a)(["\n    display: flex;\n    align-items: center;\n    gap: ",";\n  "])),e.dimensions.gutter));function Ht(e){const t=e.children,n=e.value,a=e.onToggle;return r.a.createElement(Vt,null,r.a.createElement(Bt,{value:n,onToggle:a}),r.a.createElement("span",null,t))}var Ut,Xt;const qt=ne.d.div(e=>Object(ne.c)(Ut||(Ut=Object(te.a)(["\n    > *:not(:last-child) {\n      margin-bottom: ",";\n    }\n  "])),e.theme.dimensions.gutter)),Kt=ne.d.input(e=>Object(ne.c)(Xt||(Xt=Object(te.a)(["\n    background: none;\n    border: none;\n    outline: none;\n    color: ",";\n    width: ","em;\n    text-align: right;\n    font-size: ",";\n    margin: -1px 0.2em 0 0.2em;\n\n    ::-webkit-inner-spin-button,\n    ::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n    -moz-appearance: textfield;\n  "])),e.theme.colors.accentColor,.65*String(e.value).length,e.theme.fontSizes.content));function Jt(){const e=Object(l.b)(),t=Object(l.c)(T),n=t.rated,o=t.ratedTreshold,c=Object(a.useState)(o),i=Object(he.a)(c,2),s=i[0],d=i[1],u=Object(a.useCallback)(()=>e(g("rated",!n)),[e,n]),m=Object(a.useCallback)(()=>e(g("ratedTreshold",s)),[e,s]);return r.a.createElement(qt,null,r.a.createElement(Ht,{value:n,onToggle:u},n?r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("span",null,"More than"),r.a.createElement(Kt,{type:"number",value:s,onChange:e=>d(Number(e.target.value)),onBlur:m}),r.a.createElement("span",null,"likes")):"Only show Rated Posts"))}var Yt;const Qt=ne.d.div(e=>Object(ne.c)(Yt||(Yt=Object(te.a)(["\n    display: inline-flex;\n    flex-wrap: wrap;\n    margin: calc(\n      "," -\n        ","\n    );\n  "])),e.padding?e.theme.dimensions.gutter:"0px",e.theme.dimensions.spacing));function Zt(e){const t=e.tags,n=e.loadAliases,a=void 0!==n&&n,o=e.padding,c=void 0!==o&&o;return r.a.createElement("div",null,r.a.createElement(Qt,{padding:c},Object.entries(t).map(([e,t])=>r.a.createElement(rt,Object.assign({key:e},t,{loadAliases:a})))))}var $t,en,tn,nn,an,rn=n(34),on=n(15);function cn(e){const t=Object(ne.f)();return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 12.7 12.7"},r.a.createElement("g",{transform:"translate(0,-284.3)"},r.a.createElement("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:t.colors.accentColor,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),r.a.createElement("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:t.colors.accentColor,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)"},r.a.createElement("tspan",{id:"tspan4531",x:"2",y:"289.1",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:t.colors.accentColor,fillOpacity:"1"},"34"))))}const ln=ne.d.header(({theme:e})=>Object(ne.c)($t||($t=Object(te.a)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n  "])),e.dimensions.bigSpacing)),sn=ne.d.div(({theme:e})=>Object(ne.c)(en||(en=Object(te.a)(["\n    width: 1px;\n    height: 32px;\n    margin: 0 ",";\n    background: ",";\n  "])),e.dimensions.gutter,e.colors.backgroundColor2)),dn=ne.d.div(({theme:e})=>Object(ne.c)(tn||(tn=Object(te.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    padding: "," 0;\n    ",";\n  "])),e.misc.layer,e.dimensions.gutter,e.shadow.box)),un=ne.d.nav(({theme:e})=>Object(ne.c)(nn||(nn=Object(te.a)(["\n    display: flex;\n    justify-content: center;\n    gap: ",";\n  "])),e.dimensions.bigSpacing)),mn=Object(ne.d)(rn.b)(({to:e,current:t,theme:n})=>Object(ne.c)(an||(an=Object(te.a)(["\n    color: ",";\n  "])),e===t?n.colors.accentColor:n.colors.backgroundColor2));function bn(){const e=Object(on.f)().pathname;return r.a.createElement(ln,{role:"cell"},r.a.createElement(dn,null,r.a.createElement(cn,{size:32}),r.a.createElement(sn,null),r.a.createElement(re,null,"Browse ",r.a.createElement("a",{href:"https://rule34.xxx"},"Rule34"))),r.a.createElement(un,{role:"cell"},r.a.createElement(mn,{current:e,to:"/"},"Search"),r.a.createElement(mn,{current:e,to:"/help"},"Help"),r.a.createElement(mn,{current:e,to:"/settings"},"Settings")))}var gn,pn,hn;const fn=ne.d.footer(e=>Object(ne.c)(gn||(gn=Object(te.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1px 1fr 1px 1fr;\n    justify-content: space-around;\n    padding: ",";\n  "])),e.theme.dimensions.spacing)),On=ne.d.div(e=>Object(ne.c)(pn||(pn=Object(te.a)(["\n    width: 1px;\n    height: 20px;\n    background: ",";\n  "])),e.theme.colors.backgroundColor2)),jn=ne.d.a(hn||(hn=Object(te.a)(["\n  text-align: center;\n"])));function En(){return r.a.createElement(fn,null,r.a.createElement(jn,{href:"https://github.com/kurozenzen/r34-react/issues/new?template=bug_report.md"},"Report a bug"),r.a.createElement(On,null),r.a.createElement(jn,{href:"https://github.com/kurozenzen/r34-react"},"Github"),r.a.createElement(On,null),r.a.createElement(jn,{href:"https://github.com/kurozenzen/r34-react/issues/new?template=feature_request.md"},"Feature request"))}var vn,wn;const yn=ne.d.div(vn||(vn=Object(te.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n"])));var kn=yn;const xn=Object(ne.d)(yn)(({theme:e})=>Object(ne.c)(wn||(wn=Object(te.a)(["\n    gap: ",";\n    padding: ",";\n  "])),e.dimensions.gutter,e.dimensions.gutter));var Cn;const _n=ne.d.ol(({theme:e})=>Object(ne.c)(Cn||(Cn=Object(te.a)(["\n    padding-left: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n  "])),e.dimensions.spacing));function Sn(){return r.a.createElement(kn,null,r.a.createElement(bn,null),r.a.createElement(xn,null,r.a.createElement(ae,null,"Help"),r.a.createElement(ie,null,r.a.createElement(ae,null,"Searching for Tags"),r.a.createElement(se,null),r.a.createElement(Pt,null),r.a.createElement(se,null),r.a.createElement("p",null,"You can use the Tag Selector to look for tags you like.The Tag Selector has 4 parts."),r.a.createElement(_n,null,r.a.createElement("li",null,'The modifier (left) determines wether posts must match a tag or not. Putting "-" will hide all posts with this tag'),r.a.createElement("li",null,"The Search Box (center) allows you to search for tags. As soon as you start typing the Tag Selector will show you relevant tags to choose from (4)."),r.a.createElement("li",null,"The Add Button (right) Allows you to add any tag to the current filter. Usefull when using wildcards."),r.a.createElement("li",null,"The Tag Dropdown (left) automatically shows tags that start with your input. It also includes The number of posts tagged, to allow you to weigh tags against each other."))),r.a.createElement(ie,null,r.a.createElement(ae,null,"Options"),r.a.createElement(se,null),r.a.createElement(Jt,null),r.a.createElement(se,null),r.a.createElement("p",null,"Options allow you to customize your experience in various ways. There are 3 options available"),r.a.createElement(_n,null,r.a.createElement("li",null,"Infinite Scrolling automatically loads new posts when you get close to the bottom of the page."),r.a.createElement("li",null,"Only show Rated posts filters out posts below the specified amount of posts."),r.a.createElement("li",null,"Load original sizes always loads the highest quality of an image. This can easily cause extreme data consumption. Don't use with mobile data."))),r.a.createElement(ie,null,r.a.createElement(ae,null,"Tags"),r.a.createElement(se,null),r.a.createElement(Zt,{tags:{"Tag 1":{name:"Tag 1"},"Tag 2":{name:"Tag 2",types:["character"]},"Tag 3":{name:"Tag 3",modifier:"-",types:["copyright"],count:1020}}}),r.a.createElement(se,null),r.a.createElement("p",null,"This whole application is based on tags. Every Post has multiple tags. Usually you can enable/disable a tag just by tapping it. If a tag is red it means its active. The icons next to the name show what type of tag it is. Not every tag has a type. The number on the right shows how many posts there are with that tag."))),r.a.createElement(En,null))}var Tn,Rn,zn,Ln;const Nn=ne.d.div(({theme:e})=>Object(ne.c)(Tn||(Tn=Object(te.a)(["\n    display: grid;\n    grid-template-columns: 1fr auto;\n    grid-template-rows: auto auto;\n    gap: ",";\n  "])),e.dimensions.spacing)),An=Object(ne.d)(oe)(({theme:e})=>Object(ne.c)(Rn||(Rn=Object(te.a)(["\n    grid-column: 1/2;\n    grid-row: 1/2;\n  "])))),In=ne.d.p(({theme:e})=>Object(ne.c)(zn||(zn=Object(te.a)(["\n    grid-column: 1/2;\n    grid-row: 2/3;\n    opacity: 0.5;\n  "])))),Pn=ne.d.div(({theme:e})=>Object(ne.c)(Ln||(Ln=Object(te.a)(["\n    grid-column: 2/3;\n    grid-row: 1/3;\n  "]))));function Mn({title:e,description:t,children:n}){return r.a.createElement(Nn,null,r.a.createElement(An,null,e),r.a.createElement(In,null,t),r.a.createElement(Pn,null,n))}var Dn;const Fn=ne.d.input(({theme:e})=>Object(ne.c)(Dn||(Dn=Object(te.a)(["\n    width: 50px;\n    border: "," solid ",";\n    background-color: ",";\n    padding: ",";\n    border-radius: ",";\n    text-align: right;\n  "])),e.dimensions.borderWidth,e.colors.accentColor,e.colors.backgroundColor2,e.dimensions.spacing,e.dimensions.borderRadius));function Wn({type:e,value:t,onChange:n}){return r.a.createElement(Fn,{type:e,value:t,onChange:n})}function Bn(){const e=Object(l.b)(),t=Object(l.c)(T),n=t.preloadVideos,o=t.tagSuggestionsCount,c=t.originals,i=Object(a.useCallback)(()=>e(g("preload_videos",!n)),[e,n]),s=Object(a.useCallback)(()=>e(g("originals",!c)),[e,c]),d=Object(a.useCallback)(t=>e(g("tag_suggestion_count",t.target.value)),[e]),u=Object(a.useCallback)(()=>{localStorage.clear(),window.location.reload()},[]);return r.a.createElement(kn,null,r.a.createElement(bn,null),r.a.createElement(xn,null,r.a.createElement(ae,null,"Settings"),r.a.createElement(ie,null,r.a.createElement(ae,null,"General"),r.a.createElement(se,null),r.a.createElement(Mn,{title:"Preload Videos",description:"Start loading videos immediately instead of just-in-time. This can improve the viewing experience but will consume a LOT of data. Only use with WIFI."},r.a.createElement(Bt,{value:n,onToggle:i})),r.a.createElement(se,null),r.a.createElement(Mn,{title:"Load original sizes",description:"Display images and videos at their original resolution. This will consume more data but provides a nicer experience."},r.a.createElement(Bt,{value:c,onToggle:s})),r.a.createElement(se,null),r.a.createElement(Mn,{title:"Number of Tag suggestions",description:"Controls the number of tags displayed when searching. Increase this when searching for niche tags."},r.a.createElement(Wn,{type:"number",value:o,onChange:d})),r.a.createElement(se,null),r.a.createElement(ae,null,"Developer"),r.a.createElement(Ee,{onClick:u},"Reset Application"))),r.a.createElement(En,null))}var Gn=n(32);function Vn(e){const t=e.Header,n=e.items,o=void 0===n?[]:n,c=e.LoadingItem,l=e.hasMoreRows,i=e.ItemComponent,s=e.loadMore,d=e.OutOfItems,u=e.isLoading,m=e.setLoading,b=Object(a.useState)(null),g=Object(he.a)(b,2),p=g[0],h=g[1],f=Object(a.useMemo)(()=>new Gn.b({fixedWidth:!0}),[]),O=t?1:0,j=o.length+O+1,E=Object(a.useCallback)(({index:e})=>e<O+o.length+(l?0:1),[l,o.length,O]);Object(a.useEffect)(()=>{if(p){const e=()=>{p.measureAllRows(),p.recomputeRowHeights(),p.forceUpdateGrid()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}},[p]);const v=Object(a.useCallback)(({index:e,key:n,parent:a,style:s})=>r.a.createElement(Gn.a,{cache:f,columnIndex:0,key:n,rowIndex:e,parent:a},({measure:n,registerChild:a})=>t&&e<O?r.a.createElement(t,{style:s,virtualRef:a,onLoad:n}):e<O+o.length?r.a.createElement(i,Object.assign({style:s,virtualRef:a,onLoad:n},o[e-O])):e<O+o.length+1?l||u?r.a.createElement(c,{style:s,virtualRef:a,onLoad:n}):d&&o.length>0?r.a.createElement(d,{style:s,virtualRef:a,onLoad:n}):r.a.createElement("div",null):(console.warn("index not found / out of bounds. INDEX:",e),null)),[f,t,O,o,l,u,d]);return r.a.createElement(Gn.c,{isRowLoaded:E,loadMoreRows:e=>u||!l?Promise.reject(0):(m(!0),s(),new Promise(e=>{setTimeout(()=>{m(!1),e(1)},1e3)})),rowCount:j},({onRowsRendered:e,registerChild:t})=>r.a.createElement(Gn.d,{ref:e=>{h(e),t(e)},onRowsRendered:e,rowRenderer:v,deferredMeasurementCache:f,overscanRowCount:0,rowCount:o.length+O+1,rowHeight:f.rowHeight,width:window.innerWidth,height:window.innerHeight}))}var Hn;const Un=ne.d.div(({theme:e})=>Object(ne.c)(Hn||(Hn=Object(te.a)(["\n    display: flex;\n    gap: ",";\n  "])),e.dimensions.spacing));function Xn({children:e}){return r.a.createElement(Un,null,e)}var qn,Kn=e=>r.a.createElement(Xn,null,r.a.createElement(ht,{color:"white"}),r.a.createElement("span",null,e.value[0].toUpperCase())),Jn=e=>r.a.createElement(Xn,null,r.a.createElement(ft,{color:"white"}),r.a.createElement("span",null,e.value));const Yn=ne.d.a(e=>Object(ne.c)(qn||(qn=Object(te.a)(["\n    color: "," !important;\n    display: flex;\n    gap: 5px;\n  "])),e.color));var Qn=({value:e})=>e.startsWith("http")?e.includes("twitter")?r.a.createElement(ea,{value:e}):e.includes("pixiv")?r.a.createElement(ta,{value:e}):r.a.createElement($n,{value:e}):r.a.createElement(Zn,{value:e});const Zn=({value:e})=>r.a.createElement(Xn,null,r.a.createElement(pt,{color:"white",left:!0}),r.a.createElement("span",null,e)),$n=({value:e})=>r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"source"},r.a.createElement(jt,{color:"red",left:!0}),(e=>{if(e.includes("http:")||e.includes("https:")||e.includes("www.")||e.includes(".com")){let t=e.replace(/https?:\/\//,"").replace(/ww[w\d]\./,"").replace(".com","").replace(".org","").replace(".net","");return t.substring(0,t.indexOf("/"))}return e})(e)),ea=({value:e})=>r.a.createElement(Yn,{href:e,target:"_blank",rel:"noopener noreferrer",className:"source",color:"rgb(29, 161, 242)"},r.a.createElement(Ot,{color:"rgb(29, 161, 242)",left:!0}),e.split("twitter.com/")[1].split(" ")[0].split("?")[0].split("/")[0]),ta=({value:e})=>r.a.createElement(Yn,{href:e,target:"_blank",rel:"noopener noreferrer",className:"source",color:"rgb(29, 161, 242)"},r.a.createElement(wt,{color:"rgb(29, 161, 242)",left:!0}),r.a.createElement("span",null,"Pixiv"));var na,aa;const ra=ne.d.div(({theme:{dimensions:e,misc:t,shadow:n}})=>Object(ne.c)(na||(na=Object(te.a)(["\n    grid-row: 2/3;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    background: ",";\n    padding: ",";\n    ",";\n    border-radius: 0 0 "," ",";\n  "])),t.layer,e.bigSpacing,n.box,e.borderRadius,e.borderRadius)),oa=Object(ne.d)(Zt)(aa||(aa=Object(te.a)(["\n  grid-row: 3/4;\n"])));function ca(e){const t=e.rating,n=e.score,o=e.source,c=e.tags,l=Object(a.useMemo)(()=>{return e="name",c.reduce((t,n)=>(t[n[e]]=n,t),{});var e},[c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ra,null,!!t&&r.a.createElement(Kn,{value:t}),!!n&&r.a.createElement(Jn,{value:n}),!!o&&r.a.createElement(Qn,{value:o})),r.a.createElement(oa,{tags:l,padding:!0,loadAliases:!1}))}var la;var ia,sa=ne.d.video(la||(la=Object(te.a)(["\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: contain;\n  grid-area: 1/1/2/2;\n"])));const da=Object(ne.e)(ia||(ia=Object(te.a)(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n"])));var ua,ma,ba,ga,pa,ha,fa;const Oa=ne.d.div(e=>Object(ne.c)(ua||(ua=Object(te.a)(["\n    grid-area: 1/1/2/2;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: auto 1fr auto auto;\n\n    ",";\n  "])),e.isVisible?"":Object(ne.c)(ma||(ma=Object(te.a)(["\n          opacity: 0;\n          animation: "," 0.4s ease-in-out;\n        "])),da))),ja=ne.d.div(e=>Object(ne.c)(ba||(ba=Object(te.a)(["\n    grid-area: 4/5/4/4;\n    height: 5px;\n    background-color: ",";\n  "])),e.theme.colors.accentColor)),Ea=Object(ne.d)(ke).attrs({type:"invisible"})(e=>Object(ne.c)(ga||(ga=Object(te.a)(["\n    width: max-content;\n    height: max-content;\n    padding: ",";\n  "])),e.theme.dimensions.bigSpacing)),va=Object(ne.d)(Ea)(pa||(pa=Object(te.a)(["\n  grid-area: 1/1/2/2;\n  place-self: start start;\n"]))),wa=Object(ne.d)(Ea)(ha||(ha=Object(te.a)(["\n  grid-area: 3/1/4/1;\n  place-self: end start;\n"]))),ya=Object(ne.d)(Ea)(fa||(fa=Object(te.a)(["\n  grid-area: 2/2/3/3;\n  place-self: center center;\n"])));var ka=function(e){const t=e.onFullscreen,n=void 0===t?yt:t,a=e.togglePlay,o=void 0===a?yt:a,c=e.isPaused,l=void 0===c||c,i=e.isPlayable,s=void 0!==i&&i,d=e.currentTime,u=void 0===d?0:d,m=e.duration,b=void 0===m?null:m,g=e.openInNewTab,p=Te(),h=Object(he.a)(p,2),f=h[0],O=h[1];return r.a.createElement(Oa,{isVisible:l||f,onClick:O},n&&r.a.createElement(va,{onClick:n,label:"Open Fullscreen"},r.a.createElement(mt,{color:"white"})),r.a.createElement(wa,{onClick:g,label:"Open In New Tab"},r.a.createElement(gt,{color:"white"})),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ya,{onClick:o,label:"Play/Pause"},l?r.a.createElement(Et,{color:"white",size:50}):r.a.createElement(vt,{color:"white",size:50})),!!b&&!!u&&r.a.createElement(ja,{style:{width:"".concat(u/b*100,"%")}})))};function xa(e){const t=e.src,n=e.onLoad,o=e.openInNewTab,c=Object(a.useState)(null),i=Object(he.a)(c,2),s=i[0],d=i[1],u=Object(a.useState)(Date.now()),m=Object(he.a)(u,2)[1],b=Object(a.useState)(null),g=Object(he.a)(b,2),p=g[0],h=g[1],f=Object(a.useCallback)(()=>{s&&s.play();const e=setInterval(()=>{m(Date.now())},34);h(e)},[s]),O=Object(a.useCallback)(()=>{s&&s.pause(),clearInterval(p),h(null)},[s,p]),j=Object(a.useCallback)(()=>s&&void s.requestFullscreen(),[s]),E=Object(a.useCallback)(e=>{e.stopPropagation(),s&&(s.paused?f():O())},[s,f,O]),v=Object(l.c)(T).preloadVideos;return r.a.createElement(r.a.Fragment,null,r.a.createElement(sa,{controls:!1,loop:!0,src:t,preload:v?"auto":"metadata",ref:d,onLoadedMetadata:n}),r.a.createElement(ka,{isPaused:!s||s.paused,currentTime:s?s.currentTime:void 0,duration:s?s.duration:void 0,onFullscreen:j,togglePlay:E,openInNewTab:o,isPlayable:!0}))}var Ca;var _a=ne.d.img(Ca||(Ca=Object(te.a)(["\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: contain;\n  grid-area: 1/1/2/2;\n"])));function Sa(e){const t=e.src,n=e.thumbnail_src,o=e.onLoad,c=e.openInNewTab,l=Object(a.useState)(!0),i=Object(he.a)(l,2),s=i[0],d=i[1],u=s?n:t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,{src:u,alt:u,loading:"lazy",onLoad:o}),r.a.createElement(ka,{isPlayable:!0,isPaused:s,togglePlay:e=>{e.stopPropagation(),d(!s)},openInNewTab:c}))}function Ta(e){const t=e.src,n=e.onLoad,a=e.openInNewTab;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,{src:t,alt:t,onLoad:n,loading:"lazy"}),r.a.createElement(ka,{isPlayable:!1,openInNewTab:a}))}function Ra(e){const t=e.type,n=e.src,o=e.thumbnail_src,c=e.onLoad,l=Object(a.useCallback)(e=>{var t;e.stopPropagation();const a=null===(t=new URL(n).searchParams.get("url"))||void 0===t?void 0:t.replace("//","/").split("?")[0];a&&window.open(a)},[n]),i=Object(a.useMemo)(()=>{const e=((e,t)=>{switch(((e,t)=>"video"===e?"video":t.includes(".gif")?"gif":"picture")(e,t)){case"video":return xa;case"gif":return Sa;default:return Ta}})(t,n);return r.a.createElement(e,{src:n,thumbnail_src:o,onLoad:c,openInNewTab:l})},[t,n,o,c,l]);return r.a.createElement(r.a.Fragment,null,i)}var za,La,Na,Aa,Ia=Object(ne.c)(za||(za=Object(te.a)(["\n  padding: 0 10px;\n  width: 100%;\n  max-width: 1000px;\n  margin: auto;\n"])));const Pa=ne.d.div(La||(La=Object(te.a)(["\n  padding-top: 10px;\n"]))),Ma=ne.d.div(Na||(Na=Object(te.a)(["\n  ","\n"])),Ia),Da=ne.d.div(({theme:e})=>Object(ne.c)(Aa||(Aa=Object(te.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: auto auto auto;\n    border-radius: ",";\n    overflow: hidden;\n    ",";\n  "])),e.dimensions.borderRadius,e.misc.layer));function Fa(e){const t=e.id,n=e.media_type,o=e.small_src,c=e.big_src,i=e.thumbnail_src,s=e.rating,d=e.score,u=e.source,m=e.tags,b=e.style,g=e.onLoad,p=e.virtualRef,h=function(e,t,n,a){let r;return e?r=t:(r="".concat(n,"?").concat(a),r.includes("//images")&&(r=r.replace("//images","/images"))),r}(Object(l.c)(R),c,o,t),f=Object(a.useState)(!0),O=Object(he.a)(f,2),j=O[0],E=O[1],v=Object(a.useCallback)(()=>{E(!j),setTimeout(g,100)},[j,g]),w=Object(a.useMemo)(()=>r.a.createElement(ca,{rating:s,score:d,source:u,tags:m}),[s,d,u,m]);return r.a.createElement(Pa,{style:b,ref:p,className:"list-div"},r.a.createElement(Ma,null,r.a.createElement(Da,{onClick:v,role:"row"},r.a.createElement(Ra,{onLoad:g,type:n,src:h,thumbnail_src:i}),!j&&w)))}function Wa(){const e=Object(l.b)(),t=Object(a.useCallback)(()=>e({type:"R34_GET_RESULTS"}),[e]);return r.a.createElement(ke,{type:"block",onClick:t,label:"Search"},"Search")}function Ba({onChange:e}){const t=Object(l.c)(x);return Object(a.useEffect)(()=>{e()},[e,t]),Object.keys(t).length>0?r.a.createElement(Zt,{tags:t,loadAliases:!0}):null}var Ga;const Va=ne.d.section(e=>Object(ne.c)(Ga||(Ga=Object(te.a)(["\n    display: grid;\n    gap: ",";\n    ","\n  "])),e.theme.dimensions.gutter,Ia));function Ha(e){const t=e.onLoad;return r.a.createElement(Va,null,r.a.createElement(ae,null,r.a.createElement("label",{htmlFor:"tag-input"},"Search")),r.a.createElement(ie,null,r.a.createElement(Pt,null),r.a.createElement(Ba,{onChange:t}),r.a.createElement(Jt,null),r.a.createElement(Wa,null)))}function Ua({onLoad:e,virtualRef:t,style:n}){const o=Te(),c=Object(he.a)(o,2),i=c[0],s=c[1],d=Object(l.c)(_);return Object(a.useEffect)(()=>{d>0&&e()},[d,e]),r.a.createElement("div",{onLoad:e,ref:t,style:n,role:"row"},r.a.createElement(bn,null),r.a.createElement(Ha,{onLoad:e}),d>0&&r.a.createElement(ae,{onClick:s},(i?d.toLocaleString():Se(d))+" results"))}var Xa,qa=n(42),Ka=n.n(qa);function Ja({onLoad:e,virtualRef:t,style:n}){const o=Object(l.c)(L),c=Object(a.useMemo)(()=>o.reduce((e,t)=>(e[t.name]=t,e),{}),[o]);return r.a.createElement("div",{style:n,ref:t,onLoad:e,role:"row"},r.a.createElement(ie,null,r.a.createElement("img",{src:Ka.a,alt:Ka.a,style:{width:"100%"}}),r.a.createElement(se,null),r.a.createElement(ae,null,"You have reached the end!"),r.a.createElement("p",{style:{textAlign:"center"}},"Go look for something else!"),o.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{textAlign:"center"}},"How about some of these?"),r.a.createElement(Zt,{tags:c,padding:!0}))))}const Ya=ne.d.svg(Xa||(Xa=Object(te.a)(["\n  height: 35px;\n  padding: 10px;\n"])));function Qa(){return r.a.createElement(Ya,{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 50 20","enable-background":"new 0 0 0 0",xmlSpace:"preserve"},r.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"6",cy:"10",r:"6"},r.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})),r.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"26",cy:"10",r:"6"},r.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})),r.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"46",cy:"10",r:"6"},r.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"})))}var Za;const $a=ne.d.div(Za||(Za=Object(te.a)(["\n  display: grid;\n  place-items: center;\n"])));function er({onLoad:e,virtualRef:t,style:n}){return r.a.createElement($a,{onLoad:e,ref:t,style:n,role:"row"},r.a.createElement(Qa,null))}function tr(){const e=Object(l.b)(),t=Object(l.c)(C),n=!Object(l.c)(N),o=Object(a.useCallback)(()=>e({type:"R34_GET_MORE_RESULTS"}),[e]),c=Object(a.useState)(!1),i=Object(he.a)(c,2),s=i[0],d=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vn,{Header:Ua,OutOfItems:Ja,items:t,LoadingItem:er,hasMoreRows:n,ItemComponent:Fa,loadMore:o,isLoading:s,setLoading:d}))}var nr,ar;const rr=ne.d.div(({theme:e})=>Object(ne.c)(nr||(nr=Object(te.a)(["\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    color: ",";\n    background: ",";\n\n    padding: ",";\n  "])),e.colors.text,e.misc.layer,e.dimensions.gutter)),or=ne.d.span(ar||(ar=Object(te.a)(["\n  height: min-content;\n"])));function cr(){const e=Object(l.c)(z),t=function(e){const t=Object(l.b)();return Object(a.useCallback)(()=>{t(e())},[e,t])}(p);return e?null:r.a.createElement(rr,null,r.a.createElement(or,null,"This website uses cookies."),r.a.createElement(ke,{type:"red",onClick:t,label:"Allow Cookies"},"Cool"))}function lr(){return r.a.createElement(rn.a,{basename:"/r34-react"},r.a.createElement(on.c,null,r.a.createElement(on.a,{path:"/help"},r.a.createElement(Sn,null)),r.a.createElement(on.a,{path:"/settings"},r.a.createElement(Bn,null)),r.a.createElement(on.a,{path:"/"},r.a.createElement(tr,null))),r.a.createElement(cr,null))}var ir,sr={dimensions:{borderRadius:"3px",borderWidth:"2px",spacing:"4px",bigSpacing:"8px",appMargin:"16px",gutter:"8px",blockHeight:"32px"},colors:{accentColor:"#ee3344",hoverAccent:"#ee3344",backgroundColor:"#121212",backgroundColor2:"#fff"},shadow:{box:"box-shadow: 0 0 8px #000",drop:"drop-shadow(0 0 4px #000)"},timings:{transistionTime:"0.2s",longTransistionTime:"0.2s"},misc:{layer:"#ffffff11; :hover { background: #ffffff16;} transition: background-color 0.2s ease-in-out"},fontSizes:{content:"15px"}},dr=Object(ne.b)(e=>Object(ne.c)(ir||(ir=Object(te.a)(['\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n\n      font-family: "Raleway", sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n\n      :focus {\n        outline: none;\n      }\n    }\n\n    html,\n    body,\n    #app-root {\n      width: 100%;\n      height: 100%;\n    }\n\n    body {\n      font-size: ',";\n      color: ",";\n      background-color: ",";\n    }\n\n    a {\n      color: ",";\n      text-decoration: none;\n    }\n  "])),e.theme.fontSizes.content,e.theme.colors.backgroundColor2,e.theme.colors.backgroundColor,e.theme.colors.accentColor));function ur(){return r.a.createElement(l.a,{store:J},r.a.createElement(ee.a,{loading:null,persistor:Y},r.a.createElement(ne.a,{theme:sr},r.a.createElement(dr,null),r.a.createElement(lr,null))))}c.a.render(r.a.createElement(ur,null),document.getElementById("app-root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.75c1b598.chunk.js.map