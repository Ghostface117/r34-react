(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],[,,,,,function(t,n,e){"use strict";var r,c,o,i,a,u,s,d,f,l;e.d(n,"j",(function(){return r})),e.d(n,"c",(function(){return c})),e.d(n,"e",(function(){return o})),e.d(n,"a",(function(){return i})),e.d(n,"g",(function(){return a})),e.d(n,"k",(function(){return u})),e.d(n,"h",(function(){return s})),e.d(n,"f",(function(){return f})),e.d(n,"i",(function(){return l})),e.d(n,"d",(function(){return j})),e.d(n,"b",(function(){return b})),function(t){t.GENERAL="general",t.CHARACTER="character",t.AMBIGUOUS="ambiguous",t.ARTIST="artist",t.COPYRIGHT="copyright",t.RATING="rating",t.SOURCE="source",t.METADATA="metadata",t.SUPERTAG="supertag"}(r||(r={})),function(t){t.PLUS="+",t.MINUS="-",t.OR="~"}(c||(c={})),function(t){t.VIDEO="video",t.IMAGE="image"}(o||(o={})),function(t){t.VIDEO="video",t.PICTURE="picture",t.GIF="gif"}(i||(i={})),function(t){t.INFINITE_COLUMN="infinite_column",t.PAGES="pages"}(a||(a={})),function(t){t.DARK="dark",t.LIGHT="light",t.COFFEE="coffee",t.ELECTRIC="electric"}(u||(u={})),function(t){t.SEARCH="/",t.SETTINGS="/settings",t.ABOUT="/about",t.PRIVACY="/privacy",t.TERMS="/terms"}(s||(s={})),function(t){t.SAFE="safe",t.QUESTIONABLE="questionable",t.EXPLICIT="explicit"}(d||(d={})),function(t){t.RATED="rated",t.RATED_THRESHOLD="ratedThreshold",t.ORIGINALS="originals",t.COOKIES="cookies",t.PRELOAD_VIDEOS="preloadVideos",t.TAG_SUGGESTIONS_COUNT="tagSuggestionsCount",t.RESULTS_LAYOUT="resultsLayout",t.PAGE_SIZE="pageSize",t.USE_CORS_PROXY="useCorsProxy",t.SHOW_METADATA="showMetadata",t.SHOW_COMMENTS="showComments",t.SORT="sort",t.THEME_ID="themeId",t.AUTO_PLAY="autoPlay",t.HIDE_SEEN="hideSeen"}(f||(f={})),function(t){t.DATE="date",t.SCORE="score"}(l||(l={}));var b,j=function(){};!function(t){t[t.CREATE_SUPERTAG=0]="CREATE_SUPERTAG"}(b||(b={}))},,function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return c})),e.d(n,"c",(function(){return o})),e.d(n,"d",(function(){return i})),e.d(n,"e",(function(){return a})),e.d(n,"f",(function(){return u})),e.d(n,"g",(function(){return s})),e.d(n,"h",(function(){return d})),e.d(n,"i",(function(){return f})),e.d(n,"j",(function(){return l})),e.d(n,"k",(function(){return b})),e.d(n,"l",(function(){return j})),e.d(n,"m",(function(){return h})),e.d(n,"n",(function(){return O})),e.d(n,"o",(function(){return p})),e.d(n,"p",(function(){return g})),e.d(n,"q",(function(){return m})),e.d(n,"r",(function(){return v})),e.d(n,"s",(function(){return x})),e.d(n,"t",(function(){return y})),e.d(n,"u",(function(){return k})),e.d(n,"x",(function(){return S})),e.d(n,"I",(function(){return C})),e.d(n,"v",(function(){return w})),e.d(n,"w",(function(){return E})),e.d(n,"M",(function(){return T})),e.d(n,"K",(function(){return R})),e.d(n,"B",(function(){return A})),e.d(n,"N",(function(){return _})),e.d(n,"O",(function(){return I})),e.d(n,"F",(function(){return N})),e.d(n,"E",(function(){return P})),e.d(n,"z",(function(){return U})),e.d(n,"A",(function(){return L})),e.d(n,"L",(function(){return D})),e.d(n,"G",(function(){return z})),e.d(n,"H",(function(){return G})),e.d(n,"y",(function(){return H})),e.d(n,"P",(function(){return M})),e.d(n,"D",(function(){return B})),e.d(n,"C",(function(){return F})),e.d(n,"J",(function(){return W}));var r="r34-react/ADD_ALIASES",c="r34-react/ADD_POSTS",o="r34-react/ADD_TAG",i="r34-react/CLOSE_MODAL",a="r34-react/ENTER_FULLSCREEN",u="r34-react/EXIT_FULLSCREEN",s="r34-react/FETCH_COMMENTS",d="r34-react/FETCH_PREFERENCES",f="r34-react/FETCH_SUGGESTIONS",l="r34-react/GET_MORE_RESULTS",b="r34-react/GET_RESULTS",j="r34-react/LIKE_POST",h="r34-react/OPEN_MODAL",O="r34-react/REMOVE_TAG",p="r34-react/SAVE_PREFERENCES",g="r34-react/SET_COMMENTS",m="r34-react/SET_FULLSCREEN_POST",v="r34-react/SET_POSTS",x="r34-react/SET_PREFERENCE",y="r34-react/SET_PREFERENCES",k="r34-react/SET_SUGGESTIONS";function S(t){return{type:o,tag:t}}function C(t){return{type:O,tag:t}}function w(t,n){return{type:r,aliases:t,forTag:n}}function E(t){return{type:c,posts:t}}function T(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{type:v,posts:t,count:n,pageNumber:e}}function R(t,n){return{type:g,postId:t,comments:n}}function A(t){return{type:s,postId:t}}function _(t,n){return{type:x,key:t,value:n}}function I(t){return{type:y,preferences:t}}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:b,pageNumber:t}}function P(){return{type:l}}function U(t){return{type:a,postId:t}}function L(){return{type:u}}function D(t){return{type:m,postId:t}}function z(t){return{type:j,postId:t}}function G(t){return{type:h,modalId:t}}function H(){return{type:i}}function M(t){return{type:k,suggestions:t}}function B(t){return{type:f,value:t}}function F(){return{type:d}}function W(){return{type:p}}},,,function(t,n,e){"use strict";e.d(n,"e",(function(){return R})),e.d(n,"p",(function(){return A})),e.d(n,"s",(function(){return _})),e.d(n,"g",(function(){return I})),e.d(n,"i",(function(){return N})),e.d(n,"n",(function(){return P})),e.d(n,"l",(function(){return U})),e.d(n,"m",(function(){return L})),e.d(n,"k",(function(){return D})),e.d(n,"h",(function(){return z})),e.d(n,"o",(function(){return G})),e.d(n,"c",(function(){return H})),e.d(n,"d",(function(){return M})),e.d(n,"j",(function(){return B})),e.d(n,"r",(function(){return F})),e.d(n,"a",(function(){return W})),e.d(n,"b",(function(){return V})),e.d(n,"f",(function(){return K})),e.d(n,"q",(function(){return q}));var r,c,o,i,a,u,s,d,f,l,b,j,h,O,p,g,m,v,x,y,k,S,C,w=e(4),E=e(2),T=e(48);function R(t){var n=t.theme;return Object(E.c)(r||(r=Object(w.a)(["\n    border-color: ",";\n    border-width: ",";\n    ","\n    border-style: solid;\n  "])),n.colors.accentColor,n.dimensions.borderWidth,W({theme:n}))}function A(t){var n=t.theme;return Object(E.c)(c||(c=Object(w.a)(["\n    background-color: ",";\n    ","\n  "])),n.colors.layerBg,V({theme:n}))}function _(t){var n=t.theme;return Object(E.c)(o||(o=Object(w.a)(["\n    color: ",";\n    background: ",";\n\n    :hover {\n      background-color: ",";\n      color: ",";\n    }\n\n    :active,\n    :focus {\n      color: ",";\n      border-color: ",";\n    }\n  "])),n.colors.accentColor,n.colors.backgroundColor,n.colors.accentColor,n.colors.backgroundColor,n.colors.backgroundColor2,n.colors.backgroundColor2)}function I(){return Object(E.c)(i||(i=Object(w.a)(["\n    display: flex;\n    flex-direction: column;\n  "])))}function N(t){var n=t.theme;return Object(E.c)(a||(a=Object(w.a)(["\n    display: flex;\n    flex-direction: column;\n    ",";\n  "])),z(n.dimensions.gutter))}function P(t){var n=t.theme;return Object(E.c)(u||(u=Object(w.a)(["\n    display: grid;\n    ","\n  "])),L(n.dimensions.gutter))}function U(t){var n=t.theme;return Object(E.c)(s||(s=Object(w.a)(["\n    display: flex;\n    align-items: center;\n    ",";\n  "])),D(n.dimensions.gutter))}function L(t){return T.e?Object(E.c)(d||(d=Object(w.a)(["\n        gap: ",";\n      "])),t):Object(E.c)(f||(f=Object(w.a)(["\n        > :not(:last-child) {\n          margin-right: ",";\n          margin-bottom: ",";\n        }\n      "])),t,t)}function D(t){return T.c?Object(E.c)(l||(l=Object(w.a)(["\n        gap: ",";\n      "])),t):Object(E.c)(b||(b=Object(w.a)(["\n        > :not(:last-child) {\n          margin-right: ",";\n        }\n      "])),t)}function z(t){return T.c?Object(E.c)(j||(j=Object(w.a)(["\n        gap: ",";\n      "])),t):Object(E.c)(h||(h=Object(w.a)(["\n        > :not(:last-child) {\n          margin-bottom: ",";\n        }\n      "])),t)}function G(t){var n=t.theme;return Object(E.c)(O||(O=Object(w.a)(["\n    ",";\n    padding: ",";\n  "])),L(n.dimensions.gutter),n.dimensions.gutter)}function H(t){var n=t.theme;return Object(E.c)(p||(p=Object(w.a)(["\n    width: 100%;\n    max-width: ",";\n    margin-left: auto;\n    margin-right: auto;\n  "])),n.dimensions.bodyWidth)}function M(t){var n=t.theme;return Object(E.c)(g||(g=Object(w.a)(["\n    height: ",";\n    padding: 0 ",";\n  "])),n.dimensions.blockHeight,n.dimensions.gutter)}function B(){return Object(E.c)(m||(m=Object(w.a)(["\n    width: 100%;\n    height: 100%;\n    display: block;\n    object-fit: contain;\n  "])))}function F(t){var n=t.width,e=t.height;return n&&e?T.b?Object(E.c)(v||(v=Object(w.a)(["\n        aspect-ratio: "," / ",";\n      "])),n,e):Object(E.c)(x||(x=Object(w.a)(["\n        max-width: 100%;\n        height: auto;\n      "]))):""}function W(t){var n=t.theme;return Object(E.c)(y||(y=Object(w.a)(["\n    border-radius: ",";\n  "])),n.dimensions.borderRadius)}function V(t){var n=t.theme;return Object(E.c)(k||(k=Object(w.a)(["\n    box-shadow: 0 1px "," ",";\n  "])),n.shadow.radius,n.shadow.color)}function K(t){var n=t.theme;return Object(E.c)(S||(S=Object(w.a)(["\n    filter: drop-shadow(0 1px "," ",");\n  "])),n.shadow.radius,n.shadow.color)}function q(){return Object(E.c)(C||(C=Object(w.a)(["\n    ","\n    ","\n    grid-area: 1/1/2/2;\n    z-index: 1;\n  "])),W,V)}},function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"v",(function(){return i})),e.d(n,"g",(function(){return a})),e.d(n,"s",(function(){return u})),e.d(n,"w",(function(){return s})),e.d(n,"z",(function(){return d})),e.d(n,"x",(function(){return f})),e.d(n,"r",(function(){return l})),e.d(n,"f",(function(){return b})),e.d(n,"j",(function(){return j})),e.d(n,"t",(function(){return O})),e.d(n,"F",(function(){return p})),e.d(n,"G",(function(){return g})),e.d(n,"B",(function(){return m})),e.d(n,"A",(function(){return v})),e.d(n,"C",(function(){return x})),e.d(n,"D",(function(){return y})),e.d(n,"b",(function(){return k})),e.d(n,"e",(function(){return S})),e.d(n,"l",(function(){return C})),e.d(n,"q",(function(){return w})),e.d(n,"c",(function(){return E})),e.d(n,"k",(function(){return R})),e.d(n,"m",(function(){return A})),e.d(n,"i",(function(){return _})),e.d(n,"h",(function(){return I})),e.d(n,"o",(function(){return N})),e.d(n,"p",(function(){return P})),e.d(n,"y",(function(){return U})),e.d(n,"E",(function(){return L})),e.d(n,"u",(function(){return D})),e.d(n,"d",(function(){return z})),e.d(n,"n",(function(){return G}));var r=e(23),c=e(5),o=function(t){return t.tags.active},i=function(t){return t.results.posts},a=function(t){return t.results.count},u=function(t){return t.results.pageNumber},s=function(t){return t.preferences},d=function(t){return t.preferences.resultsLayout},f=function(t){return t.preferences.resultsLayout},l=function(t){return t.preferences.originals},b=function(t){return t.preferences.cookies},j=function(t){return t.reader.isEnabled},h=function(t){return t.tags.aliases},O=function(t){return t.preferences.pageSize},p=function(t){return t.preferences.tagSuggestionsCount},g=function(t){return t.preferences.useCorsProxy},m=function(t){return t.preferences.showMetadata},v=function(t){return t.preferences.showComments},x=function(t){return t.preferences.sort},y=function(t){return t.suggestions.entries},k=function(t){return t.preferences.themeId},S=function(t){return t.preferences.autoPlay},C=function(t){return t.preferences.hideSeen},w=Object(r.a)(o,(function(t){return Object.keys(t).length})),E=Object(r.a)(h,(function(t){return Object.values(t).flat()})),T=(Object(r.a)(i,(function(t){return 0!==t.length})),Object(r.a)(i,a,(function(t,n){return t.length===n}))),R=Object(r.a)(T,(function(t){return!t})),A=Object(r.a)(a,O,(function(t,n){return Math.ceil(t/n)-1})),_=Object(r.a)(i,(function(t){return t.reader.postId}),(function(t,n){return t.find((function(t){return t.id===n}))})),I=Object(r.a)(i,_,(function(t,n){return n?t.indexOf(n):-1})),N=Object(r.a)((function(t){return t.preferences.rated}),(function(t){return t.preferences.ratedThreshold}),(function(t,n){return t?n:0})),P=Object(r.a)(i,I,(function(t,n){return n+1<t.length?n+1:void 0})),U=Object(r.a)(I,(function(t){return t>0?t-1:void 0})),L=Object(r.a)((function(t){return t.modals.openModal}),(function(t){return t===c.b.CREATE_SUPERTAG})),D=Object(r.b)((function(t){return Object(r.a)(i,(function(n){return n.find((function(n){return n.id===t}))}))})),z=Object(r.b)((function(t){return Object(r.a)(h,(function(n){return n[t]}))})),G=Object(r.b)((function(t){return function(n){return t in n.likes}}))},,,,,,,,,,,,,,function(t,n,e){"use strict";e.d(n,"d",(function(){return H})),e.d(n,"b",(function(){return M})),e.d(n,"h",(function(){return B})),e.d(n,"t",(function(){return F})),e.d(n,"f",(function(){return W})),e.d(n,"l",(function(){return V})),e.d(n,"m",(function(){return K})),e.d(n,"k",(function(){return q})),e.d(n,"z",(function(){return Y})),e.d(n,"w",(function(){return X})),e.d(n,"q",(function(){return J})),e.d(n,"s",(function(){return Q})),e.d(n,"a",(function(){return $})),e.d(n,"g",(function(){return Z})),e.d(n,"o",(function(){return tt})),e.d(n,"u",(function(){return nt})),e.d(n,"D",(function(){return et})),e.d(n,"i",(function(){return rt})),e.d(n,"j",(function(){return ct})),e.d(n,"C",(function(){return ot})),e.d(n,"c",(function(){return it})),e.d(n,"e",(function(){return at})),e.d(n,"r",(function(){return ut})),e.d(n,"p",(function(){return st})),e.d(n,"F",(function(){return dt})),e.d(n,"x",(function(){return ft})),e.d(n,"B",(function(){return lt})),e.d(n,"n",(function(){return bt})),e.d(n,"A",(function(){return jt})),e.d(n,"v",(function(){return ht})),e.d(n,"y",(function(){return Ot})),e.d(n,"E",(function(){return pt}));var r,c,o,i,a,u,s,d,f,l,b,j,h,O,p,g,m,v,x,y,k,S,C,w,E,T,R,A,_,I,N,P,U=e(4),L=e(41),D=e(19),z=e(13),G=e(2),H=Object(G.d)(z.a).attrs({icon:D.x})(r||(r=Object(U.a)([""]))),M=Object(G.d)(z.a).attrs({icon:D.o})(c||(c=Object(U.a)([""]))),B=Object(G.d)(z.a).attrs({icon:D.f})(o||(o=Object(U.a)([""]))),F=Object(G.d)(z.a).attrs({icon:D.m})(i||(i=Object(U.a)([""]))),W=Object(G.d)(z.a).attrs({icon:D.u})(a||(a=Object(U.a)([""]))),V=Object(G.d)(z.a).attrs({icon:D.h})(u||(u=Object(U.a)([""]))),K=Object(G.d)(z.a).attrs({icon:D.i})(s||(s=Object(U.a)([""]))),q=Object(G.d)(z.a).attrs({icon:D.g})(d||(d=Object(U.a)([""]))),Y=Object(G.d)(z.a).attrs({icon:D.j})(f||(f=Object(U.a)([""]))),X=Object(G.d)(z.a).attrs({icon:D.q})(l||(l=Object(U.a)([""]))),J=Object(G.d)(z.a).attrs({icon:D.k})(b||(b=Object(U.a)([""]))),Q=Object(G.d)(z.a).attrs({icon:D.n})(j||(j=Object(U.a)([""]))),$=Object(G.d)(z.a).attrs({icon:D.b})(h||(h=Object(U.a)([""]))),Z=Object(G.d)(z.a).attrs({icon:D.e})(O||(O=Object(U.a)([""]))),tt=Object(G.d)(z.a).attrs({icon:L.c})(p||(p=Object(U.a)([""]))),nt=Object(G.d)(z.a).attrs({icon:L.e})(g||(g=Object(U.a)([""]))),et=Object(G.d)(z.a).attrs({icon:L.g})(m||(m=Object(U.a)([""]))),rt=Object(G.d)(z.a).attrs({icon:L.a})(v||(v=Object(U.a)([""]))),ct=Object(G.d)(z.a).attrs({icon:L.b})(x||(x=Object(U.a)([""]))),ot=Object(G.d)(z.a).attrs({icon:L.f})(y||(y=Object(U.a)([""]))),it=Object(G.d)(z.a).attrs({icon:D.a})(k||(k=Object(U.a)([""]))),at=Object(G.d)(z.a).attrs({icon:D.d})(S||(S=Object(U.a)([""]))),ut=Object(G.d)(z.a).attrs({icon:D.l})(C||(C=Object(U.a)([""]))),st=Object(G.d)(z.a).attrs({icon:L.d})(w||(w=Object(U.a)([""]))),dt=Object(G.d)(z.a).attrs({icon:D.y})(E||(E=Object(U.a)([""]))),ft=Object(G.d)(z.a).attrs({icon:D.r})(T||(T=Object(U.a)([""]))),lt=Object(G.d)(z.a).attrs({icon:D.t})(R||(R=Object(U.a)([""]))),bt=Object(G.d)(z.a).attrs({icon:D.v})(A||(A=Object(U.a)([""]))),jt=Object(G.d)(z.a).attrs({icon:D.c})(_||(_=Object(U.a)([""]))),ht=Object(G.d)(z.a).attrs({icon:D.p})(I||(I=Object(U.a)([""]))),Ot=Object(G.d)(z.a).attrs({icon:D.s})(N||(N=Object(U.a)([""]))),pt=Object(G.d)(z.a).attrs({icon:D.w})(P||(P=Object(U.a)([""])))},,,function(t,n,e){"use strict";e.d(n,"d",(function(){return a})),e.d(n,"i",(function(){return d})),e.d(n,"j",(function(){return f})),e.d(n,"b",(function(){return w})),e.d(n,"g",(function(){return T})),e.d(n,"f",(function(){return A})),e.d(n,"c",(function(){return I})),e.d(n,"a",(function(){return P})),e.d(n,"e",(function(){return L})),e.d(n,"h",(function(){return z})),e.d(n,"k",(function(){return H}));var r=e(26),c=(e(81),e(47),e(82),e(9)),o=e.n(c),i=e(18);function a(t){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.a.analytics().logEvent(n.id,n.payload);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var s=new r.a.auth.GoogleAuthProvider;function d(){r.a.auth().signInWithPopup(s).catch((function(t){console.error("Sign in failed:",t.code,t.message)}))}function f(){return l.apply(this,arguments)}function l(){return(l=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.auth().signOut();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var b=e(14);function j(t){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(o.a.mark((function t(n){var e,r,c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(new TextEncoder).encode(n),t.next=3,crypto.subtle.digest("SHA-256",e);case 3:return r=t.sent,c=Array.from(new Uint8Array(r)),i=c.map((function(t){return t.toString(16).padStart(2,"0")})).join(""),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O=e(33),p=e(46),g=function(){function t(){Object(O.a)(this,t)}return Object(p.a)(t,[{key:"toFirestore",value:function(t){return t}},{key:"fromFirestore",value:function(t,n){return t.data(n)}}]),t}(),m=e(1),v=e(54),x=new g;function y(){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(o.a.mark((function t(){var n,e,c,i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.a.auth(),e=n.currentUser,!(c=null===e||void 0===e?void 0:e.email)){t.next=8;break}return t.next=5,j(c);case 5:return i=t.sent,a=r.a.firestore().collection("users").doc(i),t.abrupt("return",a);case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(o.a.mark((function t(){var n,e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:if(!(n=t.sent)){t.next=9;break}return t.next=6,n.withConverter(x).get();case 6:return e=t.sent,r=e.data(),t.abrupt("return",r);case 9:return t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n.preferences);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(o.a.mark((function t(n){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:if(!(e=t.sent)){t.next=6;break}return t.next=6,e.set({preferences:n});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:t.sent&&console.log("broken");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(o.a.mark((function t(){var n,e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:if(!(n=t.sent)){t.next=10;break}return t.next=6,n.collection("supertags").get();case 6:return e=t.sent,r={},e.forEach((function(t){r[t.id]=t.data()})),t.abrupt("return",r);case 10:return t.abrupt("return",void 0);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t,n,e){return U.apply(this,arguments)}function U(){return(U=Object(i.a)(o.a.mark((function t(n,e,r){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:(c=t.sent)&&c.collection("supertags").doc(n).set({description:e,tags:r});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(o.a.mark((function t(n){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:(e=t.sent)&&e.collection("supertags").doc(n).delete();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(t,n){return G.apply(this,arguments)}function G(){return(G=Object(i.a)(o.a.mark((function t(n,e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:(r=t.sent)&&r.collection("supertags").doc(n).update({tags:e});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){var t=Object(m.useState)({}),n=Object(b.a)(t,2),e=n[0],c=n[1],o=Object(m.useState)(),i=Object(b.a)(o,2),a=i[0],u=i[1],s=Object(v.a)(),d=Object(b.a)(s,2),f=(d[0],d[1]);return Object(m.useEffect)((function(){(null===f||void 0===f?void 0:f.email)&&j(f.email).then((function(t){var n=r.a.firestore().collection("users/".concat(t,"/supertags"));return u(n),n.get()})).then((function(t){var n=t.docs.reduce((function(t,n){return t[n.id]=n.data(),t}),{});c(n)}))}),[null===f||void 0===f?void 0:f.email]),Object(m.useEffect)((function(){if(a){var t=a.onSnapshot((function(t){var n=t.docs.reduce((function(t,n){return t[n.id]=n.data(),t}),{});c(n)}));return function(){t()}}}),[a]),e}r.a.initializeApp({apiKey:"AIzaSyBHdepwE7M4Byu2lFtX2s__9COcMdvXu7Q",authDomain:"r34-react.firebaseapp.com",databaseURL:"https://r34-react.firebaseio.com",projectId:"r34-react",storageBucket:"r34-react.appspot.com",messagingSenderId:"844749417844",appId:"1:844749417844:web:11fa1fda0e14f1ac2dd021",measurementId:"G-27J3QXZ8YR"})},,function(t,n,e){"use strict";e.d(n,"d",(function(){return b})),e.d(n,"b",(function(){return j})),e.d(n,"a",(function(){return h})),e.d(n,"c",(function(){return O}));var r,c,o,i,a,u,s=e(4),d=e(2),f=e(10),l=d.d.button((function(t){var n=t.theme;return Object(d.c)(r||(r=Object(s.a)(["\n    height: ",";\n    padding: 0 ",";\n    font-size: ",";\n    ","\n    display: inline-flex;\n    gap: ",";\n    align-items: center;\n    place-content: center;\n\n    transition: all "," ease-out;\n  "])),n.dimensions.blockHeight,n.dimensions.bigSpacing,n.fontSizes.content,Object(f.e)({theme:n}),n.dimensions.gutter,n.timings.longTransitionTime)})),b=(d.d.button((function(t){var n=t.theme;return Object(d.c)(c||(c=Object(s.a)(["\n    background-color: transparent;\n    border: none;\n    padding: ",";\n    ","\n\n    svg {\n      transition: all "," ease-out;\n    }\n\n    :active {\n      svg {\n        transform: scale(1.1);\n      }\n    }\n  "])),n.dimensions.gutter,Object(f.f)({theme:n}),n.timings.transitionTime)})),Object(d.d)(l)(o||(o=Object(s.a)(["\n  ","\n"])),f.s)),j=Object(d.d)(b)(i||(i=Object(s.a)(["\n  width: 100%;\n\n  :active {\n    transform: scaleX(1.03) scaleY(1.1);\n  }\n"]))),h=Object(d.d)(b)((function(t){var n=t.theme;return Object(d.c)(a||(a=Object(s.a)(["\n    border-radius: 0 "," "," 0;\n  "])),n.dimensions.borderRadius,n.dimensions.borderRadius)})),O=Object(d.d)(l)((function(t){var n=t.theme;return Object(d.c)(u||(u=Object(s.a)(["\n    background-color: transparent;\n    min-width: 48px;\n    font-weight: bold;\n\n    ","\n    border-right-width: 0;\n    border-radius: "," 0 0 ",";\n  "])),Object(f.e)({theme:n}),n.dimensions.borderRadius,n.dimensions.borderRadius)}))},,,,,,,,function(t,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"d",(function(){return o})),e.d(n,"c",(function(){return i})),e.d(n,"e",(function(){return a})),e.d(n,"h",(function(){return u})),e.d(n,"f",(function(){return s})),e.d(n,"b",(function(){return d})),e.d(n,"g",(function(){return f}));var r=e(43),c=function(t){var n=t;return n>=1e6?"".concat((n/1e6).toFixed(0),"M"):n>=1e3?"".concat((n/1e3).toFixed(0),"K"):n},o=function(t){var n=Object(r.i)(t);return n?n.host:t};function i(t){var n=Math.trunc(t/60),e=Math.trunc(t%60);return n+":"+(e<10?"0":"")+e}function a(t){return t.replace(/_/g," ").replace(/source:/g," ").replace(/rating:/g," ")}function u(t){return t.toLowerCase().replace(/ /g,"_")}function s(t,n){return n?"".concat(a(t)," (").concat(c(n),")"):a(t)}function d(t){return"".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString())}function f(t){return t>=315576e5?l(t,315576e5,"year"):t>=2629756800?l(t,2629756800,"month"):t>=6048e5?l(t,6048e5,"week"):t>=854e5?l(t,854e5,"day"):t>=36e5?l(t,36e5,"hour"):t>=6e4?l(t,6e4,"minute"):t>=1e3?l(t,1e3,"second"):"".concat(t," ms")}function l(t,n,e){var r=(t/n).toFixed(0),c="1"===r?e:"".concat(e,"s");return"".concat(r," ").concat(c)}},function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(33),c=e(5),o=function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.c.PLUS;Object(r.a)(this,t),this.name=void 0,this.count=void 0,this.types=void 0,this.modifier=void 0,this.name=n,this.types=e,this.count=o,this.modifier=i}},,,function(t,n,e){"use strict";e.d(n,"d",(function(){return d})),e.d(n,"a",(function(){return f})),e.d(n,"c",(function(){return l})),e.d(n,"b",(function(){return b}));var r,c,o,i,a=e(4),u=e(2),s=e(10),d=u.d.h2((function(t){var n=t.theme;return Object(u.c)(r||(r=Object(a.a)(["\n    font-size: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),n.fontSizes.bigTitle)})),f=u.d.h1((function(t){var n=t.theme;return Object(u.c)(c||(c=Object(a.a)(["\n    ","\n\n    justify-content: center;\n    font-size: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),Object(s.l)({theme:n}),n.fontSizes.bigTitle)})),l=u.d.h3((function(t){var n=t.theme;return Object(u.c)(o||(o=Object(a.a)(["\n    font-size: ",";\n  "])),n.fontSizes.content)})),b=u.d.span((function(t){var n=t.theme;return Object(u.c)(i||(i=Object(a.a)(["\n    color: ",";\n  "])),n.colors.subduedText)}))},function(t,n,e){"use strict";(function(t){e.d(n,"e",(function(){return c})),e.d(n,"h",(function(){return o})),e.d(n,"j",(function(){return i})),e.d(n,"i",(function(){return a})),e.d(n,"k",(function(){return u})),e.d(n,"b",(function(){return s})),e.d(n,"f",(function(){return d})),e.d(n,"g",(function(){return f})),e.d(n,"c",(function(){return l})),e.d(n,"d",(function(){return b})),e.d(n,"a",(function(){return j}));var r=e(5),c=function(t,n){return t===r.e.VIDEO?r.a.VIDEO:n.small_src.includes(".gif")||n.big_src.includes(".gif")?r.a.GIF:r.a.PICTURE};var o=function(t,n){return t.reduce((function(t,e){return t[e[n]]=e,t}),{})};function i(t){return Object.values(t).map((function(t){return"".concat(t.modifier).concat(t.name)})).sort()}function a(t){try{return new URL(t)}catch(n){return}}function u(t){return Number(t.split(".").join(""))}function s(t){var n=t.split("/").pop()||"";fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((function(t){return t.blob()})).then((function(t){var e=document.createElement("a");e.download=n,e.href=window.URL.createObjectURL(t),document.body.appendChild(e),e.click(),e.remove()})).catch((function(t){return console.error(t)}))}function d(){var n,e;return(null===(n=t)||void 0===n||null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/r34-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"2.7.2"}))||void 0===e?void 0:e.REACT_APP_VERSION)?"2.7.2":"unknown"}function f(){var t=d();return"unknown"===t?"Latest Release":"Version ".concat(t)}function l(t,n,e,r){return b(n,t?e:r)}function b(t,n){return t?n:new URL(n).searchParams.get("url")||""}function j(t){return t?1:0}}).call(this,e(55))},,function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return u}));var r,c,o=e(4),i=e(2),a=i.d.div((function(t){return Object(i.c)(r||(r=Object(o.a)(["\n    align-self: stretch;\n    height: 1px;\n    background: ",";\n  "])),t.theme.colors.layerBg)})),u=i.d.div((function(t){return Object(i.c)(c||(c=Object(o.a)(["\n    width: 1px;\n    align-self: stretch;\n    background: ",";\n  "])),t.theme.colors.layerBg)}))},,,function(t,n,e){"use strict";e.d(n,"c",(function(){return r})),e.d(n,"e",(function(){return c})),e.d(n,"b",(function(){return o})),e.d(n,"f",(function(){return i})),e.d(n,"d",(function(){return a})),e.d(n,"a",(function(){return u}));var r=function(){var t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.rowGap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div")),document.body.appendChild(t);var n=1===t.scrollHeight;return t.parentNode.removeChild(t),n}(),c="gap"in document.body.style,o="aspect-ratio"in document.body.style,i="object-fit"in document.body.style,a=document.fullscreenEnabled;function u(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},,function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return a}));var r=e(33),c=function t(n,e,c,o,i,a,u,s,d,f,l,b,j,h,O,p,g,m,v,x,y){Object(r.a)(this,t),this.id=void 0,this.score=void 0,this.rating=void 0,this.source=void 0,this.tags=void 0,this.media_type=void 0,this.thumbnail_src=void 0,this.small_src=void 0,this.big_src=void 0,this.width=void 0,this.height=void 0,this.creator_id=void 0,this.creator_url=void 0,this.status=void 0,this.parent_id=void 0,this.has_children=void 0,this.has_comments=void 0,this.comments_url=void 0,this.has_notes=void 0,this.created_at=void 0,this.change=void 0,this.comments=void 0,this.id=n,this.score=e,this.rating=c,this.source=o,this.tags=i,this.media_type=a,this.small_src=u,this.big_src=s,this.thumbnail_src=d,this.width=f,this.height=l,this.creator_id=b,this.creator_url=j,this.status=h,this.parent_id=O,this.has_children=p,this.has_comments=g,this.comments_url=m,this.has_notes=v,this.created_at=Date.parse(x),this.change=y},o=e(39);function i(t){var n=t.name,e=t.types,r=t.count,c=t.modifier;return new o.a(n,e,Number(r),c)}function a(t){var n=t.id,e=t.type,r=t.score,i=t.rating,a=t.source,u=t.tags,s=t.file_url,d=t.width,f=t.height,l=t.creator_id,b=t.creator_url,j=t.sample_url,h=t.preview_url,O=t.status,p=t.parent_id,g=t.has_children,m=t.has_comments,v=t.comments_url,x=t.has_notes,y=t.created_at,k=t.change;return new c(Number(n),Number(r),i,a,u?u.map((function(t){return new o.a(t)})):[],e,j,s,h,Number(d),Number(f),Number(l),b,O,Number(p),Boolean(g),Boolean(m),v,Boolean(x),y,k)}},,function(t,n,e){"use strict";var r,c=e(4),o=e(2),i=e(10);n.a=o.d.div(r||(r=Object(c.a)(["\n  display: grid;\n  ","\n  ","\n  ","\n  width: 100%;\n"])),i.o,i.p,i.a)},,function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(14),c=e(26),o=(e(47),e(1));function i(){var t=Object(o.useState)(!1),n=Object(r.a)(t,2),e=n[0],i=n[1],a=Object(o.useState)(null),u=Object(r.a)(a,2),s=u[0],d=u[1];return Object(o.useEffect)((function(){var t=c.a.auth().onAuthStateChanged((function(t){t?(i(!0),d(t)):(i(!1),d(null))}));return function(){t()}}),[]),[e,s]}},,,,function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var r=e(1),c=e(5),o=e(25),i=e(3);function a(t){var n=t.types,e=void 0===n?[]:n,a=t.className,u=void 0===a?"":a,s=t.onClick,d=void 0===s?c.d:s;switch(Object(r.useMemo)((function(){return e.find((function(t){return!t.match(/^[general|ambiguous]$/)}))}),[e])){case c.j.CHARACTER:return Object(i.jsx)(o.d,{className:u,onClick:d});case c.j.COPYRIGHT:return Object(i.jsx)(o.h,{className:u,onClick:d});case c.j.ARTIST:return Object(i.jsx)(o.b,{className:u,onClick:d});case c.j.RATING:return Object(i.jsx)(o.w,{className:u,onClick:d});case c.j.SOURCE:return Object(i.jsx)(o.z,{className:u,onClick:d});case c.j.METADATA:return Object(i.jsx)(o.t,{className:u,onClick:d});case c.j.SUPERTAG:return Object(i.jsx)(o.B,{className:u,onClick:d});default:return null}}},function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r,c,o=e(4),i=e(2),a=e(10),u=i.d.div(r||(r=Object(o.a)(["\n  ","\n  width: 100%;\n  min-height: 100%;\n"])),a.g);n.b=u;var s=Object(i.d)(u)(c||(c=Object(o.a)(["\n  ","\n  ","\n"])),a.o,a.c)},,,,,,,,function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var r=e(1),c=e(16),o=e(7),i=e(11);function a(t){var n=Object(c.b)(),e=Object(c.c)(i.w),a=Object(r.useCallback)((function(e){return n(Object(o.N)(t,e))}),[n,t]);return[e[t],a]}},function(t,n,e){"use strict";e.d(n,"a",(function(){return x}));var r,c,o,i,a=e(4),u=(e(1),e(57)),s=e(20),d=e(2),f=e(5),l=e(78),b=e(10),j=e(45),h=e(42),O=e(3),p=d.d.header((function(t){var n=t.theme;return Object(d.c)(r||(r=Object(a.a)(["\n    ","\n    ","\n  "])),Object(b.g)(),Object(b.h)(n.dimensions.bigSpacing))})),g=d.d.div((function(t){var n=t.theme;return Object(d.c)(c||(c=Object(a.a)(["\n    ","\n    justify-content: center;\n    background: ",";\n    padding: "," 0;\n    ","\n  "])),Object(b.l)({theme:n}),n.colors.layerBgSolid,n.dimensions.gutter,Object(b.b)({theme:n}))})),m=d.d.nav((function(t){var n=t.theme;return Object(d.c)(o||(o=Object(a.a)(["\n    display: flex;\n    justify-content: center;\n    padding: ",";\n    ","\n  "])),n.dimensions.bigSpacing,Object(b.k)(n.dimensions.hugeSpacing))})),v=Object(d.d)(u.b)((function(t){var n=t.to,e=t.current,r=t.theme;return Object(d.c)(i||(i=Object(a.a)(["\n    color: ",";\n  "])),n===e?r.colors.accentColor:r.colors.text)}));function x(){var t=Object(s.f)().pathname;return Object(O.jsxs)(p,{role:"cell",children:[Object(O.jsxs)(g,{children:[Object(O.jsx)(l.a,{size:32}),Object(O.jsx)(j.b,{}),Object(O.jsxs)(h.a,{children:[Object(O.jsx)("span",{children:"Browse"})," ",Object(O.jsx)("a",{href:"https://rule34.xxx",children:"Rule34"})]})]}),Object(O.jsxs)(m,{children:[Object(O.jsx)(v,{current:t,to:f.h.SEARCH,children:"Search"}),Object(O.jsx)(j.b,{}),Object(O.jsx)(v,{current:t,to:f.h.SETTINGS,children:"Settings"}),Object(O.jsx)(j.b,{}),Object(O.jsx)(v,{current:t,to:f.h.ABOUT,children:"About"})]})]})}},function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(14),c=e(1);function o(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(c.useState)(t),e=Object(r.a)(n,2),o=e[0],i=e[1],a=Object(c.useCallback)((function(){return i(!o)}),[o]),u=Object(c.useCallback)((function(){return i(t)}),[t]);return[o,a,u]}},function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(1),c=e(16);function o(t){var n=Object(c.b)();return Object(r.useCallback)((function(){return n(t())}),[t,n])}},function(t,n,e){"use strict";e.d(n,"a",(function(){return M}));var r,c,o,i,a,u=e(17),s=e(14),d=e(4),f=e(1),l=e(2),b=e(10),j=e(58),h=e(25),O=e(39),p=e(16),g=e(11),m=e(69),v=l.d.div((function(t){return Object(l.c)(c||(c=Object(d.a)(["\n      ","\n      ","\n      padding: 0 ",";\n      height: ",";\n      border-radius: ",";\n      font-size: ",";\n    "])),Object(b.l)({theme:t.theme}),function(t,n){var e=t?n.colors.backgroundColor:n.colors.accentColor,c=t?n.colors.accentColor:n.colors.backgroundColor;return Object(l.c)(r||(r=Object(d.a)(["\n    color: ",";\n    background-color: ",";\n    border: "," "," solid;\n    transition: all "," ease-out;\n\n    svg {\n      color: ",";\n    }\n\n    cursor: pointer;\n\n    :hover,\n    :focus,\n    :active {\n      border-color: ",";\n      color: ",";\n\n      svg {\n        color: ",";\n      }\n    }\n\n    :active {\n      transform: scale(1.05);\n    }\n  "])),e,c,n.colors.accentColor,n.dimensions.borderWidth,n.timings.transitionTime,e,n.colors.backgroundColor2,n.colors.backgroundColor2,n.colors.backgroundColor2)}(t.active,t.theme),t.theme.dimensions.gutter,t.theme.dimensions.blockHeight,(n=t.collapsed,e=t.theme,n?e.dimensions.borderRadius:"".concat(e.dimensions.borderRadius," ").concat(e.dimensions.borderRadius," 0 0")),t.theme.fontSizes.content);var n,e})),x=e(5),y=e(38),k=e(3),S={[x.c.PLUS]:Object(l.c)(o||(o=Object(d.a)([""]))),[x.c.MINUS]:Object(l.c)(i||(i=Object(d.a)(["\n    text-decoration: line-through;\n  "]))),[x.c.OR]:Object(l.c)(a||(a=Object(d.a)(["\n    font-style: italic;\n  "])))},C=l.d.span((function(t){var n=t.modifier,e=void 0===n?x.c.PLUS:n;return S[e]}));function w(t){var n=t.modifier,e=t.name,r=t.count,c=Object(y.f)(e,r);return Object(k.jsx)(C,{modifier:n,tabIndex:0,children:c})}var E,T,R=e(7),A=l.d.div((function(t){var n=t.theme;return Object(l.c)(E||(E=Object(d.a)(["\n    ","\n    padding: 0 ",";\n    height: ",";\n    font-size: ",";\n  "])),Object(b.l)({theme:n}),n.dimensions.bigSpacing,n.dimensions.blockHeight,n.fontSizes.content)}));function _(t){var n=t.modifier,e=t.name,r=t.count,c=Object(p.b)(),o=Object(f.useCallback)((function(t){t.stopPropagation();var o=new O.a(e,[],r,n);c(Object(R.x)(o))}),[r,c,n,e]);return Object(k.jsx)(A,{onClick:o,children:Object(k.jsx)(w,{modifier:n,name:e,count:r})})}var I,N,P,U=l.d.div((function(t){var n=t.theme,e=t.parentRef;return Object(l.c)(T||(T=Object(d.a)(["\n    position: absolute;\n    top: ","px;\n    left: ","px;\n    width: ","px;\n\n    display: flex;\n    flex-direction: column;\n\n    border-bottom-left-radius: ",";\n    border-bottom-right-radius: ",";\n    border: "," solid ",";\n    border-top: none;\n\n    background: ",";\n    z-index: 3;\n    color: ",";\n\n    > :not(:last-child) {\n      border-bottom: "," solid ",";\n    }\n  "])),e.offsetTop+e.clientHeight+4,e.offsetLeft,e.clientWidth+5,n.dimensions.borderRadius,n.dimensions.borderRadius,n.dimensions.borderWidth,n.colors.accentColor,n.colors.backgroundColor,n.colors.accentColor,n.dimensions.borderWidth,n.colors.accentColor)}));function L(t){var n=t.aliases,e=t.modifier,r=t.parentRef;return Object(k.jsx)(U,{parentRef:r,children:n.map((function(t){var n=t.name,r=t.count;return Object(k.jsx)(_,{modifier:e,name:n,count:r},"a_"+n)}))})}var D,z=Object(l.d)(h.a)((function(t){var n=t.$collapsed,e=t.theme;return Object(l.c)(I||(I=Object(d.a)(["\n    transition: all "," ease-out;\n    height: 32px;\n    width: 32px !important;\n    padding: 8px;\n    margin: 0 -8px;\n    ","\n  "])),e.timings.transitionTime,n?Object(l.c)(N||(N=Object(d.a)([""]))):Object(l.c)(P||(P=Object(d.a)(["\n          transform: rotate(180deg);\n        "]))))}));function G(t){var n=t.name,e=t.count,r=t.modifier,c=void 0===r?x.c.PLUS:r,o=t.types,i=t.detailed,a=t.onClick,u=Object(f.useState)(null),d=Object(s.a)(u,2),l=d[0],b=d[1],h=Object(m.a)(!0),y=Object(s.a)(h,3),S=y[0],C=y[1],E=y[2],T=Object(p.c)(g.a),R=Object(p.c)(Object(g.d)(n)),A=Object(f.useMemo)((function(){return R?R.filter((function(t){return!(t.name in T)})):[]}),[T,R]),_=n in T,I=(null===A||void 0===A?void 0:A.length)>0,N=Object(f.useCallback)((function(t){t.stopPropagation();var r=new O.a(n,o,e,c);a(r)}),[e,c,n,a,o]),P=Object(f.useCallback)((function(t){t.stopPropagation(),C()}),[C]),U=Object(f.useCallback)((function(t){"Enter"===t.key&&N(t)}),[N]);return Object(k.jsxs)(v,{active:_,collapsed:S,onClick:N,onKeyDown:U,onMouseLeave:E,ref:b,children:[i&&Object(k.jsx)(j.a,{types:o}),Object(k.jsx)(w,{modifier:c,name:n,count:e}),i&&I&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(z,{onClick:P,$collapsed:S}),!S&&l&&Object(k.jsx)(L,{aliases:A,modifier:c,parentRef:l})]})]})}var H=l.d.div((function(t){var n=t.theme;return Object(l.c)(D||(D=Object(d.a)(["\n    display: inline-flex;\n    flex-wrap: wrap;\n    ","\n    ","\n  "])),Object(b.k)(n.dimensions.gutter),Object(b.h)(n.dimensions.gutter))}));function M(t){var n=t.tags,e=t.className,r=t.detailed,c=t.children,o=void 0===c?null:c,i=t.onTagClick;return Object(k.jsxs)(H,{className:e,children:[Object.entries(n).map((function(t){var n=Object(s.a)(t,2),e=n[0],c=n[1];return Object(k.jsx)(G,Object(u.a)(Object(u.a)({detailed:r},c),{},{onClick:i}),e)})),o]})}},function(t,n,e){"use strict";var r,c=e(4),o=e(2),i=e(10),a=o.d.img(r||(r=Object(c.a)(["\n  ","\n  ","\n"])),i.j,i.r);n.a=a},function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var r=e(1),c=e(16),o=e(7),i=e(11);function a(){var t=Object(c.b)(),n=Object(c.c)(i.a);return Object(r.useCallback)((function(e){e.name in n?t(Object(o.I)(e)):t(Object(o.x)(e))}),[n,t])}},function(t,n,e){"use strict";e.d(n,"a",(function(){return B}));var r=e(14),c=e(4),o=e(1),i=e(16),a=e(2),u=e(79),s=e.n(u),d=e(28),f=e(5),l=[f.c.PLUS,f.c.MINUS,f.c.OR];var b,j,h,O,p=e(38),g=e(50),m=e(7),v=e(11),x=e(30),y=e(58),k=e(3),S=a.d.div((function(t){var n=t.theme;return Object(a.c)(b||(b=Object(c.a)(["\n    display: grid;\n    grid-template-columns: 48px 1fr auto;\n    min-height: ","; // COMPAT: Kiwi Browser\n    height: ",";\n    background: white;\n    align-items: center;\n    cursor: pointer;\n  "])),n.dimensions.blockHeight,n.dimensions.blockHeight)})),C=a.d.span(j||(j=Object(c.a)(["\n  grid-column: 2/3;\n"]))),w=a.d.span((function(t){var n=t.theme;return Object(a.c)(h||(h=Object(c.a)(["\n    grid-column: 3/4;\n    padding-right: ",";\n  "])),n.dimensions.bigSpacing)})),E=a.d.div(O||(O=Object(c.a)(["\n  grid-column: 1/2;\n  text-align: center;\n"])));function T(t){var n=t.name,e=t.posts,r=t.types,c=t.onClick,o=r.includes(f.j.SUPERTAG)?"tags":"posts";return Object(k.jsxs)(S,{onClick:c,children:[Object(k.jsx)(E,{children:Object(k.jsx)(y.a,{types:r})}),Object(k.jsx)(C,{children:Object(p.e)(n)}),Object(k.jsxs)(w,{children:[Object(p.a)(e)," ",o]})]})}var R,A,_=e(10);var I,N=a.d.div((function(t){var n=t.theme,e=t.tagSelectorRef;return Object(a.c)(A||(A=Object(c.a)(["\n    ","\n    ","\n    ",";\n    background: lightgrey;\n    box-sizing: border-box;\n    border: "," "," solid;\n    border-top: none;\n    border-radius: 0 0 3px 3px;\n    color: black;\n    overflow-y: auto;\n    z-index: 3;\n\n    ::-webkit-scrollbar {\n      width: 8px;\n\n      :hover {\n        background: ",";\n      }\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n      background: ",";\n      border-left: 1px lightgray solid;\n    }\n\n    /* Handle */\n    :hover {\n      ::-webkit-scrollbar {\n        background: ","20;\n      }\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: ","40;\n      border-radius: 1000px;\n\n      :hover {\n        background: ","30;\n      }\n    }\n  "])),Object(_.g)(),Object(_.h)("1px"),function(t){if(t){var n=t.offsetTop,e=t.clientHeight,r=t.offsetLeft,o=t.clientWidth;return Object(a.c)(R||(R=Object(c.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n      max-height: 50vh;\n    "])),n+e,r,o)}return""}(e),n.dimensions.borderWidth,n.colors.accentColor,n.colors.layerBg,n.colors.backgroundColor2,n.colors.backgroundColor,n.colors.backgroundColor,n.colors.backgroundColor)}));function P(t){var n=t.tagSelectorRef,e=t.entries,r=t.onClick;return e&&e.length>0?Object(k.jsx)(N,{tagSelectorRef:n,children:e.map((function(t){return Object(k.jsx)(T,{onClick:function(){return r(t)},name:t.name,types:t.types,posts:t.count||t.posts||0},t.name)}))}):null}var U=a.d.input((function(t){return Object(a.c)(I||(I=Object(c.a)(["\n    width: 100%;\n    border: none;\n    outline: none;\n    background: none;\n    font-size: ",";\n    border-top: "," "," solid;\n    border-bottom: "," "," solid;\n  "])),t.theme.fontSizes.content,t.theme.colors.accentColor,t.theme.dimensions.borderWidth,t.theme.colors.accentColor,t.theme.dimensions.borderWidth)}));function L(t){var n=t.value,e=t.setValue,r=t.onSubmit,c=Object(o.useCallback)((function(t){e(t.target.value)}),[e]),i=Object(o.useCallback)((function(t){"Enter"===t.key&&r()}),[r]);return Object(k.jsx)(U,{id:"tag-input",value:n,onChange:c,onKeyDown:i,placeholder:"Search for tags","aria-label":"Search"})}var D,z,G,H=e(25),M=a.d.div((function(t){return Object(a.c)(D||(D=Object(c.a)(["\n    display: flex;\n    background: white;\n    ","\n  "])),t.closed?Object(a.c)(z||(z=Object(c.a)(["\n          border-radius: ",";\n        "])),t.theme.dimensions.borderRadius):Object(a.c)(G||(G=Object(c.a)(["\n          border-radius: "," "," 0 0;\n\n          > "," {\n            border-radius: 0 "," 0 0;\n          }\n\n          > "," {\n            border-radius: "," 0 0 0;\n          }\n        "])),t.theme.dimensions.borderRadius,t.theme.dimensions.borderRadius,x.a,t.theme.dimensions.borderRadius,x.c,t.theme.dimensions.borderRadius))}));function B(t){var n=t.onSubmit,e=Object(i.b)(),c=Object(o.useState)(""),a=Object(r.a)(c,2),u=a[0],b=a[1],j=Object(o.useState)(null),h=Object(r.a)(j,2),O=h[0],y=h[1],S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.c.PLUS,n=Object(o.useState)(t),e=Object(r.a)(n,2),c=e[0],i=e[1],a=Object(o.useCallback)((function(){var t=l.indexOf(c);i(l[(t+1)%l.length])}),[c]);return[c,a]}(),C=Object(r.a)(S,2),w=C[0],E=C[1],T=Object(i.c)(v.D),R=Object(o.useCallback)((function(t){var c=t.name,o=t.posts,i=t.count,a=t.types;if(null===a||void 0===a?void 0:a.includes(f.j.SUPERTAG))Object(d.c)().then((function(t){t&&Object.entries(t[c].tags).forEach((function(t){var c=Object(r.a)(t,2),o=c[0],i=c[1],a=Object(g.b)({name:o,types:[],count:"0",modifier:i});n?n(a):e(Object(m.x)(a))}))}));else{var u=Object(g.b)({name:c,types:a,modifier:w,count:(i||o||0).toString()});n?n(u):e(Object(m.x)(u))}b(""),e(Object(m.P)([]))}),[e,w,n]);s()((function(){""===u?T.length>0&&e(Object(m.P)([])):e(Object(m.D)(u))}),300,[u]);var A=Object(o.useCallback)((function(){if(u&&u.trim()){var t=Object(p.h)(u),n=T.find((function(n){return n.name===t}));n&&R(n)}}),[u,R,T]);return Object(k.jsxs)(M,{ref:y,closed:0===T.length,children:[Object(k.jsx)(x.c,{onClick:E,"aria-label":"Tag Modifier",children:w}),Object(k.jsx)(L,{value:u,setValue:b,onSubmit:A}),Object(k.jsx)(x.a,{onClick:A,"aria-label":"Add Tag",children:Object(k.jsx)(H.v,{})}),T.length>0&&u.length>0&&Object(k.jsx)(P,{tagSelectorRef:O,entries:T,onClick:R})]})}},function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e(17),c=e(9),o=e.n(c),i=e(18),a=e(1),u=e(28),s=e(25),d=e(30),f=e(3);function l(t){var n=Object(a.useCallback)(Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.clear(),t.next=3,Object(u.j)();case 3:window.location.hash="",window.location.reload();case 5:case"end":return t.stop()}}),t)}))),[]);return Object(f.jsxs)(d.b,Object(r.a)(Object(r.a)({onClick:n},t),{},{children:[Object(f.jsx)(s.E,{})," Reset Application"]}))}},function(t,n,e){"use strict";n.a=e.p+"static/media/OutOfResults.9c71691c.png"},function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r,c=e(4),o=(e(1),e(2)),i=e(3),a=o.d.svg(r||(r=Object(c.a)(["\n  height: 32px;\n  padding: 8px;\n"])));function u(){return Object(i.jsxs)(a,{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 50 20","enable-background":"new 0 0 0 0",xmlSpace:"preserve",children:[Object(i.jsx)("circle",{fill:"#fff",stroke:"none",cx:"6",cy:"10",r:"6",children:Object(i.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})}),Object(i.jsx)("circle",{fill:"#fff",stroke:"none",cx:"25",cy:"10",r:"6",children:Object(i.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})}),Object(i.jsx)("circle",{fill:"#fff",stroke:"none",cx:"44",cy:"10",r:"6",children:Object(i.jsx)("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"})})]})}},function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(2),c=e(3);function o(t){var n=Object(r.f)();return Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t.size,height:t.size,viewBox:"0 0 12.7 12.7",className:t.className,children:Object(c.jsxs)("g",{transform:"translate(0,-284.3)",children:[Object(c.jsx)("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:n.colors.accentColor,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),Object(c.jsx)("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:n.colors.accentColor,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)",children:Object(c.jsx)("tspan",{id:"tspan4531",x:"2",y:"289.1",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:n.colors.accentColor,fillOpacity:"1",children:"34"})})]})})}},,function(t,n,e){"use strict";e.d(n,"a",(function(){return b}));var r=e(1),c=e(16),o=e(5),i=e(73),a=e(25),u=e(7),s=e(11),d=e(30),f=e(71),l=e(3);function b(t){var n=t.onChange,e=void 0===n?o.d:n,b=t.offerSupertags,j=void 0!==b&&b,h=Object(c.b)(),O=Object(c.c)(s.a),p=Object(c.c)(s.q),g=Object(r.useCallback)((function(){return h(Object(u.H)(o.b.CREATE_SUPERTAG))}),[h]),m=Object(i.a)();return Object(r.useEffect)((function(){return e()}),[e,O]),p>0?Object(l.jsx)(f.a,{tags:O,detailed:!0,onTagClick:m,children:j&&Object.keys(O).length>1&&Object(l.jsx)(d.d,{onClick:g,title:"Create a supertag",children:Object(l.jsx)(a.B,{})})}):null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,e){"use strict";e.r(n);e(93);var r,c,o=e(1),i=e.n(o),a=e(53),u=e.n(a),s=e(14),d=e(16),f=e(57),l=e(20),b=e(84),j=e(2),h=e(33),O=e(46),p=e(92),g=e(91),m=function(t){Object(p.a)(e,t);var n=Object(g.a)(e);function e(t){var r;return Object(h.a)(this,e),(r=n.call(this,t)).state={hasError:!1},r}return Object(O.a)(e,[{key:"render",value:function(){return this.state.hasError?this.props.fallback:this.props.children}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}]),e}(i.a.Component),v=e(4),x=e(75),y=e(76),k=e(72),S=e(5),C=e(17),w={dimensions:{borderRadius:"3px",borderWidth:"2px",spacing:"4px",bigSpacing:"8px",hugeSpacing:"16px",gutter:"8px",blockHeight:"32px",bodyWidth:"1000px"},colors:{text:"#fff",backgroundColor:"#121212",backgroundColor2:"#fff",subduedText:"#ffffff80",layerBg:"#ffffff11",layerBgSolid:"#222222",layerBgHighlight:"#ffffff22",accentColor:"#ee3344",hoverAccent:"#ee3344",liked:"#ff0d50",positive:"#40ee40",negative:"#dd1010"},shadow:{radius:"4px",color:"#00000060"},timings:{transitionTime:"0.2s",longTransitionTime:"0.2s"},fontSizes:{content:"15px",bigTitle:"24px"}},E=Object(C.a)(Object(C.a)({},w),{},{colors:Object(C.a)(Object(C.a)({},w.colors),{},{text:"#000",backgroundColor:"#fff",backgroundColor2:"#fff",subduedText:"#00000080",layerBg:"#00000011",layerBgSolid:"#dddddd",layerBgHighlight:"#00000022"})}),T=Object(C.a)(Object(C.a)({},w),{},{colors:Object(C.a)(Object(C.a)({},w.colors),{},{backgroundColor:"#161410",backgroundColor2:"#fff",layerBg:"#ffffff11",layerBgSolid:"#262420",layerBgHighlight:"#ffffff22"})}),R=Object(C.a)(Object(C.a)({},w),{},{colors:Object(C.a)(Object(C.a)({},w.colors),{},{accentColor:"#2ae",hoverAccent:"#2ae"})}),A={[S.k.DARK]:w,[S.k.LIGHT]:E,[S.k.COFFEE]:T,[S.k.ELECTRIC]:R},_=S.k.DARK,I=Object(j.b)((function(t){var n=t.theme;return Object(j.c)(r||(r=Object(v.a)(["\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n\n      font-family: 'Raleway', sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n\n      :focus {\n        outline: none;\n      }\n    }\n\n    html,\n    body,\n    #app-root {\n      width: 100%;\n      height: 100%;\n    }\n\n    body {\n      font-size: ",";\n      color: ",";\n      background-color: ",";\n      transition: color 0.4s, background-color 0.4s;\n    }\n\n    a {\n      color: ",";\n      text-decoration: none;\n    }\n\n    // Not a touch device\n    // Touch devices have nice scrollbars by default\n    @media (pointer: fine) {\n      // Underline stuff that is focused on non-touch devices\n      // makes keyboard navigation clearer\n      :focus {\n        text-decoration: underline;\n      }\n\n      ::-webkit-scrollbar {\n        height: 8px;\n        transition: all "," ease-in-out;\n\n        :hover {\n          background: ",";\n        }\n      }\n\n      /* Track */\n      ::-webkit-scrollbar-track {\n        background: transparent;\n      }\n\n      /* Handle */\n      :hover {\n        ::-webkit-scrollbar {\n          background: ",";\n        }\n      }\n\n      ::-webkit-scrollbar-thumb {\n        background: ",";\n        border-radius: 1000px;\n\n        :hover {\n          background: ",";\n        }\n      }\n    }\n  "])),n.fontSizes.content,n.colors.text,n.colors.backgroundColor,n.colors.accentColor,n.timings.transitionTime,n.colors.layerBg,n.colors.layerBg,n.colors.layerBg,n.colors.layerBgHighlight)})),N=e(3),P=j.d.div(c||(c=Object(v.a)(["\n  height: 100vh;\n  width: 100%;\n  display: grid;\n  place-items: center;\n  align-content: center;\n  padding: 30px;\n  background: ",";\n\n  > * {\n    margin-bottom: 10px;\n  }\n"])),(function(t){return t.theme.colors.backgroundColor}));function U(){var t=A[_];return Object(N.jsxs)(P,{theme:t,children:[Object(N.jsx)(I,{theme:t}),Object(N.jsx)(k.a,{src:y.a,alt:"Shironeko does not understand"}),Object(N.jsx)("h1",{children:"Sorry about that..."}),Object(N.jsx)(x.a,{theme:t})]})}var L,D=e(77),z=j.d.div(L||(L=Object(v.a)(["\n  height: 100%;\n  width: 100%;\n  display: grid;\n  place-items: center;\n"])));function G(){return Object(N.jsx)(z,{children:Object(N.jsx)(D.a,{})})}var H,M,B=e(30),F=e(67),W=j.d.div((function(t){var n=t.theme;return Object(j.c)(H||(H=Object(v.a)(["\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: ",";\n    background: ",";\n    padding: ",";\n    z-index: 100;\n  "])),n.colors.text,n.colors.layerBgSolid,n.dimensions.gutter)})),V=j.d.span(M||(M=Object(v.a)(["\n  height: min-content;\n"])));function K(){var t=Object(F.a)(S.f.COOKIES),n=Object(s.a)(t,2),e=n[0],r=n[1],c=Object(o.useCallback)((function(){return r(!0)}),[r]);return e?null:Object(N.jsxs)(W,{children:[Object(N.jsx)(V,{children:"This website uses cookies."}),Object(N.jsx)(B.d,{onClick:c,"aria-label":"Allow Cookies",children:"Okay"})]})}var q,Y=e(11),X=e(36),J=e(65),Q=e(89),$=e.n(Q),Z=e(43),tt=e(7);!function(t){t.SEARCH="r34_search"}(q||(q={}));var nt,et=e(28),rt=function(t){return function(n){return function(e){var r=t.getState();if(Object(Y.f)(r)&&(e.type===tt.b||e.type===tt.r)){var c=Object(Y.a)(r),o=Object(Y.s)(r),i=Object(Y.w)(r);Object(et.d)(function(t,n,e){return{id:q.SEARCH,payload:{active_tags:Object(Z.j)(t),page_number:n,preferences:e}}}(c,o,i))}n(e)}}},ct=e(9),ot=e.n(ct),it=e(18),at=function(t){return function(n){return function(){var e=Object(it.a)(ot.a.mark((function e(r){var c,o,i;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.type===tt.s&&(nt&&clearTimeout(nt),nt=setTimeout((function(){t.dispatch(Object(tt.J)())}),1e4)),r.type!==tt.h){e.next=6;break}return e.next=4,et.b();case 4:(c=e.sent)&&t.dispatch(Object(tt.O)(c));case 6:r.type===tt.o&&(o=t.getState(),i=o.preferences,et.g(i)),n(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ut=e(37),st=e(26),dt=(e(47),e(50)),ft=[{name:"source:*patreon*",posts:12711,types:[S.j.SOURCE]},{name:"source:*twitter*",posts:99927,types:[S.j.SOURCE]},{name:"source:*pixiv*",posts:185080,types:[S.j.SOURCE]}],lt=[{name:"rating:safe",posts:14293,types:[S.j.RATING]},{name:"rating:questionable",posts:219552,types:[S.j.RATING]},{name:"rating:explicit",posts:3821144,types:[S.j.RATING]}],bt=function(){function t(){Object(h.a)(this,t),this.target="live",this.version="v2",this.activeApi=void 0,this.setActiveApi()}return Object(O.a)(t,[{key:"setTarget",value:function(t){this.target=t,this.setActiveApi()}},{key:"setVersion",value:function(t){this.version=t,this.setActiveApi()}},{key:"setActiveApi",value:function(){var n=this;"local"===this.target?this.activeApi="".concat(t.apiLocal,"/").concat(this.version):(this.activeApi="".concat(t.apiUrl1,"/").concat(this.version),fetch(this.activeApi).catch((function(){return n.activeApi="".concat(t.apiUrl2,"/").concat(n.version)})))}},{key:"getTags",value:function(){var n=Object(it.a)(ot.a.mark((function n(e){var r,c,o,i,a,u,d=arguments;return ot.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:t.defaultPageSize,n.next=3,fetch("".concat(this.activeApi,"/tags?limit=").concat(r,"&name=").concat(e,"*&order_by=posts"));case 3:return n.next=5,n.sent.json();case 5:return c=n.sent,n.prev=6,n.next=9,Object(et.c)();case 9:(o=n.sent)&&(i=Object.entries(o).filter((function(t){var n=Object(s.a)(t,2),r=n[0];n[1];return r.toLowerCase().includes(e.toLowerCase())})).map((function(t){var n=Object(s.a)(t,2),e=n[0],r=n[1];return{name:e,count:Object.keys(r.tags).length,types:["supertag"]}})),c=[].concat(Object(ut.a)(i),Object(ut.a)(c))),n.next=15;break;case 13:n.prev=13,n.t0=n.catch(6);case 15:if(!e.startsWith("rating:")){n.next=18;break}return a=lt.filter((function(t){return t.name.includes(e.replace("rating:",""))})),n.abrupt("return",[].concat(Object(ut.a)(a),Object(ut.a)(c)));case 18:if(!e.startsWith("source:")){n.next=21;break}return u=ft.filter((function(t){return t.name.includes(e.replace("source:",""))})),n.abrupt("return",[].concat(Object(ut.a)(c),Object(ut.a)(u)));case 21:return n.abrupt("return",c);case 22:case"end":return n.stop()}}),n,this,[[6,13]])})));return function(t){return n.apply(this,arguments)}}()},{key:"getPosts",value:function(){var n=Object(it.a)(ot.a.mark((function n(e){var r,c,o,i,a,u,s,d,f,l,b=arguments;return ot.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=b.length>1&&void 0!==b[1]?b[1]:t.defaultPageSize,o=b.length>2&&void 0!==b[2]?b[2]:0,i=b.length>3&&void 0!==b[3]?b[3]:0,a=b.length>4&&void 0!==b[4]?b[4]:S.i.DATE,u=b.length>5&&void 0!==b[5]&&b[5],n.next=7,null===(r=st.a.auth().currentUser)||void 0===r?void 0:r.getIdToken();case 7:return s=n.sent,n.next=10,fetch(this.buildPostUrl(o,e,i,c,a,u),{headers:{Authorization:"Bearer "+s}});case 10:return n.next=12,n.sent.json();case 12:return d=n.sent,f=Number(d.count),l=d.posts.map((function(t){return Object(dt.a)(t)})),n.abrupt("return",{posts:l,count:f});case 16:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"getAliases",value:function(){var t=Object(it.a)(ot.a.mark((function t(n){var e;return ot.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this.activeApi,"/alias/").concat(encodeURIComponent(n)));case 2:return t.next=4,t.sent.json();case 4:return e=t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}()},{key:"buildPostUrl",value:function(n,e,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.defaultPageSize,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=Object.values(e),u=a.filter((function(t){return t.modifier!==S.c.OR})),s=a.filter((function(t){return t.modifier===S.c.OR})),d="".concat(this.activeApi,"/posts?pid=").concat(n,"&limit=").concat(c);i&&(d+="&hideSeen=true");var f=Object(ut.a)(u.map((function(t){return"".concat("-"===t.modifier?"-":"").concat(encodeURIComponent(t.name))})));return s.length>0&&f.push("( "+s.map((function(t){return encodeURIComponent(t.name)})).join(" ~ ")+" )"),r>0&&f.push(encodeURIComponent("score:>="+r)),o!==S.i.DATE&&f.push(encodeURIComponent("sort:"+o+":desc")),f.length>0&&(d+="&tags=".concat(f.join(" + "))),d}}]),t}();bt.defaultPageSize=20,bt.apiLocal="http://localhost:8080",bt.apiUrl1="https://r34-json.herokuapp.com",bt.apiUrl2="https://r34-api-clone.herokuapp.com";var jt=new bt,ht=e(39),Ot=e(38);function pt(t){return new gt(t.created_at,t.body,t.creator,t.id,t.creator_id)}var gt=function t(n,e,r,c,o){Object(h.a)(this,t),this.created_at=void 0,this.body=void 0,this.creator=void 0,this.id=void 0,this.creator_id=void 0,this.created_at=Date.parse(n),this.body=e,this.creator=r,this.id=Number(c),this.creator_id=Number(o)},mt=function(t){return function(n){return function(){var e=Object(it.a)(ot.a.mark((function e(r){var c,o,i,a,u,s,d,f,l,b,j,h,O,p,g,m,v,x,y,k,S,C,w,E,T,R;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.getState(),o=Object(Y.k)(c),r.type!==tt.k){e.next=12;break}return i=Object(Y.a)(c),a=Object(Y.t)(c),u=Object(Y.o)(c),s=Object(Y.C)(c),d=Object(Y.l)(c),e.next=10,jt.getPosts(i,a,r.pageNumber,u,s,d);case 10:f=e.sent,t.dispatch(Object(tt.M)(f.posts,f.count,r.pageNumber));case 12:if(r.type!==tt.j||!o){e.next=24;break}return l=Object(Y.a)(c),b=Object(Y.s)(c),j=Object(Y.t)(c),h=Object(Y.o)(c),O=Object(Y.C)(c),p=Object(Y.l)(c),console.log("hide seen",p),e.next=22,jt.getPosts(l,j,b+1,h,O,p);case 22:g=e.sent,t.dispatch(Object(tt.w)(g.posts));case 24:if(r.type!==tt.c){e.next=37;break}return v=Object(Y.a)(c),e.next=28,jt.getAliases(r.tag.name);case 28:if(x=e.sent,y=x.sort((function(t,n){return(n.posts||n.count||0)-(t.posts||t.count||0)})).filter((function(t){return!(t.name in v)})).map((function(t){return new ht.a(t.name,[],t.posts)})),t.dispatch(Object(tt.v)(y,r.tag.name)),0!==(null===(m=r.tag.types)||void 0===m?void 0:m.length)){e.next=37;break}return e.next=34,jt.getTags(r.tag.name);case 34:k=e.sent,(S=k.find((function(t){return t.name===r.tag.name})))&&(r.tag.types=S.types,r.tag.count=S.posts);case 37:if(r.type===tt.l&&fetch("https://rule34.xxx/index.php?page=post&s=vote&id=".concat(r.postId,"&type=up"),{mode:"no-cors"}).then((function(){})).catch((function(t){console.warn("Upvote rejected",t)})),r.type!==tt.i){e.next=44;break}return C=Object(Y.F)(c),e.next=42,jt.getTags(Object(Ot.h)(r.value),C);case 42:w=e.sent,t.dispatch(Object(tt.P)(w));case 44:if(r.type!==tt.g){e.next=54;break}if(!(E=Object(Y.u)(r.postId)(c))){e.next=54;break}return e.next=49,fetch(E.comments_url);case 49:return e.next=51,e.sent.json();case 51:T=e.sent,R=T.map(pt),t.dispatch(Object(tt.K)(r.postId,R));case 54:n(r);case 55:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},vt=e(90),xt=Object(vt.composeWithDevTools)(Object(X.applyMiddleware)(rt,mt,at)),yt=e(21),kt={rated:!1,ratedThreshold:1,originals:!1,cookies:!1,preloadVideos:!1,tagSuggestionsCount:20,resultsLayout:S.g.INFINITE_COLUMN,pageSize:20,useCorsProxy:!1,showMetadata:!1,showComments:!1,sort:S.i.DATE,themeId:S.k.DARK,autoPlay:!1,hideSeen:!1};function St(t,n,e){return Object(yt.a)(t,(function(t){t[n]=e}))}function Ct(t,n){return Object(yt.a)(t,(function(t){Object.assign(t,n)}))}var wt,Et,Tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case tt.s:return St(t,n.key,n.value);case tt.t:return Ct(t,n.preferences);default:return t}},Rt={posts:[],pageNumber:0,count:0},At=function(t,n){return Object(yt.a)(t,(function(e){e.posts=[].concat(Object(ut.a)(t.posts),Object(ut.a)(n)),e.pageNumber=t.pageNumber+1}))},_t=function(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(yt.a)(t,(function(t){t.posts=n,t.count=e,t.pageNumber=r}))},It=function(t,n,e){return Object(yt.a)(t,(function(r){var c=t.posts.findIndex((function(t){return t.id===n}));c>=0&&(r.posts[c].comments=e)}))},Nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case tt.b:return At(t,n.posts);case tt.r:return _t(t,n.posts,n.count,n.pageNumber);case tt.p:return It(t,n.postId,n.comments);default:return t}},Pt={active:{},aliases:{}},Ut=function(t,n){return Object(yt.a)(t,(function(e){e.active[n.name]=Object(C.a)(Object(C.a)({},t.active[n.name]),n)}))},Lt=function(t,n,e){return Object(yt.a)(t,(function(t){t.aliases[e]=n}))},Dt=function(t,n){return Object(yt.a)(t,(function(t){delete t.active[n.name],delete t.aliases[n.name]}))},zt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case tt.c:return Ut(t,n.tag);case tt.n:return Dt(t,n.tag);case tt.a:return Lt(t,n.aliases,n.forTag);default:return t}},Gt={isEnabled:!1,postId:0},Ht=function(t,n){return Object(yt.a)(t,(function(t){t.isEnabled=!0,t.postId=n}))},Mt=function(t){return Object(yt.a)(t,(function(t){t.isEnabled=!1}))},Bt=function(t,n){return Object(yt.a)(t,(function(t){t.postId=n}))},Ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case tt.e:return Ht(t,n.postId);case tt.q:return Bt(t,n.postId);case tt.f:return Mt(t);default:return t}},Wt={},Vt=function(t,n){return Object(yt.a)(t,(function(e){n in t||(e[n]=Date.now())}))},Kt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case tt.l:return Vt(t,n.postId);default:return t}},qt={openModal:null},Yt=function(t,n){return Object(yt.a)(t,(function(t){t.openModal=n}))},Xt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case tt.m:return Yt(t,n.modalId);case tt.d:return Yt(t,null);default:return t}},Jt={entries:[]},Qt=function(t,n){return Object(yt.a)(t,(function(t){t.entries=n}))},$t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case tt.u:return Qt(t,n.suggestions);default:return t}},Zt=Object(X.combineReducers)({tags:zt,results:Nt,preferences:Tt,reader:Ft,likes:Kt,suggestions:$t,modals:Xt}),tn=Object(Z.f)(),nn={key:"appstate",version:Object(Z.k)(tn),storage:$.a},en=Object(J.a)(nn,Zt),rn=Object(X.createStore)(en,xt),cn=Object(J.b)(rn),on=e(10),an=e(59),un=e(52),sn=e(42),dn=e(68),fn=Object(j.d)(un.a)((function(t){var n=t.theme;return Object(j.c)(wt||(wt=Object(v.a)(["\n    padding: ",";\n    ",";\n  "])),n.dimensions.hugeSpacing,Object(on.m)(n.dimensions.hugeSpacing))})),ln=Object(j.d)(an.a)(Et||(Et=Object(v.a)(["\n  flex-grow: 1;\n"])));function bn(){return document.title="R34 React - Terms of Service",Object(N.jsxs)(an.b,{children:[Object(N.jsx)(dn.a,{}),Object(N.jsxs)(ln,{children:[Object(N.jsx)(sn.d,{children:"Terms of Service"}),Object(N.jsxs)(fn,{children:[Object(N.jsx)("p",{children:"This website does not impose any additional terms on you. However, terms for the technologies this app uses still apply. Therefore, you should read the following terms."}),Object(N.jsx)("a",{href:"https://policies.google.com/terms",children:"Google - Privacy & Terms"}),Object(N.jsx)("a",{href:"https://rule34.xxx/tos.php",children:"Rule34 - Terms of Serivce"}),Object(N.jsx)(sn.b,{children:'If you have any questions feel free to contact me via Discord. See "about" section.'})]})]})]})}var jn,hn,On,pn=e(54),gn=e(45),mn=e(74),vn=e(80),xn=j.d.div(jn||(jn=Object(v.a)(["\n  position: fixed;\n  display: grid;\n  place-items: center;\n\n  bottom: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  padding: 20px;\n\n  z-index: 1000;\n\n  background: #000000d0;\n"]))),yn=Object(j.d)(un.a)(hn||(hn=Object(v.a)(["\n  max-width: 500px;\n  background-color: ",";\n"])),(function(t){return t.theme.colors.layerBgSolid})),kn=j.d.input((function(t){var n=t.theme;return Object(j.c)(On||(On=Object(v.a)(["\n    ","\n    background-color: ",";\n    ","\n    text-align: left;\n  "])),on.e,n.colors.backgroundColor2,on.d)}));function Sn(t){var n=t.onClose,e=Object(o.useState)(""),r=Object(s.a)(e,2),c=r[0],i=r[1],a=Object(o.useState)(""),u=Object(s.a)(a,2),f=u[0],l=u[1],b=Object(d.c)(Y.a),j=Object.entries(b).reduce((function(t,n){var e=Object(s.a)(n,2),r=e[0],c=e[1];return Object(C.a)(Object(C.a)({},t),{},{[r]:c.modifier})}),{}),h=Object(o.useCallback)((function(){Object(et.a)(c,f,j),n()}),[f,c,n,j]);return Object(N.jsx)(xn,{onClick:n,children:Object(N.jsxs)(yn,{onClick:function(t){return t.stopPropagation()},children:[Object(N.jsx)(sn.d,{children:"Create Supertag"}),Object(N.jsx)(gn.a,{}),Object(N.jsx)(kn,{type:"text",placeholder:"Name",value:c,onChange:function(t){return i(t.target.value)}}),Object(N.jsx)(kn,{type:"text",placeholder:"Description",value:f,onChange:function(t){return l(t.target.value)}}),Object(N.jsx)(mn.a,{}),Object(N.jsx)(vn.a,{}),Object(N.jsx)(B.b,{onClick:h,children:"Create"})]})})}var Cn=e(70),wn=i.a.lazy((function(){return e.e(5).then(e.bind(null,147))})),En=i.a.lazy((function(){return Promise.all([e.e(3),e.e(4)]).then(e.bind(null,146))})),Tn=i.a.lazy((function(){return e.e(6).then(e.bind(null,144))})),Rn=i.a.lazy((function(){return e.e(7).then(e.bind(null,145))}));function An(){return Object(N.jsx)(m,{fallback:Object(N.jsx)(U,{}),children:Object(N.jsx)(d.a,{store:rn,children:Object(N.jsx)(b.a,{loading:Object(N.jsx)(G,{}),persistor:cn,children:Object(N.jsx)(_n,{})})})})}function _n(){var t=Object(d.b)(),n=Object(d.c)(Y.b),e=Object(d.c)(Y.E),r=Object(pn.a)(),c=Object(s.a)(r,1)[0],i=Object(Cn.a)(tt.y);return Object(o.useEffect)((function(){c&&t(Object(tt.C)())}),[t,c]),Object(N.jsxs)(j.a,{theme:A[n]||_,children:[Object(N.jsx)(I,{}),Object(N.jsxs)(f.a,{children:[Object(N.jsx)(o.Suspense,{fallback:Object(N.jsx)(G,{}),children:Object(N.jsxs)(l.c,{children:[Object(N.jsx)(l.a,{exact:!0,path:S.h.SETTINGS,children:Object(N.jsx)(wn,{})}),Object(N.jsx)(l.a,{exact:!0,path:S.h.ABOUT,children:Object(N.jsx)(Tn,{})}),Object(N.jsx)(l.a,{exact:!0,path:S.h.PRIVACY,children:Object(N.jsx)(Rn,{})}),Object(N.jsx)(l.a,{exact:!0,path:S.h.TERMS,children:Object(N.jsx)(bn,{})}),Object(N.jsx)(l.a,{path:S.h.SEARCH,children:Object(N.jsx)(En,{})})]})}),e&&Object(N.jsx)(Sn,{onClose:i}),Object(N.jsx)(K,{})]})]})}u.a.render(Object(N.jsx)(An,{}),document.getElementById("app-root"))}],[[114,1,2]]]);
//# sourceMappingURL=main.7122dc49.chunk.js.map