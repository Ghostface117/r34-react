(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{174:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var c=t(16),r=t(1);function a(e,n){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),i=a[0],s=a[1],o=Object(r.useCallback)((function(e){var n=Object(c.a)(e,1)[0];s(n.isIntersecting)}),[]);return Object(r.useEffect)((function(){var t=new IntersectionObserver(o,n||{threshold:1,root:null});return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[o,n,e]),[i]}},175:function(e,n,t){"use strict";t.d(n,"a",(function(){return Fe}));var c,r,a,i,s,o,u=t(16),l=t(1),d=t.n(l),b=t(32),f=t(11),j=t(4),h=t(3),O=Object(h.e)(c||(c=Object(j.a)(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n"]))),v=(Object(h.e)(r||(r=Object(j.a)(["\n  0% {\n    transform: rotate(0) scale(1);\n  }\n  60% {\n    transform: rotate(0) scale(1);\n  }\n  75% {\n    transform: rotate(0) scale(1.12);\n  }\n  80% {\n    transform: rotate(0) scale(1.1);\n  }\n  84% {\n    transform: rotate(-10deg) scale(1.1);\n  }\n  88% {\n    transform: rotate(10deg) scale(1.1);\n  }\n  92% {\n    transform: rotate(-10deg) scale(1.1);\n  }\n  96% {\n    transform: rotate(10deg) scale(1.1);\n  }\n  100% {\n    transform: rotate(0) scale(1);\n  }\n"]))),t(68));var m,g=h.d.input((function(e){var n=e.$controls,t=e.$accent,c=e.theme;return Object(h.c)(o||(o=Object(j.a)(["\n    ","\n    ","\n  "])),function(e){var n=e.$accent,t=e.theme;return Object(h.c)(s||(s=Object(j.a)(["\n    -webkit-appearance: none;\n    flex-grow: 1;\n    background: ",";\n    border-radius: 100px;\n    height: 6px;\n\n    &::-moz-range-progress {\n      background-color: ",";\n    }\n\n    &::-ms-fill-lower {\n      background-color: ",";\n    }\n  "])),(function(e){return e.theme.colors.layerBg}),n?t.colors.accentColor:t.colors.backgroundColor2,n?t.colors.accentColor:t.colors.backgroundColor2)}({$accent:t,theme:c}),function(e){var n=e.$controls,t=e.theme,c=Object(h.c)(a||(a=Object(j.a)(["\n    height: 16px;\n    width: 16px;\n    border-radius: 100px;\n    background: ",";\n    cursor: pointer;\n  "])),n?t.colors.backgroundColor2:"transparent");return Object(h.c)(i||(i=Object(j.a)(["\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      ","\n    }\n\n    &::-moz-range-thumb {\n      ","\n    }\n\n    &::-ms-thumb {\n      ","\n    }\n  "])),c,c,c)}({$controls:n,theme:c}))})),p=t(2),x=t(12),w=h.d.svg(m||(m=Object(j.a)(["\n  > rect {\n    transition: all 0.2s ease-in;\n  }\n\n  &.play {\n    .left {\n      clip-path: path('M1.61 0 L10.1 4.9 L10.1 19.1 L1.61 24');\n    }\n\n    .right {\n      clip-path: path('M22.39 12 L9.9 4.79 L9.9 19.21 L22.39 12');\n    }\n  }\n\n  &.pause {\n    .left {\n      clip-path: path('M4.8 0 L10 0 L10 24 L4.8 24');\n    }\n\n    .right {\n      clip-path: path('M19.2 0 L14 0 L14 24 L19.2 24');\n    }\n  }\n"])));var k,S=t(18),C=t(25),F=t(29),y=t(5),E=t(34),L=Object(h.d)(E.c)((function(e){var n=e.theme;return Object(h.c)(k||(k=Object(j.a)(["\n    grid-area: 1/1/2/2;\n    place-self: start start;\n    ","\n    padding: ",";\n    cursor: pointer;\n  "])),x.e,n.dimensions.gutter)}));function P(e){var n=e.index,t=Object(S.b)(),c=Object(C.f)(),r=d.a.useCallback((function(e){e.stopPropagation(),c.goBack()}),[c]),a=d.a.useCallback((function(e){e.stopPropagation(),t(Object(y.K)(n)),c.push(b.c.STORIES)}),[t,c,n]);return c.location.pathname===b.c.STORIES?Object(p.jsx)(L,{onClick:r,"aria-label":"Exit fullscreen",title:"Exit fullscreen",children:Object(p.jsx)(F.g,{color:"white"})}):Object(p.jsx)(L,{onClick:a,"aria-label":"Enter fullscreen",title:"Enter fullscreen",children:Object(p.jsx)(F.m,{color:"white"})})}var A,T,V,I=t(54),N=h.d.div((function(e){e.theme;return Object(h.c)(A||(A=Object(j.a)(["\n    grid-area: 3/1/4/2;\n    ","\n    place-self: end start;\n    place-items: start center;\n  "])),x.k)})),$=h.d.a((function(e){var n=e.theme;return Object(h.c)(T||(T=Object(j.a)(["\n    padding: ",";\n    cursor: pointer;\n    ","\n\n    svg {\n      transition: all "," ease-out;\n    }\n\n    :active {\n      svg {\n        transform: scale(1.1);\n      }\n    }\n  "])),n.dimensions.gutter,Object(x.e)({theme:n}),n.timings.transitionTime)})),M=Object(h.d)(E.c)(V||(V=Object(j.a)(["\n  cursor: pointer;\n"])));function R(e){var n=e.fullSrc,t=d.a.useCallback((function(e){e.stopPropagation(),Object(I.b)(n)}),[n]);return Object(p.jsxs)(N,{children:[Object(p.jsx)($,{href:n,target:"_blank",rel:"noopener noreferrer","aria-label":"Open In New Tab",title:n,children:Object(p.jsx)(F.n,{color:"white",title:"Open image in new tab"})}),Object(p.jsx)(M,{"aria-label":"Download Image",onClick:t,title:n,children:Object(p.jsx)(F.l,{color:"white"})})]})}var q,D,z,B,J,K,G,_,H,Q=t(13);var U=h.d.div(z||(z=Object(j.a)(["\n  grid-area: 1/1/2/2;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: auto 1fr auto auto;\n  z-index: 1;\n\n  ",";\n"])),(function(e){return e.isVisible?Object(h.c)(q||(q=Object(j.a)([""]))):Object(h.c)(D||(D=Object(j.a)(["\n        opacity: 0;\n        animation: "," 0.4s ease-in;\n      "])),O)})),W=Object(h.d)((function(e){var n=e.isPaused,t=e.videoRef,c=e.className,r=e.onChange,a=e.onEnded,i=d.a.useRef(null),s=Object(h.f)(),o=Object(l.useCallback)((function(e){var n=Number(e.target.value);r(n)}),[r]),u=Object(l.useCallback)((function(e){e.stopPropagation()}),[]);return d.a.useEffect((function(){if(a&&t)return t.addEventListener("ended",a),function(){return t.removeEventListener("ended",a)}})),d.a.useEffect((function(){if(!n){var e;return e=requestAnimationFrame((function n(){if((null===i||void 0===i?void 0:i.current)&&t){i.current.value=t.currentTime.toString();var c=Math.round(t.currentTime/t.duration*100);i.current.style.backgroundImage="linear-gradient(90deg, ".concat(s.colors.accentColor," ").concat(c,"%, transparent ").concat(c,"%)")}e=requestAnimationFrame(n)})),function(){cancelAnimationFrame(e)}}}),[n,s.colors.accentColor,s.colors.backgroundColor2,t]),Object(p.jsx)(g,{ref:i,type:"range",step:.034,min:0,max:(null===t||void 0===t?void 0:t.duration)||0,onChange:o,className:c,onClick:u,$controls:!0,$accent:!0})}))((function(e){var n=e.theme;return Object(h.c)(B||(B=Object(j.a)(["\n    grid-area: 4/1/4/4;\n    margin: ",";\n  "])),n.dimensions.gutter)})),X=Object(h.d)((function(e){var n=e.onFinished,t=void 0===n?b.b:n,c=e.isActive,r=Object(S.b)(),a=d.a.useState(!1),i=Object(u.a)(a,2),s=i[0],o=i[1],l=d.a.useCallback((function(e){return r(Object(y.K)(e))}),[r]),f=1e3*Object(S.c)(Q.f),j=d.a.useRef(null);return d.a.useEffect((function(){var e=function(){return o(!0)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}})),d.a.useEffect((function(){var e=function(){return o(!1)};return document.addEventListener("mouseup",e),document.addEventListener("touchend",e),function(){document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)}})),d.a.useEffect((function(){if(!s&&c){var e,n=(new Date).getTime();return e=requestAnimationFrame((function c(){if(j.current){var r=(new Date).getTime(),a=Number(j.current.value)+(r-n);n=r,j.current.value=a.toString();var i=Math.round(a/f*100);j.current.style.backgroundImage="linear-gradient(90deg, #ffffff80 ".concat(i,"%, transparent ").concat(i,"%)"),a>=Number(j.current.max)?(t(),j.current&&(j.current.value="0")):e=requestAnimationFrame(c)}})),function(){cancelAnimationFrame(e)}}}),[f,c,s,t,e.index,l]),Object(p.jsx)(g,{ref:j,type:"range",step:.034,min:0,max:f,onChange:b.b,onClick:b.b,$controls:!1,$accent:!1,className:e.className})}))((function(e){var n=e.theme;return Object(h.c)(J||(J=Object(j.a)(["\n    grid-area: 4/1/4/4;\n    margin: ",";\n  "])),n.dimensions.gutter)})),Y=Object(h.d)((function(e){var n=e.onClick,t=e.className,c=void 0===t?"":t,r=e.isPaused;return Object(p.jsxs)(w,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",onClick:n,className:"".concat(c," ").concat(r?"play":"pause"),children:[Object(p.jsx)("rect",{className:"left",color:"currentColor",x:"0",y:"0",width:"24",height:" 24"}),Object(p.jsx)("rect",{className:"right",color:"currentColor",x:"0",y:"0",width:"24",height:" 24"})]})}))(K||(K=Object(j.a)(["\n  height: 50px;\n  width: 50px;\n  grid-area: 2/2/3/3;\n  place-self: center center;\n  cursor: pointer;\n  fill: white;\n  ","\n"])),x.e),Z=h.d.span((function(e){return Object(h.c)(G||(G=Object(j.a)(["\n    grid-area: 3/3/4/4;\n    place-self: end end;\n    background: #00000080;\n    color: white;\n    border-radius: 4px;\n    padding: ",";\n    margin: ",";\n  "])),e.theme.dimensions.spacing,e.theme.dimensions.gutter)})),ee=h.d.div(_||(_=Object(j.a)(["\n  display: grid;\n  grid-area: 2/3/3/4;\n  place-items: center;\n  opacity: 0;\n"]))),ne=h.d.div(H||(H=Object(j.a)(["\n  display: grid;\n  grid-area: 2/1/3/2;\n  place-items: center;\n  opacity: 0;\n"])));function te(e){var n=e.index,t=e.fullSrc,c=e.isFullscreen,r=e.isActive,a=e.onFinished;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P,{index:n}),Object(p.jsx)(R,{fullSrc:t}),c&&Object(p.jsx)(X,{index:n,onFinished:a,isActive:r})]})}function ce(e){var n=e.fullSrc,t=e.isPaused,c=e.index,r=e.onTogglePaused,a=e.isFullscreen,i=e.isActive,s=e.onFinished;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P,{index:c}),Object(p.jsx)(R,{fullSrc:n}),Object(p.jsx)(Y,{isPaused:t,onClick:r,"aria-label":"Play/Pause"}),a&&Object(p.jsx)(X,{index:c,isPaused:t,onFinished:s,isActive:i}),Object(p.jsx)(Z,{children:"GIF"})]})}function re(e){var n=e.fullSrc,t=e.isPaused,c=e.index,r=e.onTogglePaused,a=e.onSeek,i=e.duration,s=e.videoRef,o=e.isActive,u=e.onFinished,d=Object(l.useCallback)((function(e){e.preventDefault(),s&&a(s.currentTime+10)}),[a,s]),b=Object(l.useCallback)((function(e){e.preventDefault(),s&&a(s.currentTime-10)}),[a,s]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P,{index:c}),Object(p.jsx)(R,{fullSrc:n}),Object(p.jsx)(ne,{onDoubleClick:b,children:Object(p.jsx)(F.c,{tabIndex:0})}),Object(p.jsx)(Y,{isPaused:t||!o,onClick:r,"aria-label":"Play/Pause"}),Object(p.jsx)(ee,{onDoubleClick:d,children:Object(p.jsx)(F.p,{tabIndex:0})}),Object(p.jsx)(Z,{children:Object(v.c)(i)}),Object(p.jsx)(W,{isPaused:t||!o,videoRef:s,onChange:a,onEnded:u})]})}function ae(e){switch(e.type){case"image":return Object(p.jsx)(te,Object(f.a)({},e));case"gif":return Object(p.jsx)(ce,Object(f.a)({},e));case"video":return Object(p.jsx)(re,Object(f.a)({},e))}}function ie(e){var n=e.isVisible,t=e.setVisible,c=d.a.useCallback((function(){return t(!n)}),[n,t]);return Object(p.jsx)(U,{isVisible:n,onClick:c,"data-testid":"overlay-wrapper",children:ae(e)})}var se,oe,ue,le=t(78),de=h.d.video(se||(se=Object(j.a)(["\n  ","\n  ","\n  grid-area: 1/1/2/2;\n"])),x.i,x.q),be=Object(h.d)(de)(oe||(oe=Object(j.a)(["\n  ","\n"])),x.p),fe=Object(h.d)(le.a)(ue||(ue=Object(j.a)(["\n  ","\n"])),x.p);function je(e){var n=e.viewSrc,t=e.fullSrc,c=e.index,r=e.onLoad,a=void 0===r?b.b:r,i=e.width,s=e.height,o=e.isFullscreen,u=e.isActive,l=e.onFinished;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(fe,{"data-testid":"image",src:n,alt:n,onLoad:a,loading:"lazy",width:i,height:s}),Object(p.jsx)(ie,{type:"image",fullSrc:t,index:c,isVisible:!0,setVisible:b.b,isFullscreen:o,onFinished:l,isActive:u})]})}var he,Oe,ve=t(9),me=t.n(ve),ge=t(19),pe=t(174),xe=!1,we=[];function ke(e){var n=d.a.useState(!1),t=Object(u.a)(n,2),c=t[0],r=t[1],a=Object(S.c)(Q.e),i=Object(pe.a)(e),s=Object(u.a)(i,1)[0],o=function(){var e=d.a.useState(xe),n=Object(u.a)(e,2),t=n[0],c=n[1];return void 0===he&&(he=function(e){xe=!0,we.forEach((function(e){return e(xe)})),Oe&&clearTimeout(Oe),Oe=setTimeout((function(){xe=!1,we.forEach((function(e){return e(xe)}))}),500)},document.addEventListener("scroll",he,{passive:!0})),d.a.useEffect((function(){return we.push(c),c(xe),function(){0===(we=we.filter((function(e){return e!==c}))).length&&he&&(document.removeEventListener("scroll",he),he=void 0)}}),[]),t}();return d.a.useEffect((function(){a&&s&&!o&&r(!0)}),[a,s,o]),d.a.useEffect((function(){s||r(!1)}),[s]),c}function Se(e){var n=e.viewSrc,t=e.thumbnailSrc,c=e.fullSrc,r=e.onLoad,a=void 0===r?b.b:r,i=e.index,s=e.width,o=e.height,f=e.detailsVisible,j=e.isFullscreen,h=e.onFinished,O=e.isActive,v=d.a.useState(!0),m=Object(u.a)(v,2),g=m[0],x=m[1],w=Object(l.useState)(!1),k=Object(u.a)(w,2),C=k[0],F=k[1],y=Object(l.useState)(null),E=Object(u.a)(y,2),L=E[0],P=E[1],A=Object(S.c)(Q.e),T=ke(L),V=Object(S.c)(Q.x),I=C?n:t,N=d.a.useCallback(Object(ge.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(!0);case 1:case"end":return e.stop()}}),e)}))),[]),$=d.a.useCallback((function(){F(!1)}),[]),M=d.a.useCallback((function(e){e.stopPropagation(),C?F(!1):(F(!0),x(!1))}),[C]);return d.a.useEffect((function(){A&&T&&F(!0),T||F(!1)}),[T,$,N,A]),Object(l.useEffect)((function(){V&&((new Image).src=n)})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(fe,{"data-testid":"gif",ref:P,src:I,alt:I,loading:"lazy",onLoad:a,width:s,height:o}),Object(p.jsx)(ie,{isVisible:!C||g||f,setVisible:x,type:"gif",fullSrc:c,index:i,isPaused:!C,onTogglePaused:M,isFullscreen:j,onFinished:h,isActive:O})]})}function Ce(e){var n=e.viewSrc,t=e.fullSrc,c=e.onLoad,r=void 0===c?b.b:c,a=e.index,i=e.width,s=e.height,o=e.detailsVisible,f=e.isFullscreen,j=e.isActive,h=e.onFinished,O=Object(l.useState)(!1),v=Object(u.a)(O,2),m=v[0],g=v[1],x=d.a.useState(!0),w=Object(u.a)(x,2),k=w[0],C=w[1],F=Object(l.useState)(null),y=Object(u.a)(F,2),E=y[0],L=y[1],P=ke(E),A=Object(S.c)(Q.y)?"auto":"metadata",T=Object(S.c)(Q.e),V=d.a.useCallback(Object(ge.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===E||void 0===E?void 0:E.paused)){e.next=10;break}return e.prev=1,e.next=4,E.play();case 4:g(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.message.includes("user didn't interact with the document first")?console.warn("Autoplay failed because the user did not interact with the page first:",e.t0):e.t0.message.includes("play() request was interrupted by a call to pause()")?console.warn("Play was interrupted by pause",e.t0):console.error("Failed to start video:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),[E]),I=d.a.useCallback((function(){if(!(null===E||void 0===E?void 0:E.paused))try{null===E||void 0===E||E.pause(),g(!1)}catch(e){console.error("Failed to start video:",e)}}),[E]),N=d.a.useCallback((function(e){E&&(E.currentTime=e)}),[E]),$=d.a.useCallback((function(e){e.stopPropagation(),E&&(E.paused?(V(),C(!1)):I())}),[I,V,E]);return d.a.useEffect((function(){T&&P&&V(),P||I()}),[P,I,V,T]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(be,{"data-testid":"video",controls:!1,loop:!f,preload:A,ref:L,onLoadedMetadata:r,width:i,height:s,src:n}),Object(p.jsx)(ie,{type:"video",index:a,fullSrc:t,isPaused:!m,duration:(null===E||void 0===E?void 0:E.duration)||0,onTogglePaused:$,onSeek:N,videoRef:E,isVisible:!m||o||k,setVisible:C,isFullscreen:f,onFinished:h,isActive:j})]})}function Fe(e){var n=e.type,t=e.thumbnailSrc,c=e.sampleSrc,r=e.fullSrc,a=e.index,i=e.onLoad,s=e.width,o=e.height,l=e.detailsVisible,b=e.isFullscreen,f=void 0!==b&&b,j=e.onFinished,h=e.isActive,O=void 0!==h&&h,v=function(e,n,t,c){var r=Object(S.c)(Q.q);return d.a.useMemo((function(){switch(e){case"image":return r?["",c]:["",t];case"gif":return t.includes(".gif")?[n,t]:[t,c];case"video":return r?[n,c]:[n,t]}}),[c,r,t,n,e])}(n,t,c,r),m=Object(u.a)(v,2),g=m[0],x=m[1];switch(n){case"image":return Object(p.jsx)(je,{viewSrc:x,fullSrc:r,onLoad:i,index:a,width:s,height:o,isFullscreen:f,onFinished:j,isActive:O});case"gif":return Object(p.jsx)(Se,{detailsVisible:l,viewSrc:x,thumbnailSrc:g,fullSrc:r,onLoad:i,index:a,width:s,height:o,isFullscreen:f,onFinished:j,isActive:O});case"video":return Object(p.jsx)(Ce,{detailsVisible:l,viewSrc:x,thumbnailSrc:g,fullSrc:r,onLoad:i,index:a,width:s,height:o,isFullscreen:f,onFinished:j,isActive:O})}}}}]);
//# sourceMappingURL=0.04360531.chunk.js.map