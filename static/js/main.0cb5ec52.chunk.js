(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{21:function(e,n,t){e.exports=t(37)},26:function(e,n,t){},31:function(e,n,t){},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(14),i=t.n(c),o=(t(26),t(3)),u=t(2),l=t(1);function s(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: lighter;\n  text-align: center;\n  margin: 0;\n"]);return s=function(){return e},e}function f(){var e=Object(u.a)(["\n  font-size: 24px;\n  font-weight: lighter;\n  margin: 0;\n  text-align: center;\n"]);return f=function(){return e},e}var p=l.b.h2(f()),m=l.b.h1(s()),d="#ffffff11; :hover { background: #ffffff16;} transition: background-color 0.4s ease-in-out",b="box-shadow: 0 0 8px rgba(0, 0, 0, 1)";function h(){var e=Object(u.a)(["\n  width: 100%;\n  height: 1px;\n  background: ",";\n"]);return h=function(){return e},e}function g(){var e=Object(u.a)(["\n  padding: ",";\n  background: ",";\n  ",";\n  border-radius: ",";\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return g=function(){return e},e}var v=l.b.div(g(),"8px",d,b,"3px","8px"),E=l.b.div(h(),d),O=t(20),x=t(4),y=t.n(x),j="https://r34-json.herokuapp.com";fetch(j).catch((function(){return j="https://r34-api-clone.herokuapp.com"}));var w=function(e){var n;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(fetch(j+"/tags?limit=20&name="+e+"*&order_by=posts"));case 2:return n=t.sent,t.next=5,y.a.awrap(n.json());case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}))},k=function(e){var n,t,r,a=arguments;return y.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,t=a.length>2&&void 0!==a[2]?a[2]:0,c.next=4,y.a.awrap(fetch(S(n,e,t)));case 4:return r=c.sent,c.next=7,y.a.awrap(r.json());case 7:return c.abrupt("return",c.sent);case 8:case"end":return c.stop()}}))},T=function(e){var n;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.awrap(fetch(j+"/alias/"+e));case 2:return n=t.sent,t.next=5,y.a.awrap(n.json());case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}))};function S(e,n,t){var r=j+"/posts";return r+="?pid="+e,r+="&limit=20",r+="&tags="+n.map((function(e){return("-"===e.modifier?"-":"")+encodeURIComponent(e.name)})).join("+"),t>0&&(r+="+"+encodeURIComponent("score:>="+t)),r}var _=t(7),C=function e(n,t,r,a,c,i,o,u,l,s,f,p,m,d,b,h,g,v,E,O,x){Object(_.a)(this,e),this.id=n,this.score=t,this.rating=r,this.source=a,this.tags=c,this.media_type=i,this.small_src=o,this.big_src=u,this.thumbnail_src=l,this.width=s,this.height=f,this.creator_id=p,this.creator_url=m,this.status=d,this.parent_id=b,this.has_children=h,this.has_comments=g,this.comments_url=v,this.has_notes=E,this.created_at=O,this.change=x},N=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"+";Object(_.a)(this,e),this.name=n,this.types=t,this.count=r,this.modifier=a},z=function(e){return e.name?function(e){var n=e.name,t=e.types,r=e.count,a=e.modifier;return new N(n,t,Number(r),a)}(e):function(e){var n=e.id,t=e.type,r=e.score,a=e.rating,c=e.source,i=e.tags,o=e.file_url,u=e.width,l=e.height,s=e.creator_id,f=e.creator_url,p=e.sample_url,m=e.preview_url,d=e.status,b=e.parent_id,h=e.has_children,g=e.has_comments,v=e.comments_url,E=e.has_notes,O=e.created_at,x=e.change;return new C(Number(n),Number(r),a,c,i?i.map((function(e){return new N(e)})):[],t,p,o,m,Number(u),Number(l),Number(s),f,d,b,h,g,v,E,O,x)}(e)};function F(){var e=Object(u.a)(["\n  min-width: 48px;\n  border: "," "," solid;\n  border-right-width: 0;\n  border-radius: "," 0 0 ",";\n"]);return F=function(){return e},e}function I(){var e=Object(u.a)(["\n  border-left-width: 0;\n  border-radius: 0 "," "," 0;\n"]);return I=function(){return e},e}function P(){var e=Object(u.a)(["\n  width: 100%;\n  border-radius: ",";\n"]);return P=function(){return e},e}function A(){var e=Object(u.a)(["\n  height: 32px;\n  font-size: 14px;\n  color: ",";\n  background: ",";\n  border: "," "," solid;\n\n  transition: border-color 0.4s ease-in-out;\n  transition: color 0.4s ease-in-out;\n  transition: background-color 0.4s ease-in-out;\n\n  :hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  :active,\n  :focus {\n    color: ",";\n\n    border-color: ",";\n    cursor: pointer;\n  }\n"]);return A=function(){return e},e}function R(){var e=Object(u.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  filter: drop-shadow(0 0 10px black);\n"]);return R=function(){return e},e}function D(){var e=Object(u.a)(["\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  margin: 10px;\n  padding: 5px 5px;\n  filter: drop-shadow(0 0 10px black);\n"]);return D=function(){return e},e}function U(){var e=Object(u.a)(["\n  color: ",";\n"]);return U=function(){return e},e}function G(){var e=Object(u.a)(["\n  background: none;\n  border: none;\n  padding: ",";\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return G=function(){return e},e}function M(){var e=Object(u.a)(["\n  font-size: 14px;\n\n  :focus {\n    outline: none;\n  }\n"]);return M=function(){return e},e}var q=l.b.button(M()),L=Object(l.b)(q)(G(),"4px"),B=Object(l.b)(L)(U(),(function(e){return e.active?"crimson":"white"})),V=Object(l.b)(L)(D()),W=Object(l.b)(L)(R()),H=Object(l.b)(q)(A(),"crimson","#121212","crimson","2px","crimson","#121212","white","white"),K=Object(l.b)(H)(P(),"3px"),J=Object(l.b)(H)(I(),"3px","3px"),$=Object(l.b)(L)(F(),"crimson","2px","3px","3px");function Y(e){var n=e.type,t=e.children,r=e.onClick,c=e.active,i=e.disabled,o=e.label,u=function(e){switch(e){case"invisible":return L;case"block":return K;case"topLeft":return V;case"center":return W;case"modifier":return $;case"add":return J;case"menu":return B;default:return H}}(n);return a.a.createElement(u,{onClick:r,active:c,disabled:i,"aria-label":o},t)}function Q(){var e=Object(u.a)(["\n  width: 100%;\n  border: none;\n  outline: none;\n  background: none;\n  font-size: 14px;\n  border-top: "," "," solid;\n  border-bottom: "," "," solid;\n"]);return Q=function(){return e},e}var X=l.b.input(Q(),"crimson","2px","crimson","2px");function Z(e){var n=e.value,t=e.setValue;return a.a.createElement(X,{id:"tag-input",value:n,onChange:function(e){return t(e.target.value)},placeholder:"Search for tags","aria-label":"Search"})}t(31);function ee(e){return e.replace(/_/g," ")}function ne(){var e=Object(u.a)(["\n  ","\n  ","\n"]);return ne=function(){return e},e}function te(){var e=Object(u.a)(["\n  display: inline-block;\n  padding: 0.25rem;\n  border-radius: ","\n  font-size: 14px;\n  line-height: 1.2;\n  vertical-align: baseline;\n  margin: ",";\n  ","\n"]);return te=function(){return e},e}var re=l.b.div(te(),(function(e){return e.collapsed?"3px":"".concat("3px"," ").concat("3px"," 0 0")}),(function(){return"4px"}),(function(e){var n=e.active,t=n?"#121212":"crimson",r=n?"crimson":"#121212";return"\n    color: ".concat(t,";\n    background-color: ").concat(r,";\n    border: ").concat("crimson"," ").concat("2px"," solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover {\n      background-color: ").concat(t,";\n      color: ").concat(r,";\n      \n      i {\n        color: ").concat(r,";\n      }\n    }\n\n    :focus, :active {\n      color: ").concat("white",";\n      border-color: ").concat("white","\n    }\n  ")})),ae=l.b.span(ne(),(function(e){return e.left?"margin-right: 5px;":""}),(function(e){return e.right?"margin-left: 5px;":""}));function ce(e){var n=e.name,t=e.count,c=e.modifier,i=e.types,u=e.activeTags,l=e.loadAliases,s=e.dispatch,f=Object(r.useState)(),p=Object(o.a)(f,2),m=p[0],d=p[1],b=Object(r.useState)(!0),h=Object(o.a)(b,2),g=h[0],v=h[1];Object(r.useEffect)((function(){u.some((function(e){return e.name===n}))&&T(n).then((function(e){e.sort((function(e,n){return Number(n.posts)-Number(e.posts)})),d(e.filter((function(e){return!u.some((function(n){return n.name===e.name}))})))}))}),[n,u]);var E=u.some((function(e){return e.name===n})),O=l&&m&&m.length>0;return a.a.createElement(re,{active:E,collapsed:g,onMouseLeave:function(){return v(!0)},tabIndex:"0"},a.a.createElement(Ve,{types:i,left:!0}),a.a.createElement(ie,{name:n,count:t,modifier:c,types:i,activeTags:u,dispatch:s}),O&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ae,{right:!0,onClick:function(){return v(!g)}},a.a.createElement(Ae,null)),a.a.createElement("div",{className:"dropdown-list"+(g?"":" visible")},m.map((function(e){var n=e.name,t=e.posts;return a.a.createElement(oe,{key:"t_"+n,name:n,count:t,dispatch:s})})))))}function ie(e){var n=e.name,t=e.count,r=e.types,c=e.modifier,i=e.dispatch,o=ee(n),u=t?"".concat(o," (").concat(t,")"):o;return a.a.createElement("span",{onClick:function(){return i({type:"TOGGLE_TAG",tag:{name:n,count:t,types:r,modifier:c}})},onKeyDown:function(e){return 32===e.keyCode&&i({type:"TOGGLE_TAG",tag:{name:n,count:t,types:r,modifier:c}})}},"-"===c?a.a.createElement("s",null,u):u)}function oe(e){var n=e.name,t=e.count,r=e.dispatch;return a.a.createElement("div",{className:"alias"},a.a.createElement(ie,{name:n,count:t,dispatch:r}))}ce.defaultProps={types:[],onClick:function(){}},ie.defaultProps={modifier:"+",types:[],activeTags:[],onClick:function(){}};var ue=ce;function le(){var e=Object(u.a)(["\n  opacity: 0;\n  animation: "," 1s linear;\n"]);return le=function(){return e},e}function se(){var e=Object(u.a)(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n"]);return se=function(){return e},e}function fe(){var e=Object(u.a)([""]);return fe=function(){return e},e}function pe(){var e=Object(u.a)([""]);return pe=function(){return e},e}function me(){var e=Object(u.a)([""]);return me=function(){return e},e}function de(){var e=Object(u.a)([""]);return de=function(){return e},e}function be(){var e=Object(u.a)([""]);return be=function(){return e},e}function he(){var e=Object(u.a)([""]);return he=function(){return e},e}function ge(){var e=Object(u.a)([""]);return ge=function(){return e},e}function ve(){var e=Object(u.a)([""]);return ve=function(){return e},e}function Ee(){var e=Object(u.a)([""]);return Ee=function(){return e},e}function Oe(){var e=Object(u.a)([""]);return Oe=function(){return e},e}function xe(){var e=Object(u.a)([""]);return xe=function(){return e},e}function ye(){var e=Object(u.a)([""]);return ye=function(){return e},e}function je(){var e=Object(u.a)([""]);return je=function(){return e},e}function we(){var e=Object(u.a)(["\n  line-height: 16px;\n  ","\n  ","\n"]);return we=function(){return e},e}function ke(){var e=Object(u.a)(["\n  ","\n"]);return ke=function(){return e},e}var Te=l.b.i(ke(),(function(e){var n=e.color,t=e.size;return"\n    color: ".concat(n,";\n    min-width: ").concat(t,"px;\n    height: ").concat(t,"px;\n\n    ").concat(re,":hover & {\n      color: ").concat("crimson",";\n    }\n\n    ").concat(re,":active & ,  ").concat(re,":focus & {\n      color: ").concat("white",";\n    }\n  ")})),Se=l.b.span(we(),(function(e){return e.left?"margin-right: 5px;":""}),(function(e){return e.right?"margin-left: 5px;":""})),_e=function(e){var n=e.className,t=e.icon,r=e.color,c=e.size,i=e.onClick,o=e.left,u=e.right;return a.a.createElement(Se,{onClick:i,left:o,right:u},a.a.createElement(Te,{className:"fas ".concat(t," ").concat(n),color:r,size:c}))};_e.defaultProps={color:"black",size:14};var Ce=Object(l.b)(_e).attrs({icon:"fa-user"})(je()),Ne=Object(l.b)(_e).attrs({icon:"fa-pen"})(ye()),ze=Object(l.b)(_e).attrs({icon:"fa-copyright"})(xe()),Fe=Object(l.b)(_e).attrs({icon:"fa-plus-circle"})(Oe()),Ie=Object(l.b)(_e).attrs({icon:"fa-minus-circle"})(Ee()),Pe=(Object(l.b)(_e).attrs({icon:"fa-times"})(ve()),Object(l.b)(_e).attrs({icon:"fa-expand"})(ge())),Ae=Object(l.b)(_e).attrs({icon:"fa-caret-down"})(he()),Re=Object(l.b)(_e).attrs({icon:"fa-external-link-alt"})(be()),De=Object(l.b)(_e).attrs({icon:"fa-hashtag"})(de()),Ue=Object(l.b)(_e).attrs({icon:"fa-registered"})(me()),Ge=Object(l.b)(_e).attrs({icon:"fa-heart"})(pe()),Me=Object(l.b)(_e).attrs({icon:"fa-play"})(fe()),qe=Object(l.c)(se()),Le=Object(l.b)(_e).attrs({icon:"fa-pause"})(le(),qe);function Be(e){var n=e.types,t=e.className,r=e.onClick;switch(n.find((function(e){return!e.match(/^[general|ambiguous]$/)}))){case"character":return a.a.createElement(Ce,{className:t,onClick:r,left:!0});case"copyright":return a.a.createElement(ze,{className:t,onClick:r,left:!0});case"artist":return a.a.createElement(Ne,{className:t,onClick:r,left:!0});default:return a.a.createElement("div",{className:t})}}Be.defaultProps={types:[]};var Ve=Be;function We(e){var n=Number(e);return n>=1e6?"".concat((n/1e6).toFixed(0),"M"):n>=1e3?"".concat((n/1e3).toFixed(0),"K"):n}function He(){var e=Object(u.a)(["\n  flex: 0 0 48px;\n  text-align: center;\n"]);return He=function(){return e},e}function Ke(){var e=Object(u.a)(["\n  display: flex;\n  height: 28px;\n\n  > * {\n    margin: auto;\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px grey solid;\n  }\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return Ke=function(){return e},e}function Je(){var e=Object(u.a)(["\n  ",";\n  display: none;\n  background: white;\n  box-sizing: border-box;\n  border: "," "," solid;\n  border-radius: 0 0 3px 3px;\n  color: black;\n  z-index: 1;\n"]);return Je=function(){return e},e}var $e=l.b.div(Je(),(function(e){var n=e.inputRef;return n?"\n      position: absolute;\n      top: ".concat(n.offsetTop+n.clientHeight-2,"px;\n      left: ").concat(n.offsetLeft,"px;\n      width: ").concat(n.clientWidth,"px;"):""}),"2px","crimson");var Ye=l.b.div(Ke()),Qe=l.b.span(He());function Xe(e){var n=e.name,t=e.posts,r=e.types,c=e.onClick;return a.a.createElement(Ye,{onClick:c,onKeyDown:function(e){return 32===e.keyCode&&c(e)},tabIndex:"0"},a.a.createElement(Qe,null,a.a.createElement(Ve,{types:r})),a.a.createElement("span",{style:{flexGrow:1}},ee(n)),a.a.createElement("span",{style:{paddingRight:5}},We(t)," posts"))}var Ze=function(e){var n=e.inputRef,t=e.entries,r=e.onClick;return t&&t.length>0?a.a.createElement($e,{inputRef:n},t.map((function(e){return a.a.createElement(Xe,Object.assign({key:e.name},e,{onClick:function(){return r(e)}}))}))):null};function en(){var e=Object(u.a)(["\n  display: flex;\n  background: white;\n  ","\n    :focus-within {\n    "," {\n      display: block;\n    }\n  }\n"]);return en=function(){return e},e}var nn=l.b.div(en(),(function(e){return e.closed?"border-radius: ".concat("3px",";"):"\n        border-radius: ".concat("3px"," ").concat("3px"," 0 0;\n\n        > ").concat(J," {\n          border-radius: 0 ").concat("3px"," 0 0;\n        }\n\n        > ").concat($," {\n          border-radius: ").concat("3px"," 0 0 0;\n        }\n      ")}),$e);var tn=function(e){var n=e.dispatch,t=Object(r.useState)(),c=Object(o.a)(t,2),i=c[0],u=c[1],l=Object(r.useState)(""),s=Object(o.a)(l,2),f=s[0],p=s[1],m=Object(r.useState)("+"),d=Object(o.a)(m,2),b=d[0],h=d[1],g=Object(r.useState)([]),v=Object(o.a)(g,2),E=v[0],x=v[1],y=Object(r.useCallback)((function(e){n({type:"ADD_TAG",tag:z({name:e.name,modifier:b,count:e.posts,types:e.types})}),p(""),x([])}),[n,b]);return Object(r.useEffect)((function(){var e=setTimeout((function(){var e;f&&""!==f&&w((e=f,e.toLowerCase().replace(/ /g,"_"))).then((function(e){x(e)}))}),400);return function(){return clearTimeout(e)}}),[f]),a.a.createElement(nn,{ref:u,closed:0===E.length},a.a.createElement(Y,{type:"modifier",onClick:function(){return h("+"===b?"-":"+")}},b),a.a.createElement(Z,{value:f,setValue:p}),a.a.createElement(Y,{type:"add",onClick:function(){if(f&&""!==f.trim()){var e=E.find((function(e){return e.name===f}))||{};y(Object(O.a)({},e,{name:f}))}}},"Add"),a.a.createElement(Ze,{inputRef:i,entries:E,onClick:function(e){y(e)}}))},rn=t(17),an=t.n(rn);t(36);function cn(){var e=Object(u.a)(["\n  margin-left: ",";\n"]);return cn=function(){return e},e}function on(){var e=Object(u.a)(["\n  display: flex;\n"]);return on=function(){return e},e}var un=l.b.label(on()),ln=l.b.span(cn(),"8px");function sn(e){var n=e.children,t=e.initial,r=e.onChange;return a.a.createElement(un,null,a.a.createElement(an.a,{defaultChecked:t,icons:{checked:null,unchecked:null},onChange:r}),a.a.createElement(ln,null,n))}function fn(){var e=Object(u.a)(["\n  background: none;\n  border: none;\n  outline: none;\n  color: ",";\n  max-height: 16px;\n  width: ","em;\n  text-align: right;\n  font-size: 14px;\n  margin: -1px 0.2em 0 0.2em;\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield;\n"]);return fn=function(){return e},e}function pn(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return pn=function(){return e},e}sn.defaultProps={initial:!1};var mn=l.b.div(pn(),"8px"),dn=l.b.input(fn(),"crimson",(function(e){var n=e.value;return.57*String(n).length}));function bn(e){var n=e.options,t=e.dispatch,c=Object(r.useState)(1),i=Object(o.a)(c,2),u=i[0],l=i[1];return a.a.createElement(mn,null,a.a.createElement(sn,{initial:n.infinite,onChange:function(){return t({type:"SET_OPTION",key:"infinite",value:!n.infinite})}},"Infinite Scrolling"),a.a.createElement(sn,{initial:Boolean(n.rated),onChange:function(){t({type:"SET_OPTION",key:"rated",value:n.rated?void 0:u})}},n.rated?a.a.createElement("div",{style:{display:"flex"}},"Above",a.a.createElement(dn,{type:"number",value:u,onChange:function(e){return l(Number(e.target.value))},onBlur:function(e){return t({type:"SET_OPTION",key:"rated",value:Number(e.target.value)})}}),"likes"):"Only show Rated Posts"),a.a.createElement(sn,{initial:n.originals,onChange:function(){return t({type:"SET_OPTION",key:"originals",value:!n.originals})}},"Load Original Sizes"))}function hn(){var e=Object(u.a)(["\n  display: inline-flex;\n  flex-wrap: wrap;\n  margin: ",";\n"]);return hn=function(){return e},e}var gn=l.b.div(hn(),(function(e){var n=e.padding;return"calc(".concat(n," - ").concat("4px",")")}));function vn(e){var n=e.tags,t=e.activeTags,r=e.loadAliases,c=e.dispatch,i=e.padding;return a.a.createElement("div",null,a.a.createElement(gn,{padding:i},n.map((function(e){return a.a.createElement(ue,Object.assign({key:"t_"+e.name},e,{activeTags:t,loadAliases:r,dispatch:c}))}))))}vn.defaultProps={activeTags:[],onItemClick:function(){},onItemItemClick:function(){},padding:"0px"};var En=vn;var On=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(p,null,"Help"),a.a.createElement(v,null,a.a.createElement(p,null,"Searching for Tags"),a.a.createElement(E,null),a.a.createElement(tn,{dispatch:function(){}}),a.a.createElement(E,null),a.a.createElement("p",null,"You can use the Tag Selector to look for tags you like.The Tag Selector has 4 parts."),a.a.createElement("ol",null,a.a.createElement("li",null,'The modifier (left) determines wether posts must match a tag or not. Putting "-" will hide all posts with this tag'),a.a.createElement("li",null,"The Search Box (center) allows you to search for tags. As soon as you start typing the Tag Selector will show you relevant tags to choose from (4)."),a.a.createElement("li",null,"The Add Button (right) Allows you to add any tag to the current filter. Usefull when using wildcards."),a.a.createElement("li",null,"The Tag Dropdown (left) automatically shows tags that start with your input. It also includes The number of posts tagged, to allow you to weigh tags against each other."))),a.a.createElement(v,null,a.a.createElement(p,null,"Options"),a.a.createElement(E,null),a.a.createElement(bn,{options:{},dispatch:function(){}}),a.a.createElement(E,null),a.a.createElement("p",null,"Options allow you to customize your experience in various ways. There are 3 options available"),a.a.createElement("ol",null,a.a.createElement("li",null,"Infinite Scrolling automatically loads new posts when you get close to the bottom of the page."),a.a.createElement("li",null,"Only show Rated posts filters out posts below the specified amount of posts."),a.a.createElement("li",null,"Load original sizes always loads the highest quality of an image. This can easily cause extreme data consumption. Don't use with mobile data."))),a.a.createElement(v,null,a.a.createElement(p,null,"Tags"),a.a.createElement(E,null),a.a.createElement(En,{tags:[{name:"Tag 1"},{name:"Tag 2",types:["character"]},{name:"Tag 3",modifier:"-",types:["copyright"],count:1020}],activeTags:[{name:"Tag 2"},{name:"Tag 3"}]}),a.a.createElement(E,null),a.a.createElement("p",null,"This whole application is based on tags. Every Post has multiple tags. Usually you can enable/disable a tag just by tapping it. If a tag is red it means its active. The icons next to the name show what type of tag it is. Not every tag has a type. The number on the right shows how many posts there are with that tag.")))};function xn(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return xn=function(){return e},e}var yn=l.b.section(xn(),"8px");var jn=function(e){var n=e.options,t=e.tags,c=e.dispatch,i=Object(r.useCallback)((function(){k(t,0,n.rated).then((function(e){c({type:"SET_POSTS",posts:e.posts.map(z),count:Number(e.count)})}))}),[c,n.rated,t]);return a.a.createElement(yn,null,a.a.createElement(p,null,a.a.createElement("label",{htmlFor:"tag-input"},"Search")),a.a.createElement(v,null,a.a.createElement(tn,{dispatch:c}),t.length>0&&a.a.createElement(En,{tags:t,activeTags:t,dispatch:c,loadAliases:!0}),a.a.createElement(bn,{options:n,dispatch:c}),a.a.createElement(Y,{type:"block",onClick:i},"Search")))};function wn(){var e=Object(u.a)(["\n    height: 5px;\n    background-color: ",";\n    width: ","%;\n  "]);return wn=function(){return e},e}function kn(){var e=Object(u.a)(["\n  border: 1px solid black;\n  display: inline-block;\n  position: relative;\n"]);return kn=function(){return e},e}function Tn(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n"]);return Tn=function(){return e},e}function Sn(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n"]);return Sn=function(){return e},e}var _n=l.b.video(Sn()),Cn=l.b.img(Tn()),Nn=l.b.div(kn()),zn=l.b.div((function(e){var n=e.currentTime,t=e.duration;return Object(l.a)(wn(),"crimson",n/t*100)}));function Fn(e){var n=e.type,t=e.src,c=e.thumbnail_src,i=e.onClick,u="video"===n||t.includes(".gif"),l=Object(r.useState)({paused:!0,play:function(){},pause:function(){},currentTime:0,duration:1}),s=Object(o.a)(l,2),f=s[0],p=s[1],m=Object(r.useState)(Date.now()),d=Object(o.a)(m,2),b=d[0],h=d[1],g=Object(r.useState)(0),v=Object(o.a)(g,2),E=v[0],O=v[1],x=u&&"image"===n&&f.paused?c:t;return a.a.createElement(Nn,null,"video"===n?a.a.createElement(_n,{controls:!1,loop:!0,src:x,alt:t,poster:c,preload:"metadata",onClick:i,ref:p,onKeyDown:function(e){return 32===e.keyCode&&i(e)}}):a.a.createElement(Cn,{src:x,alt:t,onClick:i,onKeyDown:function(e){return 32===e.keyCode&&i(e)}}),a.a.createElement(Y,{type:"topLeft",onClick:function(){var e;(e=f).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},label:"Open Fullscreen"},a.a.createElement(Pe,{color:"white"})),u&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Y,{type:"center",onClick:f.paused?function(){f.play();var e=setInterval((function(){h(Date.now()),console.log(b)}),32);O(e)}:function(){f.pause(),clearInterval(E),O(-1)}},f.paused?a.a.createElement(Me,{color:"white",size:50}):a.a.createElement(Le,{color:"white",size:50})),a.a.createElement(zn,{currentTime:f.currentTime,duration:f.duration})))}function In(){var e=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  background: ",";\n  padding: ",";\n  ",";\n\n  > span,\n  > a {\n    margin: ",";\n    line-height: 1rem;\n    height: 1rem;\n  }\n"]);return In=function(){return e},e}function Pn(){var e=Object(u.a)(["\n  > "," {\n    padding: ",";\n  }\n\n  overflow: hidden;\n"]);return Pn=function(){return e},e}var An=l.b.div(Pn(),gn,"4px"),Rn=l.b.div(In(),d,"4px",b,"4px");var Dn=function(e){var n=e.rating,t=e.score,r=e.source,c=e.tags,i=e.activeTags,o=e.dispatch;return a.a.createElement(An,null,a.a.createElement(Rn,null,n&&a.a.createElement(Un,{value:n}),t&&a.a.createElement(Gn,{value:t}),r&&a.a.createElement(Mn,{value:r})),a.a.createElement(En,{tags:c,activeTags:i,dispatch:o,padding:"8px"}))},Un=function(e){var n=e.value;return a.a.createElement("span",null,a.a.createElement(Ue,{color:"white",left:!0}),n[0].toUpperCase())},Gn=function(e){var n=e.value;return a.a.createElement("span",null,n,a.a.createElement(Ge,{color:"white",right:!0}))};function Mn(e){var n=e.value;return n.startsWith("http")?a.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"source"},a.a.createElement(Re,{color:"red",left:!0}),"Source"):a.a.createElement("span",null,a.a.createElement(De,{color:"white",left:!0}),n)}function qn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  background: ",";\n  ",";\n  border-radius: ",";\n  overflow: hidden;\n  margin-bottom: ",";\n  border-box: border-box;\n"]);return qn=function(){return e},e}var Ln=l.b.div(qn(),d,b,"3px","8px");function Bn(e){var n=e.id,t=e.media_type,c=e.small_src,i=e.big_src,u=e.thumbnail_src,l=e.rating,s=e.score,f=e.source,p=e.tags,m=e.loadOriginal,d=e.activeTags,b=e.dispatch,h=function(e,n,t,r){var a;return e?a=n:(a="".concat(t,"?").concat(r)).includes("//images")&&(a=a.replace("//images","/images")),a}(m,i,c,n),g=Object(r.useState)(!0),v=Object(o.a)(g,2),E=v[0],O=v[1];return a.a.createElement(Ln,null,a.a.createElement(Fn,{type:t,src:h,thumbnail_src:u,onFullscreen:function(){return b({type:"FOCUS_POST",id:n})},onClick:function(){return O(!E)}}),!E&&a.a.createElement(Dn,{rating:l,score:s,source:f,tags:p,activeTags:d,dispatch:b}))}function Vn(){var e=Object(u.a)([""]);return Vn=function(){return e},e}var Wn=l.b.div(Vn());var Hn=function(e){var n=e.posts,t=e.activeTags,r=e.loadOriginal,c=e.dispatch;return a.a.createElement(Wn,null,n.map((function(e){return a.a.createElement(Bn,Object.assign({key:"p_".concat(e.id)},e,{loadOriginal:r,activeTags:t,dispatch:c}))})))};function Kn(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Kn=function(){return e},e}var Jn=l.b.section(Kn(),"8px"),$n=!0;var Yn=function(e){var n=e.options,t=e.dispatch,c=e.tags,i=e.results,o=Object(r.useCallback)((function(){k(c,i.page+1,n.rated).then((function(e){t({type:"ADD_POSTS",posts:e.posts.map(z)}),$n=!0}))}),[t,n.rated,i.page,c]);return window.onscroll=Object(r.useCallback)((function(){n.infinite&&$n&&window.innerHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight-window.innerHeight&&($n=!1,o())}),[o,n.infinite]),a.a.createElement(Jn,{className:"results"},a.a.createElement(p,null,We(i.count)," results"),a.a.createElement(Hn,{posts:i.posts,activeTags:c,loadOriginal:n.originals,dispatch:t}),!n.infinite&&a.a.createElement(Y,{type:"block",onClick:o},"Load More"))};function Qn(e){var n=e.tags,t=e.options,r=e.results,c=e.dispatch;return a.a.createElement(a.a.Fragment,null,a.a.createElement(jn,{options:t,tags:n,dispatch:c}),r.posts.length>0&&a.a.createElement(Yn,{options:t,dispatch:c,tags:n,results:r}))}function Xn(){var e=Object(u.a)(["\n  position: fixed;\n  left: 100%;\n  right: 100%;\n"]);return Xn=function(){return e},e}function Zn(){var e=Object(u.a)(["\n  position: fixed;\n  left: 0;\n  bottom: 0;\n"]);return Zn=function(){return e},e}function et(){var e=Object(u.a)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  overflow: scroll;\n  background-color: ",";\n"]);return et=function(){return e},e}var nt=l.b.div(et(),"#121212"),tt=l.b.div(Zn()),rt=l.b.img(Xn());function at(e){var n=e.focusedPost,t=e.posts,c=e.dispatch,i=t.findIndex((function(e){return e.id===n})),o=t[i],u=o.big_src,l=o.media_type,s=o.thumbnail_src,f=t[i>0?i-1:i].big_src,p=t[i<t.length-1?i+1:i].big_src,m=Object(r.useCallback)((function(){return i>0&&c({type:"FOCUS_POST",id:t[i-1].id})}),[i,c,t]),d=Object(r.useCallback)((function(){return i<t.length-1&&c({type:"FOCUS_POST",id:t[i+1].id})}),[i,c,t]);return a.a.createElement(nt,null,a.a.createElement(Fn,{type:l,src:u,thumbnail_src:s,isFullscreen:!0,onFullscreen:function(){return c({type:"UNFOCUS_POST"})},onClick:function(){}}),a.a.createElement(tt,null,a.a.createElement(Ie,{onClick:m,color:"white"}),a.a.createElement(Fe,{onClick:d,color:"white"})),a.a.createElement(rt,{src:f}),a.a.createElement(rt,{src:p}))}var ct=function(e){var n=e.size;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 12.7 12.7"},a.a.createElement("g",{transform:"translate(0,-284.3)"},a.a.createElement("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:"crimson",strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),a.a.createElement("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:"crimson",fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)"},a.a.createElement("tspan",{id:"tspan4531",x:"2.1363549",y:"289.02704",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:"crimson",fillOpacity:"1"},"34"))))};function it(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return it=function(){return e},e}function ot(){var e=Object(u.a)(["\n  background: ",";\n  ",";\n  padding: "," 0;\n  margin-bottom: ",";\n"]);return ot=function(){return e},e}function ut(){var e=Object(u.a)(["\n  width: 1px;\n  height: 32px;\n  margin: 0 ",";\n  background: ",";\n"]);return ut=function(){return e},e}function lt(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return lt=function(){return e},e}var st=l.b.header(lt(),"8px"),ft=l.b.div(ut(),"8px","white"),pt=l.b.div(ot(),d,b,"8px","8px"),mt=l.b.nav(it());var dt=function(e){var n=e.activeMenu,t=e.dispatch;return a.a.createElement(st,null,a.a.createElement(pt,null,a.a.createElement(m,null,a.a.createElement(ct,{size:32}),a.a.createElement(ft,null),a.a.createElement("span",{style:{marginTop:2}},"Browse ",a.a.createElement("a",{href:"https://rule34.xxx"},"Rule34")))),a.a.createElement(mt,null,a.a.createElement(Y,{type:"menu",active:"search"===n,onClick:function(){return t({type:"SET_ACTIVE_MENU",menu:"search"})}},"Search"),a.a.createElement(Y,{type:"menu",active:"help"===n,onClick:function(){return t({type:"SET_ACTIVE_MENU",menu:"help"})}},"Help"),a.a.createElement(Y,{type:"menu",active:"settings"===n,onClick:function(){return t({type:"SET_ACTIVE_MENU",menu:"settings"})}},"Settings")))},bt=t(6),ht=t(5);function gt(e,n){switch(n.type){case"ADD_TAG":return Et(e,n.tag);case"REMOVE_TAG":return Ot(e,n.tag);case"TOGGLE_TAG":return xt(e,n.tag);case"ADD_POSTS":return yt(e,n.posts);case"SET_POSTS":return jt(e,n.posts,n.count);case"SET_OPTION":return wt(e,n.key,n.value);case"FOCUS_POST":return kt(e,n.id);case"UNFOCUS_POST":return kt(e,void 0);case"SET_ACTIVE_MENU":return Tt(e,n.menu);case"RESET":return St(e);default:throw new Error("Unrecognized Action: ".concat(n.type))}}function vt(e,n){return e.findIndex((function(e){return e.name===n.name}))}var Et=function(e,n){return Object(ht.a)(e,(function(t){var r=vt(e.tags,n);t.tags=Object(bt.a)(e.tags),-1!==r?t.tags[r]=n:t.tags=[].concat(Object(bt.a)(t.tags),[n])}))},Ot=function(e,n){return Object(ht.a)(e,(function(t){var r=vt(e.tags,n);-1!==r&&(t.tags=Object(bt.a)(e.tags),t.tags.splice(r,1))}))},xt=function(e,n){return-1!==vt(e.tags,n)?Ot(e,n):Et(e,n)},yt=function(e,n){return Object(ht.a)(e,(function(t){t.results.posts=[].concat(Object(bt.a)(e.results.posts),Object(bt.a)(n)),t.results.page=e.results.page+1}))},jt=function(e,n,t){return Object(ht.a)(e,(function(e){e.results.posts=Object(bt.a)(n),e.results.count=t,e.results.page=0}))},wt=function(e,n,t){return Object(ht.a)(e,(function(e){e.options[n]=t}))},kt=function(e,n){return Object(ht.a)(e,(function(e){e.context.focusedPost=n}))},Tt=function(e,n){return Object(ht.a)(e,(function(e){e.context.activeMenu=n}))},St=function(e){return Object(ht.a)(e,(function(e){Object.assign(e,_t)}))},_t={results:{posts:[],page:0,count:void 0},context:{focusedPost:void 0,activeMenu:"search"},tags:[],options:{infinite:!0,rated:void 0,originals:!1}};function Ct(){var e=function(e){var n=localStorage.getItem("state");return[null!==n&&"undefined"!==n?JSON.parse(n):e,function(e){return localStorage.setItem("state",JSON.stringify(e))}]}(_t),n=Object(o.a)(e,2),t=n[0],a=n[1],c=Object(r.useReducer)(gt,t),i=Object(o.a)(c,2),u=i[0],l=i[1];return Object(r.useEffect)((function(){a(u)}),[a,u]),[u,l]}function Nt(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  justify-content: space-around;\n  padding: ",";\n"]);return Nt=function(){return e},e}var zt=l.b.footer(Nt(),"8px");var Ft=function(){return a.a.createElement(zt,null,a.a.createElement(Y,{type:"invisible"},a.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react"},"Github")),a.a.createElement(Y,{type:"invisible"},a.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react/issues/new?template=bug_report.md"},"Report a bug")),a.a.createElement(Y,{type:"invisible"},a.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react/issues/new?template=feature_request.md"},"Feature request")))};function It(e){e.state;var n=e.dispatch;return a.a.createElement(a.a.Fragment,null,a.a.createElement(p,null,"Settings"),a.a.createElement(v,null,a.a.createElement(p,null,"General"),a.a.createElement("p",null,"nothing yet"),a.a.createElement(E,null),a.a.createElement(p,null,"Developer"),a.a.createElement(K,{onClick:function(){return n({type:"RESET"})}},"Reset Application")))}function Pt(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: strech;\n  min-height: 100%;\n  background: ",";\n  color: ",";\n\n  font-size: 14px;\n\n  a {\n    color: ",";\n    text-decoration: none;\n  }\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Pt=function(){return e},e}function At(){var e=Object(u.a)(["\n  flex-grow: 1;\n  align-self: strech;\n  display: flex;\n  flex-direction: column;\n  padding: 0 16px;\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return At=function(){return e},e}var Rt=l.b.main(At(),"8px"),Dt=l.b.div(Pt(),"#121212","white","crimson","8px");Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement((function(){var e=Ct(),n=Object(o.a)(e,2),t=n[0],r=n[1],c=function(e,n,t){switch(e){case"reader":return a.a.createElement(at,{state:n,dispatch:t});case"help":return a.a.createElement(On,{state:n,dispatch:t});case"settings":return a.a.createElement(It,{state:n,dispatch:t});case"search":default:return a.a.createElement(Qn,{tags:n.tags,options:n.options,results:n.results,dispatch:t})}}(t.context.activeMenu,t,r);return a.a.createElement(Dt,null,a.a.createElement(dt,{activeMenu:t.context.activeMenu,dispatch:r}),a.a.createElement(Rt,null,c),a.a.createElement(Ft,null))}),null),document.getElementById("app-root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.0cb5ec52.chunk.js.map