{"version":3,"sources":["icons/TypeIcon.tsx","hooks/useThrottledEffect.tsx","components/tagSelector/TagInput.tsx","components/tagSelector/DropdownListEntry.tsx","components/tagSelector/DropdownList.tsx","components/tagSelector/useModifier.tsx","components/tagSelector/TagSelector.tsx","components/common/LabeledToggle.tsx","components/features/Options.tsx","components/common/Text.tsx","icons/Icons.tsx","components/common/Lines.tsx","components/common/Surface.tsx","misc/formatting.ts","components/tag/TagWrapper.tsx","components/common/FlexPair.tsx","hooks/useToggle.ts","components/common/FlexColumn.tsx","components/tag/TagName.tsx","components/tag/Alias.tsx","components/tag/AliasesList.tsx","components/tag/NewTag.tsx","components/tag/TagList.tsx","icons/R34Icon.tsx","components/features/Header.tsx","components/tag/tagUtils.ts","components/common/Toggle.tsx","hooks/usePreference.tsx"],"names":["TypeIcon","props","types","className","onClick","NO_OP","find","t","match","useThrottledEffect","effect","timeout","deps","useEffect","handle","setTimeout","clearTimeout","Input","styled","input","css","theme","fontSizes","content","colors","accentColor","dimensions","borderWidth","TagInput","value","setValue","id","onChange","event","target","placeholder","aria-label","EntryWrapper","div","blockHeight","Name","span","Count","Icon","DropdownListEntry","name","posts","prettifyTagname","formatCount","ListWrapper","tagSelector","offsetTop","clientHeight","offsetLeft","clientWidth","sizeAndPosition","tagSelectorRef","DropdownList","entries","length","map","entry","order","Modifier","PLUS","MINUS","OR","TagSelectorWrapper","closed","borderRadius","AddButton","ModifierButton","TagSelector","dispatch","useDispatch","useState","suggestions","setSuggestions","setTagSelectorRef","initialValue","modifier","setModifier","nextModifier","useCallback","currentIndex","indexOf","useModifier","tagSuggestionsCount","useSelector","selectPreferences","activateTag","addTag","prepareTag","count","api","getTags","normalizeTagname","then","newSuggestions","onAddClick","trim","suggestion","s","onSuggestionClick","ref","LabeledToggle","children","onToggle","FlexPair","Toggle","OptionsWrapper","gutter","StyledInput","Options","usePreference","RATED","rated","setRated","RATEDTRESHOLD","ratedTreshold","setRatedThreshold","toggleRated","toString","ratedTresholdInternal","setRatedThresholdInternal","onBlur","Number","style","display","type","Title","h2","bigTitle","BigTitle","h1","SmallTitle","h3","Faded","subduedText","StyledIcon","i","color","size","TagWrapper","backgroundColor2","StyledSvg","svg","IconWrapper","icon","left","right","prefix","PixivIcon","CharacterIcon","attrs","ArtistIcon","CopyrightIcon","CloseIcon","ExpandIcon","memo","ExternalLinkIcon","SourceIcon","RatingIcon","HeartIcon","LinkIcon","BrandIcon","PlayIcon","PauseIcon","ArrowDown","CodeBranchIcon","viewBox","xmlns","fill","d","HorizontalLine","layerBg","VerticalLine","layer","shadow","box","numberString","number","toFixed","formatSource","sourceString","includes","semiSanitized","replace","substring","formatDuration","duration","min","Math","trunc","sec","collapsed","active","fg","backgroundColor","bg","switchingColors","Wrapper","useToggle","toggleValue","resetValue","FlexColumn","flexColum","FlexColumnWithSpacing","centeredMaxWidth","modifierToStyle","TagNameSpan","TagName","text","activeTags","selectActiveTags","toggleTag","stopPropagation","tag","TagDataClass","removeTag","AliasWrapper","bigSpacing","Alias","parentRef","AliasesList","aliases","NewTag","loadAliases","tagRef","setTagRef","toggleCollapsed","resetCollapsed","selectAliasesByTagName","isActive","getAliases","newAliases","sort","a","b","filtered","filter","alias","addAliases","onMouseLeave","TagListWrapper","TagList","tags","Object","key","R34Icon","useTheme","width","height","transform","cx","cy","stroke","strokeWidth","strokeMiterlimit","strokeDasharray","strokeOpacity","r","fontStyle","fontWeight","fontSize","fontFamily","letterSpacing","wordSpacing","fillOpacity","x","y","fontVariant","fontStretch","HeaderWrapper","header","TitleBar","layerBgSolid","MenuBar","nav","hugeSpacing","LocationStyledLink","Link","to","current","Header","useLocation","pathname","role","href","RouteName","SEARCH","HELP","SETTINGS","tagname","toLowerCase","Track","defaultBorder","timings","longTransitionTime","Thumb","preferences","setPreference","setOption"],"mappings":"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","file":"static/js/0.d96a887b.chunk.js","sourcesContent":["import React, { MouseEventHandler } from 'react'\nimport { NO_OP } from '../data/types'\nimport { CharacterIcon, CopyrightIcon, ArtistIcon } from './Icons'\n\ninterface TypeIconProps {\n  types?: string[]\n  className?: string\n  color?: string\n  size?: number\n  onClick?: MouseEventHandler\n  left?: boolean\n  right?: boolean\n}\n\nexport default function TypeIcon(props: TypeIconProps) {\n  const { types = [], className = '', onClick = NO_OP } = props\n  const interestingType = types.find((t) => !t.match(/^[general|ambiguous]$/))\n\n  switch (interestingType) {\n    case 'character':\n      return <CharacterIcon className={className} onClick={onClick} />\n    case 'copyright':\n      return <CopyrightIcon className={className} onClick={onClick} />\n    case 'artist':\n      return <ArtistIcon className={className} onClick={onClick} />\n    default:\n      return null\n  }\n}\n","import { useEffect } from 'react'\n\nexport default function useThrottledEffect(effect: (...arg: any) => void, timeout: number, deps: any[]) {\n  useEffect(() => {\n    const handle = setTimeout(effect, timeout)\n\n    return () => clearTimeout(handle)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [timeout, ...deps])\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components'\n\nconst Input = styled.input(\n  (props) => css`\n    width: 100%;\n    border: none;\n    outline: none;\n    background: none;\n    font-size: ${props.theme.fontSizes.content};\n    border-top: ${props.theme.colors.accentColor} ${props.theme.dimensions.borderWidth} solid;\n    border-bottom: ${props.theme.colors.accentColor} ${props.theme.dimensions.borderWidth} solid;\n  `\n)\n\ninterface TagInputProps {\n  value: string\n  setValue: (newValue: string) => void\n}\n\nexport default function TagInput(props: TagInputProps) {\n  const { value, setValue } = props\n  return (\n    <Input\n      id='tag-input'\n      value={value}\n      onChange={(event) => setValue(event.target.value)}\n      placeholder='Search for tags'\n      aria-label='Search'\n    />\n  )\n}\n","import React, { MouseEventHandler } from 'react'\nimport styled, { css } from 'styled-components'\nimport { TagType } from '../../data/types'\nimport TypeIcon from '../../icons/TypeIcon'\nimport { formatCount } from '../../misc/formatting'\nimport { prettifyTagname } from '../tag/tagUtils'\n\ninterface EntryProps {\n  name: string\n  posts: number\n  types: TagType[]\n  onClick: MouseEventHandler\n}\n\nconst EntryWrapper = styled.div(\n  ({ theme }) => css`\n    display: grid;\n    grid-template-columns: 48px 1fr auto;\n    height: ${theme.dimensions.blockHeight};\n    background: white;\n    align-items: center;\n  `\n)\n\nconst Name = styled.span`\n  grid-column: 2/3;\n`\n\nconst Count = styled.span`\n  grid-column: 3/4;\n`\n\nconst Icon = styled.div`\n  grid-column: 1/2;\n  text-align: center;\n`\n\nexport default function DropdownListEntry(props: EntryProps) {\n  const { name, posts, types, onClick } = props\n\n  return (\n    <EntryWrapper onClick={onClick}>\n      <Icon>\n        <TypeIcon types={types} />\n      </Icon>\n      <Name>{prettifyTagname(name)}</Name>\n      <Count>{formatCount(posts)} posts</Count>\n    </EntryWrapper>\n  )\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport DropdownListEntry from './DropdownListEntry'\nimport TagDataClass from '../../data/Tag'\nimport { TagType } from '../../data/types'\nimport { ThemeType } from '../../misc/theme'\n\nfunction sizeAndPosition(tagSelector: HTMLDivElement | null) {\n  if (tagSelector) {\n    const { offsetTop, clientHeight, offsetLeft, clientWidth } = tagSelector\n\n    return css`\n      position: absolute;\n      top: ${offsetTop + clientHeight}px;\n      left: ${offsetLeft}px;\n      width: ${clientWidth}px;\n      max-height: 50vh;\n      overflow-y: scroll;\n    `\n  }\n\n  return ''\n}\n\nexport const ListWrapper = styled.div(\n  (props: { tagSelectorRef: HTMLDivElement | null; theme: ThemeType }) => css`\n    display: flex;\n    flex-direction: column;\n    ${sizeAndPosition(props.tagSelectorRef)};\n    background: lightgrey;\n    gap: 1px;\n    box-sizing: border-box;\n    border: ${props.theme.dimensions.borderWidth} ${props.theme.colors.accentColor} solid;\n    border-top: none;\n    border-radius: 0 0 3px 3px;\n    color: black;\n    z-index: 3;\n  `\n)\n\ninterface DropdownListProps {\n  tagSelectorRef: HTMLDivElement | null\n  entries: {\n    name: string\n    posts: number\n    types: TagType[]\n  }[]\n  onClick: (entry: TagDataClass) => void\n}\n\nexport default function DropdownList(props: DropdownListProps) {\n  const { tagSelectorRef, entries, onClick } = props\n\n  return entries && entries.length > 0 ? (\n    <ListWrapper tagSelectorRef={tagSelectorRef}>\n      {entries.map((entry) => (\n        <DropdownListEntry key={entry.name} onClick={() => onClick(entry)} {...entry} />\n      ))}\n    </ListWrapper>\n  ) : null\n}\n","import { useCallback, useState } from 'react'\nimport { Modifier } from '../../data/types'\n\nconst order = [Modifier.PLUS, Modifier.MINUS, Modifier.OR]\n\n/**\n * Small utility hook to abstract the rotating modifier away\n * @param initialValue\n */\nexport default function useModifier(initialValue: Modifier = Modifier.PLUS): [Modifier, () => void] {\n  const [modifier, setModifier] = useState(initialValue)\n\n  const nextModifier = useCallback(() => {\n    const currentIndex = order.indexOf(modifier)\n    const nextIndex = currentIndex + 1\n\n    // make the value rotate\n    setModifier(order[nextIndex % order.length])\n  }, [modifier])\n\n  return [modifier, nextModifier]\n}\n","import React, { useState, useCallback } from 'react'\nimport styled, { css } from 'styled-components'\nimport api from '../../misc/api'\nimport { prepareTag } from '../../misc/prepare'\nimport { AddButton, ModifierButton } from '../common/Buttons'\nimport TagInput from './TagInput'\nimport DropdownList from './DropdownList'\nimport { normalizeTagname } from '../tag/tagUtils'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { addTag } from '../../redux/actions'\nimport { ThemeType } from '../../misc/theme'\nimport { selectPreferences } from '../../redux/selectors'\nimport useThrottledEffect from '../../hooks/useThrottledEffect'\nimport useModifier from './useModifier'\n\nexport const TagSelectorWrapper = styled.div(\n  (props: { closed: boolean; ref: (ref: HTMLInputElement) => void; theme: ThemeType }) => css`\n    display: flex;\n    background: white;\n    ${props.closed\n      ? css`\n          border-radius: ${props.theme.dimensions.borderRadius};\n        `\n      : css`\n          border-radius: ${props.theme.dimensions.borderRadius} ${props.theme.dimensions.borderRadius} 0 0;\n\n          > ${AddButton} {\n            border-radius: 0 ${props.theme.dimensions.borderRadius} 0 0;\n          }\n\n          > ${ModifierButton} {\n            border-radius: ${props.theme.dimensions.borderRadius} 0 0 0;\n          }\n        `}\n  `\n)\n\nexport default function TagSelector() {\n  const dispatch = useDispatch()\n\n  const [value, setValue] = useState('')\n  const [suggestions, setSuggestions] = useState([])\n  const [tagSelectorRef, setTagSelectorRef] = useState<HTMLDivElement | null>(null)\n  const [modifier, nextModifier] = useModifier()\n\n  const { tagSuggestionsCount } = useSelector(selectPreferences)\n\n  const activateTag = useCallback(\n    ({ name, posts, types }) => {\n      dispatch(\n        addTag(\n          prepareTag({\n            name,\n            types,\n            modifier,\n            count: posts,\n          })\n        )\n      )\n\n      setValue('')\n      setSuggestions([])\n    },\n    [dispatch, modifier]\n  )\n\n  useThrottledEffect(\n    () => {\n      if (!value) {\n        setSuggestions([])\n        return\n      }\n\n      api.getTags(normalizeTagname(value), tagSuggestionsCount).then((newSuggestions) => {\n        setSuggestions(newSuggestions)\n      })\n    },\n    300,\n    [tagSuggestionsCount, value]\n  )\n\n  const onAddClick = useCallback(() => {\n    if (value && value.trim()) {\n      const suggestion = suggestions.find((s: { name: string }) => s.name === value) || {}\n      activateTag({ ...suggestion, name: value })\n    }\n  }, [value, activateTag, suggestions])\n\n  const onSuggestionClick = useCallback((entry) => activateTag(entry), [activateTag])\n\n  return (\n    <TagSelectorWrapper ref={setTagSelectorRef} closed={suggestions.length === 0}>\n      <ModifierButton onClick={nextModifier} aria-label='Tag Modifier'>\n        {modifier}\n      </ModifierButton>\n      <TagInput value={value} setValue={setValue} />\n      <AddButton onClick={onAddClick} aria-label='Add Tag'>\n        Add\n      </AddButton>\n      {suggestions.length > 0 && (\n        <DropdownList tagSelectorRef={tagSelectorRef} entries={suggestions} onClick={onSuggestionClick} />\n      )}\n    </TagSelectorWrapper>\n  )\n}\n","import React, { MouseEventHandler } from 'react'\nimport FlexPair from './FlexPair'\nimport Toggle from './Toggle'\n\ninterface LabeledToggleProps {\n  children: JSX.Element | string\n  value: boolean\n  onToggle: MouseEventHandler\n}\n\nexport default function LabeledToggle(props: LabeledToggleProps) {\n  const { children, value, onToggle } = props\n\n  return (\n    <FlexPair>\n      <Toggle value={value} onToggle={onToggle} />\n      <span>{children}</span>\n    </FlexPair>\n  )\n}\n","import React, { ChangeEventHandler, useCallback, useState } from 'react'\nimport styled, { css } from 'styled-components'\nimport LabeledToggle from '../common/LabeledToggle'\nimport { ThemeType } from '../../misc/theme'\nimport { RATED, RATEDTRESHOLD } from '../../data/types'\nimport usePreference from '../../hooks/usePreference'\n\nconst OptionsWrapper = styled.div(\n  ({ theme }) => css`\n    display: grid;\n    gap: ${theme.dimensions.gutter};\n  `\n)\n\nconst StyledInput = styled.input(\n  (props: { value: string; theme: ThemeType }) => css`\n    background: none;\n    border: none;\n    outline: none;\n    color: ${props.theme.colors.accentColor};\n    width: ${0.65 * props.value.length}em;\n    text-align: right;\n    font-size: ${props.theme.fontSizes.content};\n    margin: -1px 0.2em 0 0.2em;\n\n    ::-webkit-inner-spin-button,\n    ::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n    -moz-appearance: textfield;\n  `\n)\n\nexport default function Options() {\n  const [rated, setRated] = usePreference(RATED)\n  const [ratedTreshold, setRatedThreshold] = usePreference(RATEDTRESHOLD)\n  const toggleRated = useCallback(() => setRated(!rated), [rated, setRated])\n\n  const [ratedTresholdInternal, setRatedThresholdInternal] = useState(ratedTreshold.toString())\n\n  const onChange: ChangeEventHandler<HTMLInputElement> = useCallback(\n    (event) => setRatedThresholdInternal(event.target.value),\n    []\n  )\n  const onBlur = useCallback(() => setRatedThreshold(Number(ratedTresholdInternal)), [\n    ratedTresholdInternal,\n    setRatedThreshold,\n  ])\n\n  return (\n    <OptionsWrapper>\n      <LabeledToggle value={rated} onToggle={toggleRated}>\n        {rated ? (\n          <div style={{ display: 'flex' }}>\n            <span>More than</span>\n            <StyledInput type='text' value={ratedTresholdInternal} onChange={onChange} onBlur={onBlur} />\n            <span>likes</span>\n          </div>\n        ) : (\n          'Only show Rated Posts'\n        )}\n      </LabeledToggle>\n    </OptionsWrapper>\n  )\n}\n","import styled, { css } from 'styled-components'\n\nexport const Title = styled.h2(\n  ({ theme }) => css`\n    font-size: ${theme.fontSizes.bigTitle};\n    font-weight: lighter;\n    text-align: center;\n  `\n)\n\nexport const BigTitle = styled.h1(\n  ({ theme }) => css`\n    display: flex;\n    justify-content: center;\n    font-size: ${theme.fontSizes.bigTitle};\n    font-weight: lighter;\n    text-align: center;\n    gap: ${theme.dimensions.gutter};\n  `\n)\n\nexport const SmallTitle = styled.h3(\n  ({ theme }) => css`\n    font-size: ${theme.fontSizes.content};\n  `\n)\n\nexport const Faded = styled.span(\n  ({ theme }) => css`\n    color: ${theme.colors.subduedText};\n  `\n)\n","import React, { MouseEventHandler, memo } from 'react'\nimport styled, { css } from 'styled-components'\nimport TagWrapper from '../components/tag/TagWrapper'\nimport { NO_OP } from '../data/types'\n\nimport { ThemeType } from '../misc/theme'\n\nexport const StyledIcon = styled.i(\n  (props: { color: string; size: number; theme: ThemeType }) => css`\n    color: ${props.color};\n    min-width: ${props.size}px;\n    height: ${props.size}px;\n\n    svg {\n      color: ${props.color};\n    }\n\n    ${TagWrapper}:hover & {\n      color: ${props.theme.colors.accentColor};\n    }\n\n    ${TagWrapper}:active & ,  ${TagWrapper}:focus & {\n      color: ${props.theme.colors.backgroundColor2};\n    }\n  `\n)\n\nconst StyledSvg = styled.svg(\n  (props: { size: number } & JSX.IntrinsicAttributes) => css`\n    width: ${props.size}px;\n    height: ${props.size}px;\n  `\n)\n\nconst IconWrapper = styled.span((props: { left: boolean; right: boolean }) => css``)\n\ninterface IconProps {\n  icon: string\n  className?: string\n  color?: string\n  size?: number\n  onClick?: MouseEventHandler\n  left?: boolean\n  right?: boolean\n  prefix?: string\n}\n\nconst Icon = (props: IconProps) => {\n  const {\n    icon,\n    className = '',\n    color = 'black',\n    size = 14,\n    onClick = NO_OP,\n    left = false,\n    right = false,\n    prefix = 'fas',\n  } = props\n\n  if (icon === 'pixiv') {\n    return <PixivIcon {...props} />\n  }\n\n  return (\n    <IconWrapper onClick={onClick} left={left} right={right}>\n      <StyledIcon className={`${prefix} ${icon} ${className}`} color={color} size={size} />\n    </IconWrapper>\n  )\n}\n\nexport const CharacterIcon = styled(Icon).attrs({\n  icon: 'fa-user',\n})``\n\nexport const ArtistIcon = styled(Icon).attrs({\n  icon: 'fa-pen',\n})``\n\nexport const CopyrightIcon = styled(Icon).attrs({\n  icon: 'fa-copyright',\n})``\n\nexport const PlusIcon = styled(Icon).attrs({\n  icon: 'fa-plus-circle',\n})``\n\nexport const MinusIcon = styled(Icon).attrs({\n  icon: 'fa-minus-circle',\n})``\n\nexport const CloseIcon = styled(Icon).attrs({\n  icon: 'fa-times',\n})``\n\nexport const ExpandIcon = memo(\n  styled(Icon).attrs({\n    icon: 'fa-expand',\n  })``\n)\n\nexport const ExternalLinkIcon = styled(Icon).attrs({\n  icon: 'fa-external-link-alt',\n})``\n\nexport const SourceIcon = styled(Icon).attrs({\n  icon: 'fa-hashtag',\n})``\n\nexport const RatingIcon = styled(Icon).attrs({\n  icon: 'fa-registered',\n})``\n\nexport const HeartIcon = styled(Icon).attrs({\n  icon: 'fa-heart',\n})``\n\nexport const LinkIcon = styled(Icon).attrs({\n  icon: 'fa-link',\n})``\n\nexport const BrandIcon = styled(Icon).attrs({\n  prefix: 'fab',\n})``\n\nexport const PlayIcon = memo(\n  styled(Icon).attrs({\n    icon: 'fa-play',\n  })``\n)\n\nexport const PauseIcon = memo(\n  styled(Icon).attrs({\n    icon: 'fa-pause',\n  })``\n)\n\nexport const ArrowUp = styled(Icon).attrs({\n  icon: 'fa-caret-down',\n})``\n\nexport const ArrowDown = styled(Icon).attrs({\n  icon: 'fa-caret-up',\n})``\n\nexport const ArrowLeft = styled(Icon).attrs({\n  icon: 'fa-caret-left',\n})``\n\nexport const ArrowRight = styled(Icon).attrs({\n  icon: 'fa-caret-right',\n})``\n\nexport const CodeBranchIcon = styled(Icon).attrs({\n  icon: ' fa-code-branch',\n})``\n\nexport const PixivIcon = (props: Omit<IconProps, 'icon'>) => {\n  const { color = 'black', size = 14, onClick = NO_OP, left = false, right = false } = props\n\n  return (\n    <IconWrapper onClick={onClick} left={left} right={right}>\n      <StyledSvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' size={size}>\n        <path\n          fill={color}\n          d='M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z'\n        />\n      </StyledSvg>\n    </IconWrapper>\n  )\n}\n","import styled, { css } from 'styled-components'\n\nexport const HorizontalLine = styled.div(\n  (props) => css`\n    align-self: stretch;\n    height: 1px;\n    background: ${props.theme.colors.layerBg};\n  `\n)\n\nexport const VerticalLine = styled.div(\n  (props) => css`\n    width: 1px;\n    align-self: stretch;\n    background: ${props.theme.colors.layerBg};\n  `\n)\n","import styled, { css } from 'styled-components'\nimport { gutter, layer } from '../../styled/mixins'\n\nexport default styled.div(\n  (props) => css`\n    display: grid;\n    ${gutter(props)}\n    ${layer(props)}\n    ${props.theme.shadow.box};\n    border-radius: ${props.theme.dimensions.borderRadius};\n    width: 100%;\n  `\n)\n","export const formatCount = (numberString: number) => {\n  const number = numberString\n\n  if (number >= 1e6) {\n    return `${(number / 1e6).toFixed(0)}M`\n  }\n\n  if (number >= 1e3) {\n    return `${(number / 1e3).toFixed(0)}K`\n  }\n\n  return number\n}\n\n/**\n * @param {String} sourceString\n */\nexport const formatSource = (sourceString: string) => {\n  if (\n    sourceString.includes('http:') ||\n    sourceString.includes('https:') ||\n    sourceString.includes('www.') ||\n    sourceString.includes('.com')\n  ) {\n    let semiSanitized = sourceString\n      .replace(/https?:\\/\\//, '')\n      .replace(/ww[w\\d]\\./, '')\n      .replace('.com', '')\n      .replace('.org', '')\n      .replace('.net', '')\n\n    return semiSanitized.substring(0, semiSanitized.indexOf('/'))\n  } else {\n    return sourceString\n  }\n}\n\nexport function formatDuration(duration: number) {\n  const min = Math.trunc(duration / 60)\n  const sec = Math.trunc(duration % 60)\n\n  return min + ':' + (sec < 10 ? '0' : '') + sec\n}\n","import { MouseEventHandler } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { ThemeType } from '../../misc/theme'\n\nconst dropdownBorderRadius = (collapsed: boolean, theme: ThemeType) =>\n  collapsed ? theme.dimensions.borderRadius : `${theme.dimensions.borderRadius} ${theme.dimensions.borderRadius} 0 0`\n\nconst switchingColors = (active: boolean, theme: ThemeType) => {\n  const fg = active ? theme.colors.backgroundColor : theme.colors.accentColor\n  const bg = active ? theme.colors.accentColor : theme.colors.backgroundColor\n\n  return css`\n    color: ${fg};\n    background-color: ${bg};\n    border: ${theme.colors.accentColor} ${theme.dimensions.borderWidth} solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover,\n    :focus,\n    :active {\n      border-color: ${theme.colors.backgroundColor2};\n      color: ${theme.colors.backgroundColor2};\n\n      svg {\n        color: ${theme.colors.backgroundColor2} !important;\n      }\n    }\n  `\n}\n\nconst TagWrapper = styled.div(\n  (props: { active: boolean; collapsed: boolean; onMouseLeave: MouseEventHandler; theme: ThemeType }) =>\n    css`\n      display: flex;\n      padding: 0 ${props.theme.dimensions.gutter};\n      gap: ${props.theme.dimensions.gutter};\n      align-items: center;\n      height: ${props.theme.dimensions.blockHeight};\n      border-radius: ${dropdownBorderRadius(props.collapsed, props.theme)};\n      font-size: ${props.theme.fontSizes.content};\n      ${switchingColors(props.active, props.theme)}\n    `\n)\n\nexport default TagWrapper\n","import React from 'react'\nimport styled, { css } from 'styled-components'\n\ninterface FlexPairProps {\n  children: [JSX.Element, JSX.Element]\n}\n\nconst Wrapper = styled.div(\n  ({ theme }) => css`\n    display: flex;\n    align-items: center;\n    gap: ${theme.dimensions.gutter};\n  `\n)\n\nexport default function FlexPair({ children }: FlexPairProps) {\n  return <Wrapper>{children}</Wrapper>\n}\n","import { useCallback, useState } from 'react'\n\nexport default function useToggle(initialValue = false): [boolean, () => void, () => void] {\n  const [value, setValue] = useState<boolean>(initialValue)\n  const toggleValue = useCallback(() => setValue(!value), [value])\n  const resetValue = useCallback(() => setValue(initialValue), [initialValue])\n\n  return [value, toggleValue, resetValue]\n}\n","import styled from 'styled-components'\nimport { flexColum, gutter, centeredMaxWidth } from '../../styled/mixins'\n\nconst FlexColumn = styled.div`\n  ${flexColum}\n  width: 100%;\n  min-height: 100%;\n`\n\nexport default FlexColumn\n\nexport const FlexColumnWithSpacing = styled(FlexColumn)`\n  ${gutter}\n  ${centeredMaxWidth}\n`\n","import { MouseEventHandler, useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport styled, { css } from 'styled-components'\nimport TagDataClass from '../../data/Tag'\nimport { Modifier, TagType } from '../../data/types'\nimport { formatCount } from '../../misc/formatting'\nimport { removeTag, addTag } from '../../redux/actions'\nimport { selectActiveTags } from '../../redux/selectors'\nimport { prettifyTagname } from './tagUtils'\n\ninterface TagNameProps {\n  modifier: Modifier\n  name: string\n  count?: number | null\n  types?: TagType[]\n}\n\nconst modifierToStyle = {\n  [Modifier.PLUS]: css``,\n  [Modifier.MINUS]: css`\n    text-decoration: line-through;\n  `,\n  [Modifier.OR]: css`\n    font-style: italic;\n  `,\n}\n\nconst TagNameSpan = styled.span(\n  ({ modifier = Modifier.PLUS }: Pick<TagNameProps, 'modifier'>) => css`\n    ${modifierToStyle[modifier]};\n  `\n)\n\nexport default function TagName(props: TagNameProps) {\n  const { modifier, name, count, types = [] } = props\n\n  const text = count ? `${prettifyTagname(name)} (${formatCount(count)})` : prettifyTagname(name)\n\n  const dispatch = useDispatch()\n  const activeTags = useSelector(selectActiveTags)\n\n  const toggleTag: MouseEventHandler = useCallback(\n    (event) => {\n      event.stopPropagation()\n      const tag = new TagDataClass(name, types, count, modifier)\n\n      if (name in activeTags) {\n        dispatch(removeTag(tag))\n      } else {\n        dispatch(addTag(tag))\n      }\n    },\n    [activeTags, count, dispatch, modifier, name, types]\n  )\n\n  return (\n    <TagNameSpan modifier={modifier} onClick={toggleTag}>\n      {text}\n    </TagNameSpan>\n  )\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { Modifier } from '../../data/types'\nimport TagName from './TagName'\n\ninterface AliasProps {\n  modifier: Modifier\n  name: string\n  count?: number | null\n}\n\nconst AliasWrapper = styled.div(\n  ({ theme }) => css`\n    display: flex;\n    padding: 0 ${theme.dimensions.bigSpacing};\n    gap: ${theme.dimensions.gutter};\n    align-items: center;\n    height: ${theme.dimensions.blockHeight};\n    font-size: ${theme.fontSizes.content};\n  `\n)\n\nexport default function Alias(props: AliasProps) {\n  const { modifier, name, count } = props\n\n  return (\n    <AliasWrapper>\n      <TagName modifier={modifier} name={name} count={count} />\n    </AliasWrapper>\n  )\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport TagDataClass from '../../data/Tag'\nimport { Modifier } from '../../data/types'\nimport Alias from './Alias'\nimport { ThemeType } from '../../misc/theme'\n\nconst ListWrapper = styled.div(\n  ({ theme, parentRef }: { theme: ThemeType; parentRef: HTMLDivElement }) => css`\n    position: absolute;\n    top: ${parentRef.offsetTop + parentRef.clientHeight + 4}px;\n    left: ${parentRef.offsetLeft}px;\n    width: ${parentRef.clientWidth + 4}px;\n\n    display: flex;\n    flex-direction: column;\n\n    border-bottom-left-radius: ${theme.dimensions.borderRadius};\n    border-bottom-right-radius: ${theme.dimensions.borderRadius};\n    border: ${theme.dimensions.borderWidth} solid ${theme.colors.accentColor};\n    border-top: none;\n\n    background: ${theme.colors.backgroundColor};\n    z-index: 3;\n    color: ${theme.colors.accentColor};\n\n    > :not(:last-child) {\n      border-bottom: ${theme.dimensions.borderWidth} solid ${theme.colors.accentColor};\n    }\n  `\n)\n\ninterface AliasesListProps {\n  aliases: TagDataClass[]\n  modifier: Modifier\n  parentRef: HTMLDivElement\n}\n\nexport default function AliasesList(props: AliasesListProps) {\n  const { aliases, modifier, parentRef } = props\n\n  return (\n    <ListWrapper parentRef={parentRef}>\n      {aliases.map(({ name, count }) => (\n        <Alias key={'a_' + name} modifier={modifier} name={name} count={count} />\n      ))}\n    </ListWrapper>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport api from '../../misc/api'\nimport TypeIcon from '../../icons/TypeIcon'\nimport { ArrowDown } from '../../icons/Icons'\nimport TagDataClass from '../../data/Tag'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { selectActiveTags, selectAliasesByTagName } from '../../redux/selectors'\nimport { addAliases } from '../../redux/actions'\nimport useToggle from '../../hooks/useToggle'\nimport TagWrapper from './TagWrapper'\nimport TagName from './TagName'\nimport { Modifier } from '../../data/types'\nimport AliasesList from './AliasesList'\n\n/**\n * Same data as a tag but different names\n */\ntype TagLike = {\n  name: string\n  posts: number\n}\n\ninterface TagProps extends TagDataClass {\n  loadAliases: boolean\n}\n\nexport default function NewTag(props: TagProps) {\n  const { name, count, modifier = Modifier.PLUS, types, loadAliases } = props\n\n  const [tagRef, setTagRef] = useState<HTMLDivElement | null>(null)\n  const [collapsed, toggleCollapsed, resetCollapsed] = useToggle(true)\n\n  const dispatch = useDispatch()\n  const activeTags = useSelector(selectActiveTags)\n  const aliases = useSelector(selectAliasesByTagName(name))\n\n  const isActive = name in activeTags\n\n  useEffect(() => {\n    if (loadAliases && activeTags[name])\n      api.getAliases(name).then((newAliases: TagLike[]) => {\n        newAliases.sort((a, b) => b.posts - a.posts)\n        const filtered = newAliases\n          .filter((alias) => !activeTags[alias.name])\n          .map((alias) => new TagDataClass(alias.name, [], alias.posts))\n        dispatch(addAliases(filtered, name))\n      })\n  }, [loadAliases, name, activeTags, dispatch])\n\n  return (\n    <TagWrapper active={isActive} collapsed={collapsed} onMouseLeave={resetCollapsed} ref={setTagRef}>\n      <TypeIcon types={types} />\n      <TagName modifier={modifier} name={name} count={count} />\n      {loadAliases && aliases?.length > 0 && (\n        <>\n          <ArrowDown onClick={toggleCollapsed} />\n          {!collapsed && tagRef && <AliasesList aliases={aliases} modifier={modifier} parentRef={tagRef} />}\n        </>\n      )}\n    </TagWrapper>\n  )\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport TagDataClass from '../../data/Tag'\nimport { SimpleMap } from '../../data/types'\nimport NewTag from './NewTag'\n\nexport const TagListWrapper = styled.div(\n  ({ theme }) => css`\n    display: inline-flex;\n    flex-wrap: wrap;\n    gap: ${theme.dimensions.gutter};\n  `\n)\n\ninterface TagListProps {\n  tags: SimpleMap<TagDataClass>\n  loadAliases?: boolean\n  padding?: boolean\n  className?: string\n}\n\nexport default function TagList(props: TagListProps) {\n  const { tags, loadAliases = false, className } = props\n\n  return (\n    <TagListWrapper className={className}>\n      {Object.entries(tags).map(([key, tag]) => (\n        <NewTag key={key} {...tag} loadAliases={loadAliases} />\n      ))}\n    </TagListWrapper>\n  )\n}\n","import React from 'react'\nimport { ThemeType } from '../misc/theme'\nimport { useTheme } from 'styled-components'\n\nexport default function R34Icon(props: { size: number }) {\n  const theme = useTheme() as ThemeType\n\n  return (\n    <svg xmlns='http://www.w3.org/2000/svg' width={props.size} height={props.size} viewBox='0 0 12.7 12.7'>\n      <g transform='translate(0,-284.3)'>\n        <circle\n          id='path18'\n          cx='6.3499999'\n          cy='290.65002'\n          fill='none'\n          stroke={theme.colors.accentColor}\n          strokeWidth='0.50848764'\n          strokeMiterlimit='4'\n          strokeDasharray='none'\n          strokeOpacity='1'\n          r='6.0957561'\n        />\n        <text\n          fontStyle='normal'\n          fontWeight='normal'\n          fontSize='8.3113203px'\n          fontFamily='sansSerif'\n          letterSpacing='0px'\n          wordSpacing='0px'\n          fill={theme.colors.accentColor}\n          fillOpacity='1'\n          x='2.1363549'\n          y='289.02704'\n          id='text4533'\n          transform='scale(0.98538224,1.0148346)'\n        >\n          <tspan\n            id='tspan4531'\n            x='2'\n            y='289.1'\n            fontStyle='normal'\n            fontVariant='normal'\n            fontWeight='300'\n            fontStretch='normal'\n            fontFamily='Calibri'\n            fill={theme.colors.accentColor}\n            fillOpacity='1'\n          >\n            34\n          </tspan>\n        </text>\n      </g>\n    </svg>\n  )\n}\n","import React, { RefAttributes } from 'react'\nimport { Link, LinkProps, useLocation } from 'react-router-dom'\nimport styled, { css, ThemeProps } from 'styled-components'\nimport { RouteName } from '../../data/types'\nimport R34Icon from '../../icons/R34Icon'\nimport { flexColum } from '../../styled/mixins'\nimport { VerticalLine } from '../common/Lines'\nimport { BigTitle } from '../common/Text'\n\nconst HeaderWrapper = styled.header(\n  ({ theme }) => css`\n    ${flexColum()}\n    gap: ${theme.dimensions.bigSpacing};\n  `\n)\n\nconst TitleBar = styled.div(\n  ({ theme }) => css`\n    display: flex;\n    gap: ${theme.dimensions.bigSpacing};\n    align-items: center;\n    justify-content: center;\n    background: ${theme.colors.layerBgSolid};\n    padding: ${theme.dimensions.gutter} 0;\n    ${theme.shadow.box};\n  `\n)\n\nconst MenuBar = styled.nav(\n  ({ theme }) => css`\n    display: flex;\n    justify-content: center;\n    padding: ${theme.dimensions.bigSpacing};\n    gap: ${theme.dimensions.hugeSpacing};\n  `\n)\n\ntype LocationStyledLinkProps = LinkProps<unknown> &\n  RefAttributes<HTMLAnchorElement> &\n  ThemeProps<any> & { current: string }\n\nconst LocationStyledLink = styled(Link)(\n  ({ to, current, theme }: LocationStyledLinkProps) => css`\n    color: ${to === current ? theme.colors.accentColor : theme.colors.backgroundColor2};\n  `\n)\n\nexport default function Header() {\n  const current = useLocation().pathname\n\n  return (\n    <HeaderWrapper role='cell'>\n      <TitleBar>\n        <R34Icon size={32} />\n        <VerticalLine />\n        <BigTitle>\n          <span>Browse</span> <a href='https://rule34.xxx'>Rule34</a>\n        </BigTitle>\n      </TitleBar>\n\n      <MenuBar role='cell'>\n        <LocationStyledLink current={current} to={RouteName.SEARCH}>\n          Search\n        </LocationStyledLink>\n        <VerticalLine />\n        <LocationStyledLink current={current} to={RouteName.HELP}>\n          Help\n        </LocationStyledLink>\n        <VerticalLine />\n        <LocationStyledLink current={current} to={RouteName.SETTINGS}>\n          Settings\n        </LocationStyledLink>\n      </MenuBar>\n    </HeaderWrapper>\n  )\n}\n","export function prettifyTagname(tagname: string) {\n  return tagname.replace(/_/g, ' ')\n}\n\nexport function normalizeTagname(tagname: string) {\n  return tagname.toLowerCase().replace(/ /g, '_')\n}\n","import React, { MouseEventHandler } from 'react'\nimport styled, { css } from 'styled-components'\nimport { ThemeType } from '../../misc/theme'\nimport { defaultBorder } from '../../styled/mixins'\n\nconst Track = styled.div(\n  (props) => css`\n    height: 24px;\n    width: 50px;\n    ${defaultBorder(props)}\n    border-radius: 30px;\n    background-color: ${props.theme.colors.backgroundColor};\n    transition: transform ${props.theme.timings.longTransitionTime} ease-in-out;\n  `\n)\n\nconst Thumb = styled.div(\n  (props: { value: boolean; theme: ThemeType }) => css`\n    height: 100%;\n    aspect-ratio: 1/1;\n    background-color: ${props.value ? props.theme.colors.accentColor : props.theme.colors.backgroundColor2};\n    border-radius: 50%;\n    transition: all 0.2s ease-in-out;\n    transform: translate(${props.value ? '26px' : '0px'});\n  `\n)\n\ninterface ToggleProps {\n  value: boolean\n  onToggle: MouseEventHandler\n}\n\nexport default function Toggle(props: ToggleProps) {\n  const { value, onToggle } = props\n\n  return (\n    <Track onClick={onToggle}>\n      <Thumb value={value} />\n    </Track>\n  )\n}\n","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { PreferenceKey } from '../data/types'\nimport { setOption } from '../redux/actions'\nimport { PreferencesState } from '../redux/reducers/preferences'\nimport { selectPreferences } from '../redux/selectors'\n\nexport default function usePreference<T extends PreferenceKey>(\n  key: T\n): [PreferencesState[T], (value: PreferencesState[T]) => void] {\n  const dispatch = useDispatch()\n  const preferences = useSelector(selectPreferences)\n  const setPreference = useCallback((value: any) => dispatch(setOption(key, value)), [dispatch, key])\n\n  return [preferences[key], setPreference]\n}\n"],"sourceRoot":""}