(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{42:function(e,t,n){e.exports=n.p+"static/media/OutOfResults.00a98fae.png"},60:function(e,t,n){e.exports=n(83)},70:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a,r,o,c,i,l,s=n(0),d=n.n(s),u=n(24),m=n.n(u),b=n(8),g=n(34),p=n(15),h=n(50),f=n(2),O=n(4);const j=f.d.button(({theme:e})=>Object(f.c)(a||(a=Object(O.a)(["\n    height: ",";\n    padding: 0 ",";\n    font-size: ",";\n    border: "," "," solid;\n    border-radius: ",";\n\n    transition: all "," ease-in-out;\n  "])),e.dimensions.blockHeight,e.dimensions.bigSpacing,e.fontSizes.content,e.colors.accentColor,e.dimensions.borderWidth,e.dimensions.borderRadius,e.timings.longTransitionTime)),E=f.d.button(({theme:e})=>Object(f.c)(r||(r=Object(O.a)(["\n    background-color: transparent;\n    border: none;\n    padding: ",";\n    filter: ",";\n\n    svg {\n      transition: all "," ease-in-out;\n    }\n\n    :hover {\n      svg {\n        transform: scale(1.1);\n      }\n    }\n  "])),e.dimensions.spacing,e.shadow.drop,e.timings.transitionTime)),v=Object(f.d)(j)(({theme:e})=>Object(f.c)(o||(o=Object(O.a)(["\n    color: ",";\n    background: ",";\n\n    :hover {\n      background-color: ",";\n      color: ",";\n    }\n\n    :active,\n    :focus {\n      color: ",";\n      border-color: ",";\n    }\n  "])),e.colors.accentColor,e.colors.backgroundColor,e.colors.accentColor,e.colors.backgroundColor,e.colors.backgroundColor2,e.colors.backgroundColor2)),w=Object(f.d)(v)(({theme:e})=>Object(f.c)(c||(c=Object(O.a)(["\n    width: 100%;\n  "])))),y=Object(f.d)(v)(({theme:e})=>Object(f.c)(i||(i=Object(O.a)(["\n    border-left-width: 0;\n    border-radius: 0 ","\n      "," 0;\n  "])),e.dimensions.borderRadius,e.dimensions.borderRadius)),k=Object(f.d)(j)(({theme:e})=>Object(f.c)(l||(l=Object(O.a)(["\n    background-color: transparent;\n    min-width: 48px;\n    border: "," "," solid;\n    border-right-width: 0;\n    border-radius: "," 0 0\n      ",";\n    font-weight: bold;\n  "])),e.colors.accentColor,e.dimensions.borderWidth,e.dimensions.borderRadius,e.dimensions.borderRadius)),x=e=>({type:"R34_ADD_TAG",tag:e}),C=(e,t)=>({type:"R34_SET_OPTION",key:e,value:t}),_=()=>({type:"R34_GET_RESULTS"}),S=()=>({type:"R34_GET_MORE_RESULTS"}),T=()=>({type:"R34_ALLOW_COOKIES",value:!0}),R=e=>e.tags.active,z=e=>e.results.posts,L=e=>e.results.count,N=e=>e.results.pageNumber,A=e=>e.preferences,I=e=>e.preferences.originals,P=e=>e.preferences.cookies,M=e=>Object.values(e.tags.aliases).flat(),D=e=>Object.keys(e.results.posts).length===e.results.count;function W(e){const t=Object(b.b)();return Object(s.useCallback)(()=>{t(e())},[e,t])}var F,G;const H=f.d.div(({theme:e})=>Object(f.c)(F||(F=Object(O.a)(["\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    color: ",";\n    background: ",";\n\n    padding: ",";\n  "])),e.colors.text,e.misc.layer,e.dimensions.gutter)),B=f.d.span(G||(G=Object(O.a)(["\n  height: min-content;\n"])));function V(){const e=Object(b.c)(P),t=W(T);return e?null:d.a.createElement(H,null,d.a.createElement(B,null,"This website uses cookies."),d.a.createElement(v,{onClick:t,"aria-label":"Allow Cookies"},"Got it"))}var U,X=Object(f.b)(e=>Object(f.c)(U||(U=Object(O.a)(['\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n\n      font-family: "Raleway", sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n\n      :focus {\n        outline: none;\n      }\n    }\n\n    html,\n    body,\n    #app-root {\n      width: 100%;\n      height: 100%;\n    }\n\n    body {\n      font-size: ',";\n      color: ",";\n      background-color: ",";\n    }\n\n    a {\n      color: ",";\n      text-decoration: none;\n    }\n  "])),e.theme.fontSizes.content,e.theme.colors.backgroundColor2,e.theme.colors.backgroundColor,e.theme.colors.accentColor));var q,K,J,Y={dimensions:{borderRadius:"3px",borderWidth:"2px",spacing:"4px",bigSpacing:"8px",appMargin:"16px",gutter:"8px",blockHeight:"32px",bodyWidth:"1000px"},colors:{accentColor:"#ee3344",hoverAccent:"#ee3344",backgroundColor:"#121212",backgroundColor2:"#fff",subduedText:"#ffffff80"},shadow:{box:"box-shadow: 0 0 8px #000",drop:"drop-shadow(0 0 4px #000)"},timings:{transistionTime:"0.2s",longTransitionTime:"0.2s"},misc:{layer:"#ffffff11; :hover { background: #ffffff16;} transition: background-color 0.2s ease-in-out"},fontSizes:{content:"15px",bigTitle:"24px"}};const Q=f.d.h2(({theme:e})=>Object(f.c)(q||(q=Object(O.a)(["\n    font-size: ",";\n    padding: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),e.fontSizes.bigTitle,e.dimensions.spacing)),Z=f.d.h1(({theme:e})=>Object(f.c)(K||(K=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    font-size: ",";\n    font-weight: lighter;\n    text-align: center;\n  "])),e.fontSizes.bigTitle)),$=f.d.h3(e=>Object(f.c)(J||(J=Object(O.a)(["\n    font-size: ",";\n  "])),e.theme.fontSizes.content));var ee,te=f.d.div(e=>Object(f.c)(ee||(ee=Object(O.a)(["\n    display: grid;\n    padding: ",";\n    background: ",";\n    ",";\n    border-radius: ",";\n    width: 100%;\n    gap: ",";\n  "])),e.theme.dimensions.gutter,e.theme.misc.layer,e.theme.shadow.box,e.theme.dimensions.borderRadius,e.theme.dimensions.gutter)),ne=n(30),ae=n(14),re=n(28),oe=n.n(re),ce=n(36);let ie="https://r34-json.herokuapp.com";fetch(ie).catch(()=>ie="https://r34-api-clone.herokuapp.com");var le,se={getTags:(e,t=20)=>Object(ce.a)(oe.a.mark((function n(){var a;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(ie,"/tags?limit=").concat(t,"&name=").concat(e,"*&order_by=posts"));case 2:return a=n.sent,n.next=5,a.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))(),getPosts:(e,t=0,n=0)=>Object(ce.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(de(t,e,n));case 2:return r=a.sent,a.next=5,r.json();case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))(),getAliases:e=>Object(ce.a)(oe.a.mark((function t(){var n;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(ie,"/alias/").concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()};function de(e,t,n){const a=Object.values(t).map(e=>"".concat("-"===e.modifier?"-":"").concat(encodeURIComponent(e.name))).join("+");let r="".concat(ie,"/posts?pid=").concat(e,"&limit=").concat(20,"&tags=").concat(a);return n>0&&(r+="+".concat(encodeURIComponent("score:>="+n))),r}class ue{constructor(e,t,n,a,r,o,c,i,l,s,d,u,m,b,g,p,h,f,O,j,E){this.id=void 0,this.score=void 0,this.rating=void 0,this.source=void 0,this.tags=void 0,this.media_type=void 0,this.thumbnail_src=void 0,this.small_src=void 0,this.big_src=void 0,this.width=void 0,this.height=void 0,this.creator_id=void 0,this.creator_url=void 0,this.status=void 0,this.parent_id=void 0,this.has_children=void 0,this.has_comments=void 0,this.comments_url=void 0,this.has_notes=void 0,this.created_at=void 0,this.change=void 0,this.id=e,this.score=t,this.rating=n,this.source=a,this.tags=r,this.media_type=o,this.small_src=c,this.big_src=i,this.thumbnail_src=l,this.width=s,this.height=d,this.creator_id=u,this.creator_url=m,this.status=b,this.parent_id=g,this.has_children=p,this.has_comments=h,this.comments_url=f,this.has_notes=O,this.created_at=j,this.change=E}}class me{constructor(e,t=[],n=null,a="+"){this.name=void 0,this.count=void 0,this.types=void 0,this.modifier=void 0,this.name=e,this.types=t,this.count=n,this.modifier=a}}function be(e){const t=e.id,n=e.type,a=e.score,r=e.rating,o=e.source,c=e.tags,i=e.file_url,l=e.width,s=e.height,d=e.creator_id,u=e.creator_url,m=e.sample_url,b=e.preview_url,g=e.status,p=e.parent_id,h=e.has_children,f=e.has_comments,O=e.comments_url,j=e.has_notes,E=e.created_at,v=e.change;return new ue(Number(t),Number(a),r,o,c?c.map(e=>new me(e)):[],n,m,i,b,Number(l),Number(s),Number(d),u,g,Number(p),Boolean(h),Boolean(f),O,Boolean(j),E,v)}const ge=f.d.input(e=>Object(f.c)(le||(le=Object(O.a)(["\n    width: 100%;\n    border: none;\n    outline: none;\n    background: none;\n    font-size: ",";\n    border-top: ","\n      "," solid;\n    border-bottom: ","\n      "," solid;\n  "])),e.theme.fontSizes.content,e.theme.colors.accentColor,e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.dimensions.borderWidth));function pe(e){const t=e.value,n=e.setValue;return d.a.createElement(ge,{id:"tag-input",value:t,onChange:e=>n(e.target.value),placeholder:"Search for tags","aria-label":"Search"})}const he=()=>{};n(70);function fe(e){return e.replace(/_/g," ")}const Oe=e=>{const t=e;return t>=1e6?"".concat((t/1e6).toFixed(0),"M"):t>=1e3?"".concat((t/1e3).toFixed(0),"K"):t};function je(e=!1){const t=Object(s.useState)(e),n=Object(ae.a)(t,2),a=n[0],r=n[1],o=Object(s.useCallback)(()=>r(!a),[a]),c=Object(s.useCallback)(()=>r(e),[e]);return[a,o,c]}var Ee,ve,we;const ye=f.d.div(e=>{return Object(f.c)(ve||(ve=Object(O.a)(["\n      display: inline-block;\n      padding: 0.25rem;\n      border-radius: ",";\n      font-size: ",";\n      line-height: 1.2;\n      vertical-align: baseline;\n      margin: ",";\n      ","\n    "])),(t=e.collapsed,n=e.theme,t?n.dimensions.borderRadius:"".concat(n.dimensions.borderRadius," ").concat(n.dimensions.borderRadius," 0 0")),e.theme.fontSizes.content,e.theme.dimensions.spacing,((e,t)=>{const n=e?t.colors.backgroundColor:t.colors.accentColor,a=e?t.colors.accentColor:t.colors.backgroundColor;return Object(f.c)(Ee||(Ee=Object(O.a)(["\n    color: ",";\n    background-color: ",";\n    border: "," "," solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover,\n    :focus,\n    :active {\n      border-color: ",";\n      color: ",";\n\n      i {\n        color: ",";\n      }\n    }\n  "])),n,a,t.colors.accentColor,t.dimensions.borderWidth,t.colors.backgroundColor2,t.colors.backgroundColor2,t.colors.backgroundColor2)})(e.active,e.theme));var t,n}),ke=f.d.span(e=>Object(f.c)(we||(we=Object(O.a)(["\n    ","\n    ","\n  "])),e.left?"margin-right: 5px;":"",e.right?"margin-left: 5px;":""));function xe(e){const t=e.name,n=e.count,a=e.modifier,r=e.types,o=Object(b.b)(),c=fe(t),i=n?"".concat(c," (").concat(Oe(n),")"):c,l=Object(b.c)(R);return d.a.createElement("span",{onClick:e=>{e.stopPropagation(),l[t]?o({type:"R34_REMOVE_TAG",tag:new me(t,r,n)}):o(x(new me(t,r,n)))}},"-"===a?d.a.createElement("s",null,i):i)}function Ce(e){const t=e.name,n=e.count;return d.a.createElement("div",{className:"alias"},d.a.createElement(xe,{name:t,count:n}))}var _e,Se,Te,Re,ze,Le,Ne,Ae,Ie,Pe,Me,De,We,Fe,Ge,He,Be,Ve,Ue,Xe,qe,Ke=function(e){const t=e.name,n=e.count,a=e.modifier,r=e.types,o=e.loadAliases,c=Object(b.c)(R),i=Object(b.c)((l=t,e=>e.tags.aliases[l]));var l;const u=je(!0),m=Object(ae.a)(u,3),g=m[0],p=m[1],h=m[2],f=Object(b.b)();Object(s.useEffect)(()=>{o&&c[t]&&se.getAliases(t).then(e=>{e.sort((e,t)=>t.posts-e.posts);const n=e.filter(e=>!c[e.name]).map(e=>new me(e.name,[],e.posts));f(((e,t)=>({type:"R34_ADD_ALIASES",aliases:e,forTag:t}))(n,t))})},[o,t,c,f]);const O=Boolean(c[t]),j=o&&i&&i.length>0;return d.a.createElement(ye,{active:O,collapsed:g,onMouseLeave:h},d.a.createElement(bt,{types:r,left:!0}),d.a.createElement(xe,{name:t,count:n,modifier:a,types:r}),j&&d.a.createElement(d.a.Fragment,null,d.a.createElement(ke,{right:!0,onClick:p},d.a.createElement(at,null)),d.a.createElement("div",{className:"dropdown-list"+(g?"":" visible")},i.map(({name:e,count:t})=>d.a.createElement(Ce,{key:"t_"+e,name:e,count:t})))))};const Je=f.d.i(e=>Object(f.c)(_e||(_e=Object(O.a)(["\n    color: ",";\n    min-width: ","px;\n    height: ","px;\n\n    ",":hover & {\n      color: ",";\n    }\n\n    ",":active & ,  ",":focus & {\n      color: ",";\n    }\n  "])),e.color,e.size,e.size,ye,e.theme.colors.accentColor,ye,ye,e.theme.colors.backgroundColor2)),Ye=f.d.svg(e=>Object(f.c)(Se||(Se=Object(O.a)(["\n    width: ","px;\n    height: ","px;\n  "])),e.size,e.size)),Qe=f.d.span(e=>Object(f.c)(Te||(Te=Object(O.a)([""])))),Ze=e=>{const t=e.icon,n=e.className,a=void 0===n?"":n,r=e.color,o=void 0===r?"black":r,c=e.size,i=void 0===c?14:c,l=e.onClick,s=void 0===l?he:l,u=e.left,m=void 0!==u&&u,b=e.right,g=void 0!==b&&b,p=e.prefix,h=void 0===p?"fas":p;return d.a.createElement(Qe,{onClick:s,left:m,right:g},d.a.createElement(Je,{className:"".concat(h," ").concat(t," ").concat(a),color:o,size:i}))},$e=Object(f.d)(Ze).attrs({icon:"fa-user"})(Re||(Re=Object(O.a)([""]))),et=Object(f.d)(Ze).attrs({icon:"fa-pen"})(ze||(ze=Object(O.a)([""]))),tt=Object(f.d)(Ze).attrs({icon:"fa-copyright"})(Le||(Le=Object(O.a)([""]))),nt=(Object(f.d)(Ze).attrs({icon:"fa-plus-circle"})(Ne||(Ne=Object(O.a)([""]))),Object(f.d)(Ze).attrs({icon:"fa-minus-circle"})(Ae||(Ae=Object(O.a)([""]))),Object(f.d)(Ze).attrs({icon:"fa-times"})(Ie||(Ie=Object(O.a)([""]))),Object(s.memo)(Object(f.d)(Ze).attrs({icon:"fa-expand"})(Pe||(Pe=Object(O.a)([""]))))),at=Object(f.d)(Ze).attrs({icon:"fa-caret-down"})(Me||(Me=Object(O.a)([""]))),rt=Object(f.d)(Ze).attrs({icon:"fa-external-link-alt"})(De||(De=Object(O.a)([""]))),ot=Object(f.d)(Ze).attrs({icon:"fa-hashtag"})(We||(We=Object(O.a)([""]))),ct=Object(f.d)(Ze).attrs({icon:"fa-registered"})(Fe||(Fe=Object(O.a)([""]))),it=Object(f.d)(Ze).attrs({icon:"fa-heart"})(Ge||(Ge=Object(O.a)([""]))),lt=Object(f.d)(Ze).attrs({prefix:"fab",icon:"fa-twitter"})(He||(He=Object(O.a)([""]))),st=Object(f.d)(Ze).attrs({icon:"fa-link"})(Be||(Be=Object(O.a)([""]))),dt=Object(s.memo)(Object(f.d)(Ze).attrs({icon:"fa-play"})(Ve||(Ve=Object(O.a)([""])))),ut=Object(s.memo)(Object(f.d)(Ze).attrs({icon:"fa-pause"})(Ue||(Ue=Object(O.a)([""])))),mt=(Object(f.d)(Ze).attrs({icon:"fa-caret-down"})(Xe||(Xe=Object(O.a)([""]))),Object(f.d)(Ze).attrs({icon:"fa-caret-up"})(qe||(qe=Object(O.a)([""]))),e=>{const t=e.color,n=void 0===t?"black":t,a=e.size,r=void 0===a?14:a,o=e.onClick,c=void 0===o?he:o,i=e.left,l=void 0!==i&&i,s=e.right,u=void 0!==s&&s;return d.a.createElement(Qe,{onClick:c,left:l,right:u},d.a.createElement(Ye,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",size:r},d.a.createElement("path",{fill:n,d:"M4.935 0A4.924 4.924 0 0 0 0 4.935v14.13A4.924 4.924 0 0 0 4.935 24h14.13A4.924 4.924 0 0 0 24 19.065V4.935A4.924 4.924 0 0 0 19.065 0zm7.81 4.547c2.181 0 4.058.676 5.399 1.847a6.118 6.118 0 0 1 2.116 4.66c.005 1.854-.88 3.476-2.257 4.563-1.375 1.092-3.225 1.697-5.258 1.697-2.314 0-4.46-.842-4.46-.842v2.718c.397.116 1.048.365.635.779H5.79c-.41-.41.19-.65.644-.779V7.666c-1.053.81-1.593 1.51-1.868 2.031.32 1.02-.284.969-.284.969l-1.09-1.73s3.868-4.39 9.553-4.39zm-.19.971c-1.423-.003-3.184.473-4.27 1.244v8.646c.988.487 2.484.832 4.26.832h.01c1.596 0 2.98-.593 3.93-1.533.952-.948 1.486-2.183 1.492-3.683-.005-1.54-.504-2.864-1.42-3.86-.918-.992-2.274-1.645-4.002-1.646Z"})))});function bt(e){const t=e.types,n=void 0===t?[]:t,a=e.className,r=void 0===a?"":a,o=e.onClick,c=void 0===o?he:o;switch(n.find(e=>!e.match(/^[general|ambiguous]$/))){case"character":return d.a.createElement($e,{className:r,onClick:c});case"copyright":return d.a.createElement(tt,{className:r,onClick:c});case"artist":return d.a.createElement(et,{className:r,onClick:c});default:return d.a.createElement("div",{className:r})}}var gt;const pt=f.d.div(({theme:e})=>Object(f.c)(gt||(gt=Object(O.a)(["\n    display: grid;\n    grid-template-columns: 48px 1fr auto;\n    height: ",";\n    background: white;\n    align-items: center;\n\n    > :first-child {\n      text-align: center;\n    }\n\n    :focus {\n      text-decoration: underline;\n    }\n  "])),e.dimensions.blockHeight));function ht(e){const t=e.name,n=e.posts,a=e.types,r=e.onClick;return d.a.createElement(pt,{onClick:r},d.a.createElement(bt,{types:a}),d.a.createElement("span",{style:{flexGrow:1}},fe(t)),d.a.createElement("span",{style:{paddingRight:5}},Oe(n)," posts"))}var ft,Ot;const jt=f.d.div(e=>Object(f.c)(Ot||(Ot=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    ",";\n    background: lightgrey;\n    gap: 1px;\n    box-sizing: border-box;\n    border: ","\n      "," solid;\n    border-top: none;\n    border-radius: 0 0 3px 3px;\n    color: black;\n    z-index: 1;\n  "])),function(e){if(e){const t=e.offsetTop,n=e.clientHeight,a=e.offsetLeft,r=e.clientWidth;return Object(f.c)(ft||(ft=Object(O.a)(["\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n      max-height: 50vh;\n      overflow-y: scroll;\n    "])),t+n,a,r)}return""}(e.tagSelectorRef),e.theme.dimensions.borderWidth,e.theme.colors.accentColor));function Et(e){const t=e.tagSelectorRef,n=e.entries,a=e.onClick;return n&&n.length>0?d.a.createElement(jt,{tagSelectorRef:t},n.map(e=>d.a.createElement(ht,Object.assign({key:e.name,onClick:()=>a(e)},e)))):null}var vt,wt,yt;const kt=f.d.div(e=>Object(f.c)(vt||(vt=Object(O.a)(["\n    display: flex;\n    background: white;\n    ","\n  "])),e.closed?Object(f.c)(wt||(wt=Object(O.a)(["\n          border-radius: ",";\n        "])),e.theme.dimensions.borderRadius):Object(f.c)(yt||(yt=Object(O.a)(["\n          border-radius: ","\n            "," 0 0;\n\n          > "," {\n            border-radius: 0 "," 0 0;\n          }\n\n          > "," {\n            border-radius: "," 0 0 0;\n          }\n        "])),e.theme.dimensions.borderRadius,e.theme.dimensions.borderRadius,y,e.theme.dimensions.borderRadius,k,e.theme.dimensions.borderRadius)));function xt(){const e=Object(b.b)(),t=Object(s.useState)(""),n=Object(ae.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)("+"),c=Object(ae.a)(o,2),i=c[0],l=c[1],u=Object(s.useState)([]),m=Object(ae.a)(u,2),g=m[0],p=m[1],h=Object(b.c)(A).tagSuggestionsCount,f=Object(s.useState)(null),O=Object(ae.a)(f,2),j=O[0],E=O[1],v=Object(s.useCallback)(({name:t,posts:n,types:a})=>{e(x(function(e){const t=e.name,n=e.types,a=e.count,r=e.modifier;return new me(t,n,Number(a),r)}({name:t,types:a,modifier:i,count:n}))),r(""),p([])},[e,i]);Object(s.useEffect)(()=>{const e=setTimeout(()=>{var e;a?se.getTags((e=a,e.toLowerCase().replace(/ /g,"_")),h).then(e=>{p(e)}):p([])},300);return()=>clearTimeout(e)},[h,a]);const w=Object(s.useCallback)(()=>l("+"===i?"-":"+"),[i,l]),C=Object(s.useCallback)(()=>{if(a&&""!==a.trim()){const e=g.find(e=>e.name===a)||{};v(Object(ne.a)(Object(ne.a)({},e),{},{name:a}))}},[a,v,g]),_=Object(s.useCallback)(e=>v(e),[v]);return d.a.createElement(kt,{ref:E,closed:0===g.length},d.a.createElement(k,{onClick:w,"aria-label":"Tag Modifier"},i),d.a.createElement(pe,{value:a,setValue:r}),d.a.createElement(y,{onClick:C,"aria-label":"Add Tag"},"Add"),g.length>0&&d.a.createElement(Et,{tagSelectorRef:j,entries:g,onClick:_}))}var Ct;const _t=f.d.div(({theme:e})=>Object(f.c)(Ct||(Ct=Object(O.a)(["\n    display: flex;\n    align-items: center;\n    gap: ",";\n  "])),e.dimensions.spacing));function St({children:e}){return d.a.createElement(_t,null,e)}var Tt,Rt;const zt=f.d.div(e=>Object(f.c)(Tt||(Tt=Object(O.a)(["\n    border-radius: 30px;\n    width: 50px;\n    border: "," solid\n      ",";\n    background-color: ",";\n    transition: transform "," ease-in-out;\n  "])),e.theme.dimensions.borderWidth,e.theme.colors.accentColor,e.theme.colors.backgroundColor,e.theme.timings.longTransitionTime)),Lt=f.d.div(e=>Object(f.c)(Rt||(Rt=Object(O.a)(["\n    width: 20px;\n    height: 20px;\n    background-color: ",";\n    border-radius: 50%;\n    transition: all 0.2s ease-in-out;\n    transform: translate(",");\n  "])),e.value?e.theme.colors.accentColor:e.theme.colors.backgroundColor2,e.value?"30px":"0px"));function Nt(e){const t=e.value,n=e.onToggle;return d.a.createElement(zt,{onClick:n},d.a.createElement(Lt,{value:t}))}function At(e){const t=e.children,n=e.value,a=e.onToggle;return d.a.createElement(St,null,d.a.createElement(Nt,{value:n,onToggle:a}),d.a.createElement("span",null,t))}var It,Pt;const Mt=f.d.div(({theme:e})=>Object(f.c)(It||(It=Object(O.a)(["\n    display: grid;\n    gap: ",";\n  "])),e.dimensions.gutter)),Dt=f.d.input(e=>Object(f.c)(Pt||(Pt=Object(O.a)(["\n    background: none;\n    border: none;\n    outline: none;\n    color: ",";\n    width: ","em;\n    text-align: right;\n    font-size: ",";\n    margin: -1px 0.2em 0 0.2em;\n\n    ::-webkit-inner-spin-button,\n    ::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n    -moz-appearance: textfield;\n  "])),e.theme.colors.accentColor,.65*String(e.value).length,e.theme.fontSizes.content));function Wt(){const e=Object(b.b)(),t=Object(b.c)(A),n=t.rated,a=t.ratedTreshold,r=Object(s.useState)(a),o=Object(ae.a)(r,2),c=o[0],i=o[1],l=Object(s.useCallback)(()=>e(C("rated",!n)),[e,n]),u=Object(s.useCallback)(()=>e(C("ratedTreshold",c)),[e,c]);return d.a.createElement(Mt,null,d.a.createElement(At,{value:n,onToggle:l},n?d.a.createElement("div",{style:{display:"flex"}},d.a.createElement("span",null,"More than"),d.a.createElement(Dt,{type:"number",value:c,onChange:e=>i(Number(e.target.value)),onBlur:u}),d.a.createElement("span",null,"likes")):"Only show Rated Posts"))}var Ft;const Gt=f.d.div(e=>Object(f.c)(Ft||(Ft=Object(O.a)(["\n    display: inline-flex;\n    flex-wrap: wrap;\n    margin: calc(\n      "," -\n        ","\n    );\n  "])),e.padding?e.theme.dimensions.gutter:"0px",e.theme.dimensions.spacing));function Ht(e){const t=e.tags,n=e.loadAliases,a=void 0!==n&&n,r=e.padding,o=void 0!==r&&r;return d.a.createElement("div",null,d.a.createElement(Gt,{padding:o},Object.entries(t).map(([e,t])=>d.a.createElement(Ke,Object.assign({key:e},t,{loadAliases:a})))))}function Bt(e){const t=Object(f.f)();return d.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 12.7 12.7"},d.a.createElement("g",{transform:"translate(0,-284.3)"},d.a.createElement("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:t.colors.accentColor,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),d.a.createElement("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:t.colors.accentColor,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)"},d.a.createElement("tspan",{id:"tspan4531",x:"2",y:"289.1",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:t.colors.accentColor,fillOpacity:"1"},"34"))))}var Vt,Ut;const Xt=f.d.div(e=>Object(f.c)(Vt||(Vt=Object(O.a)(["\n    align-self: stretch;\n    height: 1px;\n    background: ",";\n  "])),e.theme.misc.layer)),qt=f.d.div(e=>Object(f.c)(Ut||(Ut=Object(O.a)(["\n    width: 1px;\n    align-self: stretch;\n    background: ",";\n  "])),e.theme.misc.layer));var Kt,Jt,Yt,Qt;const Zt=f.d.header(({theme:e})=>Object(f.c)(Kt||(Kt=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n  "])),e.dimensions.bigSpacing)),$t=f.d.div(({theme:e})=>Object(f.c)(Jt||(Jt=Object(O.a)(["\n    display: flex;\n    gap: ",";\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    padding: "," 0;\n    ",";\n  "])),e.dimensions.bigSpacing,e.misc.layer,e.dimensions.gutter,e.shadow.box)),en=f.d.nav(({theme:e})=>Object(f.c)(Yt||(Yt=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    gap: ",";\n  "])),e.dimensions.bigSpacing)),tn=Object(f.d)(g.b)(({to:e,current:t,theme:n})=>Object(f.c)(Qt||(Qt=Object(O.a)(["\n    color: ",";\n  "])),e===t?n.colors.accentColor:n.colors.backgroundColor2));function nn(){const e=Object(p.f)().pathname;return d.a.createElement(Zt,{role:"cell"},d.a.createElement($t,null,d.a.createElement(Bt,{size:32}),d.a.createElement(qt,null),d.a.createElement(Z,null,"Browse ",d.a.createElement("a",{href:"https://rule34.xxx"},"Rule34"))),d.a.createElement(en,{role:"cell"},d.a.createElement(tn,{current:e,to:"/"},"Search"),d.a.createElement(tn,{current:e,to:"/help"},"Help"),d.a.createElement(tn,{current:e,to:"/settings"},"Settings")))}var an,rn;const on=f.d.footer(e=>Object(f.c)(an||(an=Object(O.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1px 1fr 1px 1fr;\n    justify-content: space-around;\n    padding: ",";\n  "])),e.theme.dimensions.spacing)),cn=f.d.a(rn||(rn=Object(O.a)(["\n  text-align: center;\n"])));function ln(){return d.a.createElement(on,null,d.a.createElement(cn,{href:"https://github.com/kurozenzen/r34-react/issues/new?template=bug_report.md"},"Report a bug"),d.a.createElement(qt,null),d.a.createElement(cn,{href:"https://github.com/kurozenzen/r34-react"},"Github"),d.a.createElement(qt,null),d.a.createElement(cn,{href:"https://github.com/kurozenzen/r34-react/issues/new?template=feature_request.md"},"Feature request"))}var sn,dn;const un=f.d.div(sn||(sn=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n"])));var mn=un;const bn=Object(f.d)(un)(({theme:e})=>Object(f.c)(dn||(dn=Object(O.a)(["\n    gap: ",";\n    padding: ",";\n  "])),e.dimensions.gutter,e.dimensions.gutter));var gn;const pn=f.d.ol(({theme:e})=>Object(f.c)(gn||(gn=Object(O.a)(["\n    padding-left: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n  "])),e.dimensions.spacing));function hn(){return d.a.createElement(mn,null,d.a.createElement(nn,null),d.a.createElement(bn,null,d.a.createElement(Q,null,"Help"),d.a.createElement(te,null,d.a.createElement(Q,null,"Searching for Tags"),d.a.createElement(Xt,null),d.a.createElement(xt,null),d.a.createElement(Xt,null),d.a.createElement("p",null,"You can use the Tag Selector to look for tags you like.The Tag Selector has 4 parts."),d.a.createElement(pn,null,d.a.createElement("li",null,'The modifier (left) determines wether posts must match a tag or not. Putting "-" will hide all posts with this tag'),d.a.createElement("li",null,"The Search Box (center) allows you to search for tags. As soon as you start typing the Tag Selector will show you relevant tags to choose from (4)."),d.a.createElement("li",null,"The Add Button (right) Allows you to add any tag to the current filter. Usefull when using wildcards."),d.a.createElement("li",null,"The Tag Dropdown (left) automatically shows tags that start with your input. It also includes The number of posts tagged, to allow you to weigh tags against each other."))),d.a.createElement(te,null,d.a.createElement(Q,null,"Options"),d.a.createElement(Xt,null),d.a.createElement(Wt,null),d.a.createElement(Xt,null),d.a.createElement("p",null,"Options allow you to customize your experience in various ways. There are 3 options available"),d.a.createElement(pn,null,d.a.createElement("li",null,"Infinite Scrolling automatically loads new posts when you get close to the bottom of the page."),d.a.createElement("li",null,"Only show Rated posts filters out posts below the specified amount of posts."),d.a.createElement("li",null,"Load original sizes always loads the highest quality of an image. This can easily cause extreme data consumption. Don't use with mobile data."))),d.a.createElement(te,null,d.a.createElement(Q,null,"Tags"),d.a.createElement(Xt,null),d.a.createElement(Ht,{tags:{"Tag 1":{name:"Tag 1"},"Tag 2":{name:"Tag 2",types:["character"]},"Tag 3":{name:"Tag 3",modifier:"-",types:["copyright"],count:1020}}}),d.a.createElement(Xt,null),d.a.createElement("p",null,"This whole application is based on tags. Every Post has multiple tags. Usually you can enable/disable a tag just by tapping it. If a tag is red it means its active. The icons next to the name show what type of tag it is. Not every tag has a type. The number on the right shows how many posts there are with that tag."))),d.a.createElement(ln,null))}var fn=n(32);function On(e){const t=e.Header,n=e.items,a=void 0===n?[]:n,r=e.LoadingItem,o=e.hasMoreRows,c=e.ItemComponent,i=e.loadMore,l=e.OutOfItems,u=e.isLoading,m=e.setLoading,b=Object(s.useState)(null),g=Object(ae.a)(b,2),p=g[0],h=g[1],f=Object(s.useMemo)(()=>new fn.b({fixedWidth:!0}),[]),O=t?1:0,j=a.length+O+1,E=Object(s.useCallback)(({index:e})=>e<O+a.length+(o?0:1),[o,a.length,O]);Object(s.useEffect)(()=>{if(p){const e=()=>{p.measureAllRows(),p.recomputeRowHeights(),p.forceUpdateGrid()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}},[p]);const v=Object(s.useCallback)(({index:e,key:n,parent:i,style:s})=>d.a.createElement(fn.a,{cache:f,columnIndex:0,key:n,rowIndex:e,parent:i},({measure:n,registerChild:i})=>t&&e<O?d.a.createElement(t,{style:s,virtualRef:i,onLoad:n}):e<O+a.length?d.a.createElement(c,Object.assign({style:s,virtualRef:i,onLoad:n},a[e-O])):e<O+a.length+1?o||u?d.a.createElement(r,{style:s,virtualRef:i,onLoad:n}):l&&a.length>0?d.a.createElement(l,{style:s,virtualRef:i,onLoad:n}):d.a.createElement("div",null):(console.warn("index not found / out of bounds. INDEX:",e),null)),[f,t,O,a,o,u,l]);return d.a.createElement(fn.c,{isRowLoaded:E,loadMoreRows:e=>u||!o?Promise.reject(0):(m(!0),i(),new Promise(e=>{setTimeout(()=>{m(!1),e(1)},1e3)})),rowCount:j},({onRowsRendered:e,registerChild:t})=>d.a.createElement(fn.d,{ref:e=>{h(e),t(e)},onRowsRendered:e,rowRenderer:v,deferredMeasurementCache:f,overscanRowCount:10,rowCount:a.length+O+1,rowHeight:f.rowHeight,width:window.innerWidth,height:window.innerHeight}))}var jn,En=e=>d.a.createElement(St,null,d.a.createElement(ct,{color:"white"}),d.a.createElement("span",null,e.value[0].toUpperCase())),vn=e=>d.a.createElement(St,null,d.a.createElement(it,{color:"white"}),d.a.createElement("span",null,e.value));const wn=f.d.a(e=>Object(f.c)(jn||(jn=Object(O.a)(["\n    color: "," !important;\n    display: flex;\n    gap: ",";\n  "])),e.color,e.theme.dimensions.spacing));var yn=({value:e})=>e.startsWith("http")?e.includes("twitter")?d.a.createElement(Cn,{value:e}):e.includes("pixiv")?d.a.createElement(_n,{value:e}):d.a.createElement(xn,{value:e}):d.a.createElement(kn,{value:e});const kn=({value:e})=>d.a.createElement(St,null,d.a.createElement(ot,{color:"white",left:!0}),d.a.createElement("span",null,e)),xn=({value:e})=>d.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"source"},d.a.createElement(st,{color:"red",left:!0}),(e=>{if(e.includes("http:")||e.includes("https:")||e.includes("www.")||e.includes(".com")){let t=e.replace(/https?:\/\//,"").replace(/ww[w\d]\./,"").replace(".com","").replace(".org","").replace(".net","");return t.substring(0,t.indexOf("/"))}return e})(e)),Cn=({value:e})=>d.a.createElement(wn,{href:e,target:"_blank",rel:"noopener noreferrer",className:"source",color:"rgb(29, 161, 242)"},d.a.createElement(lt,{color:"rgb(29, 161, 242)",left:!0}),e.split("twitter.com/")[1].split(" ")[0].split("?")[0].split("/")[0]),_n=({value:e})=>d.a.createElement(wn,{href:e,target:"_blank",rel:"noopener noreferrer",className:"source",color:"rgb(29, 161, 242)"},d.a.createElement(mt,{color:"rgb(29, 161, 242)",left:!0}),d.a.createElement("span",null,"Pixiv"));var Sn,Tn;const Rn=f.d.div(({theme:{dimensions:e,misc:t,shadow:n}})=>Object(f.c)(Sn||(Sn=Object(O.a)(["\n    grid-row: 2/3;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    background: ",";\n    padding: ",";\n    ",";\n    border-radius: 0 0 "," ",";\n  "])),t.layer,e.bigSpacing,n.box,e.borderRadius,e.borderRadius)),zn=Object(f.d)(Ht)(Tn||(Tn=Object(O.a)(["\n  grid-row: 3/4;\n"])));function Ln(e){const t=e.rating,n=e.score,a=e.source,r=e.tags,o=Object(s.useMemo)(()=>{return e="name",r.reduce((t,n)=>(t[n[e]]=n,t),{});var e},[r]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(Rn,null,!!t&&d.a.createElement(En,{value:t}),!!n&&d.a.createElement(vn,{value:n}),!!a&&d.a.createElement(yn,{value:a})),d.a.createElement(zn,{tags:o,padding:!0,loadAliases:!1}))}var Nn;var An,In=f.d.video(Nn||(Nn=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: contain;\n  grid-area: 1/1/2/2;\n"])));const Pn=Object(f.e)(An||(An=Object(O.a)(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n"])));var Mn,Dn,Wn,Fn,Gn,Hn,Bn;const Vn=f.d.div(e=>Object(f.c)(Mn||(Mn=Object(O.a)(["\n    grid-area: 1/1/2/2;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: auto 1fr auto auto;\n    z-index: 1;\n\n    ",";\n  "])),e.isVisible?"":Object(f.c)(Dn||(Dn=Object(O.a)(["\n          opacity: 0;\n          animation: "," 0.4s ease-in-out;\n        "])),Pn))),Un=f.d.div(e=>Object(f.c)(Wn||(Wn=Object(O.a)(["\n    grid-area: 4/1/4/4;\n    height: 5px;\n    background-color: ",";\n  "])),e.theme.colors.accentColor)),Xn=Object(f.d)(E)(e=>Object(f.c)(Fn||(Fn=Object(O.a)(["\n    width: max-content;\n    height: max-content;\n    padding: ",";\n  "])),e.theme.dimensions.bigSpacing)),qn=Object(f.d)(Xn)(Gn||(Gn=Object(O.a)(["\n  grid-area: 1/1/2/2;\n  place-self: start start;\n"]))),Kn=Object(f.d)(Xn)(Hn||(Hn=Object(O.a)(["\n  grid-area: 3/1/4/1;\n  place-self: end start;\n"]))),Jn=Object(f.d)(Xn)(Bn||(Bn=Object(O.a)(["\n  grid-area: 2/2/3/3;\n  place-self: center center;\n"])));var Yn=function(e){const t=e.onFullscreen,n=void 0===t?he:t,a=e.togglePlay,r=void 0===a?he:a,o=e.isPaused,c=void 0===o||o,i=e.isPlayable,l=void 0!==i&&i,s=e.currentTime,u=void 0===s?0:s,m=e.duration,b=void 0===m?null:m,g=e.openInNewTab,p=je(),h=Object(ae.a)(p,2),f=h[0],O=h[1];return d.a.createElement(Vn,{isVisible:c||f,onClick:O},n&&d.a.createElement(qn,{onClick:n,"aria-label":"Open Fullscreen"},d.a.createElement(nt,{color:"white"})),d.a.createElement(Kn,{onClick:g,"aria-label":"Open In New Tab"},d.a.createElement(rt,{color:"white"})),l&&d.a.createElement(d.a.Fragment,null,d.a.createElement(Jn,{onClick:r,"aria-label":"Play/Pause"},c?d.a.createElement(dt,{color:"white",size:50}):d.a.createElement(ut,{color:"white",size:50})),!!b&&!!u&&d.a.createElement(Un,{style:{width:"".concat(u/b*100,"%")}})))};function Qn(e){const t=e.src,n=e.onLoad,a=e.openInNewTab,r=Object(s.useState)(null),o=Object(ae.a)(r,2),c=o[0],i=o[1],l=Object(s.useState)(Date.now()),u=Object(ae.a)(l,2)[1],m=Object(s.useState)(null),g=Object(ae.a)(m,2),p=g[0],h=g[1],f=Object(s.useCallback)(()=>{c&&c.play();const e=setInterval(()=>{u(Date.now())},34);h(e)},[c]),O=Object(s.useCallback)(()=>{c&&c.pause(),clearInterval(p),h(null)},[c,p]),j=Object(s.useCallback)(e=>{e.stopPropagation(),c&&c.requestFullscreen()},[c]),E=Object(s.useCallback)(e=>{e.stopPropagation(),c&&(c.paused?f():O())},[c,f,O]),v=Object(b.c)(A).preloadVideos;return d.a.createElement(d.a.Fragment,null,d.a.createElement(In,{controls:!1,loop:!0,src:t,preload:v?"auto":"metadata",ref:i,onLoadedMetadata:n}),d.a.createElement(Yn,{isPaused:!c||c.paused,currentTime:c?c.currentTime:void 0,duration:c?c.duration:void 0,onFullscreen:j,togglePlay:E,openInNewTab:a,isPlayable:!0}))}var Zn;var $n=f.d.img(Zn||(Zn=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: contain;\n  grid-area: 1/1/2/2;\n"])));function ea(e){const t=e.src,n=e.thumbnail_src,a=e.onLoad,r=e.openInNewTab,o=Object(s.useState)(!0),c=Object(ae.a)(o,2),i=c[0],l=c[1],u=i?n:t;return d.a.createElement(d.a.Fragment,null,d.a.createElement($n,{src:u,alt:u,loading:"lazy",onLoad:a}),d.a.createElement(Yn,{isPlayable:!0,isPaused:i,togglePlay:e=>{e.stopPropagation(),l(!i)},openInNewTab:r}))}function ta(e){const t=e.src,n=e.onLoad,a=e.openInNewTab;return d.a.createElement(d.a.Fragment,null,d.a.createElement($n,{src:t,alt:t,onLoad:n,loading:"lazy"}),d.a.createElement(Yn,{isPlayable:!1,openInNewTab:a}))}function na(e){const t=e.type,n=e.src,a=e.thumbnail_src,r=e.onLoad,o=Object(s.useCallback)(e=>{var t;e.stopPropagation();const a=null===(t=new URL(n).searchParams.get("url"))||void 0===t?void 0:t.replace("//","/").split("?")[0];a&&window.open(a)},[n]),c=Object(s.useMemo)(()=>{const e=((e,t)=>{switch(((e,t)=>"video"===e?"video":t.includes(".gif")?"gif":"picture")(e,t)){case"video":return Qn;case"gif":return ea;default:return ta}})(t,n);return d.a.createElement(e,{src:n,thumbnail_src:a,onLoad:r,openInNewTab:o})},[t,n,a,r,o]);return d.a.createElement(d.a.Fragment,null,c)}var aa,ra,oa;const ca=f.d.div(({theme:e})=>Object(f.c)(aa||(aa=Object(O.a)(["\n    padding-top: ",";\n  "])),e.dimensions.gutter)),ia=f.d.div(({theme:e})=>Object(f.c)(ra||(ra=Object(O.a)(["\n    padding: 0 ",";\n    width: 100%;\n    max-width: ",";\n    margin: auto;\n  "])),e.dimensions.gutter,e.dimensions.bodyWidth)),la=f.d.div(({theme:e})=>Object(f.c)(oa||(oa=Object(O.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: auto auto auto;\n    border-radius: ",";\n    overflow: hidden;\n    background: ",";\n  "])),e.dimensions.borderRadius,e.misc.layer));function sa(e){const t=e.id,n=e.media_type,a=e.small_src,r=e.big_src,o=e.thumbnail_src,c=e.rating,i=e.score,l=e.source,u=e.tags,m=e.style,g=e.onLoad,p=e.virtualRef,h=function(e,t,n,a){let r;return e?r=t:(r="".concat(n,"?").concat(a),r.includes("//images")&&(r=r.replace("//images","/images"))),r}(Object(b.c)(I),r,a,t),f=Object(s.useState)(!0),O=Object(ae.a)(f,2),j=O[0],E=O[1],v=Object(s.useCallback)(()=>{E(!j),setTimeout(g,100)},[j,g]),w=Object(s.useMemo)(()=>d.a.createElement(Ln,{rating:c,score:i,source:l,tags:u}),[c,i,l,u]);return d.a.createElement(ca,{style:m,ref:p,className:"list-div"},d.a.createElement(ia,null,d.a.createElement(la,{onClick:v,role:"row"},d.a.createElement(na,{onLoad:g,type:n,src:h,thumbnail_src:o}),!j&&w)))}function da(){const e=W(_);return d.a.createElement(w,{onClick:e,"aria-label":"Search"},"Search")}function ua({onChange:e}){const t=Object(b.c)(R);return Object(s.useEffect)(()=>{e()},[e,t]),Object.keys(t).length>0?d.a.createElement(Ht,{tags:t,loadAliases:!0}):null}var ma;const ba=f.d.section(({theme:e})=>Object(f.c)(ma||(ma=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n    padding: ",";\n    width: 100%;\n    max-width: ",";\n    margin: auto;\n  "])),e.dimensions.gutter,e.dimensions.gutter,e.dimensions.bodyWidth));function ga(e){const t=e.onLoad;return d.a.createElement(ba,null,d.a.createElement(Q,null,d.a.createElement("label",{htmlFor:"tag-input"},"Search")),d.a.createElement(te,null,d.a.createElement(xt,null),d.a.createElement(ua,{onChange:t}),d.a.createElement(Wt,null),d.a.createElement(da,null)))}function pa({onLoad:e,virtualRef:t,style:n}){const a=je(),r=Object(ae.a)(a,2),o=r[0],c=r[1],i=Object(b.c)(L);return Object(s.useEffect)(()=>{i>0&&e()},[i,e]),d.a.createElement("div",{onLoad:e,ref:t,style:n,role:"row"},d.a.createElement(nn,null),d.a.createElement(ga,{onLoad:e}),i>0&&d.a.createElement(Q,{onClick:c},(o?i.toLocaleString():Oe(i))+" results"))}var ha,fa=n(42),Oa=n.n(fa);function ja({onLoad:e,virtualRef:t,style:n}){const a=Object(b.c)(M),r=Object(s.useMemo)(()=>a.reduce((e,t)=>(e[t.name]=t,e),{}),[a]);return d.a.createElement("div",{style:n,ref:t,onLoad:e,role:"row"},d.a.createElement(te,null,d.a.createElement("img",{src:Oa.a,alt:Oa.a,style:{width:"100%"}}),d.a.createElement(Xt,null),d.a.createElement(Q,null,"You have reached the end!"),d.a.createElement("p",{style:{textAlign:"center"}},"Go look for something else!"),a.length>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement("p",{style:{textAlign:"center"}},"How about some of these?"),d.a.createElement(Ht,{tags:r,padding:!0}))))}const Ea=f.d.svg(({theme:e})=>Object(f.c)(ha||(ha=Object(O.a)(["\n    height: ",";\n    padding: ",";\n  "])),e.dimensions.blockHeight,e.dimensions.bigSpacing));function va(){return d.a.createElement(Ea,{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 50 20","enable-background":"new 0 0 0 0",xmlSpace:"preserve"},d.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"6",cy:"10",r:"6"},d.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})),d.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"26",cy:"10",r:"6"},d.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})),d.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"46",cy:"10",r:"6"},d.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"})))}var wa;const ya=f.d.div(wa||(wa=Object(O.a)(["\n  display: grid;\n  place-items: center;\n"])));function ka({onLoad:e,virtualRef:t,style:n}){return d.a.createElement(ya,{onLoad:e,ref:t,style:n,role:"row"},d.a.createElement(va,null))}function xa(){const e=Object(b.c)(z),t=!Object(b.c)(D),n=W(S),a=Object(s.useState)(!1),r=Object(ae.a)(a,2),o=r[0],c=r[1];return d.a.createElement(d.a.Fragment,null,d.a.createElement(On,{Header:pa,OutOfItems:ja,items:e,LoadingItem:ka,hasMoreRows:t,ItemComponent:sa,loadMore:n,isLoading:o,setLoading:c}))}var Ca,_a,Sa,Ta;const Ra=f.d.div(({theme:e})=>Object(f.c)(Ca||(Ca=Object(O.a)(["\n    display: grid;\n    grid-template-columns: 1fr auto;\n    grid-template-rows: auto auto;\n    gap: ",";\n  "])),e.dimensions.spacing)),za=Object(f.d)($)(({theme:e})=>Object(f.c)(_a||(_a=Object(O.a)(["\n    grid-column: 1/2;\n    grid-row: 1/2;\n  "])))),La=f.d.p(({theme:e})=>Object(f.c)(Sa||(Sa=Object(O.a)(["\n    grid-column: 1/2;\n    grid-row: 2/3;\n    opacity: 0.5;\n  "])))),Na=f.d.div(({theme:e})=>Object(f.c)(Ta||(Ta=Object(O.a)(["\n    grid-column: 2/3;\n    grid-row: 1/3;\n  "]))));function Aa({title:e,description:t,children:n}){return d.a.createElement(Ra,null,d.a.createElement(za,null,e),d.a.createElement(La,null,t),d.a.createElement(Na,null,n))}var Ia;const Pa=f.d.input(({theme:e})=>Object(f.c)(Ia||(Ia=Object(O.a)(["\n    width: 50px;\n    border: "," solid ",";\n    background-color: ",";\n    padding: ",";\n    border-radius: ",";\n    text-align: center;\n  "])),e.dimensions.borderWidth,e.colors.accentColor,e.colors.backgroundColor2,e.dimensions.spacing,e.dimensions.borderRadius));function Ma({type:e,value:t,onChange:n}){return d.a.createElement(Pa,{type:e,value:t,onChange:n})}function Da(){const e=Object(b.b)(),t=Object(b.c)(A),n=t.preloadVideos,a=t.tagSuggestionsCount,r=t.originals,o=Object(s.useCallback)(()=>e(C("preload_videos",!n)),[e,n]),c=Object(s.useCallback)(()=>e(C("originals",!r)),[e,r]),i=Object(s.useCallback)(t=>e(C("tag_suggestion_count",t.target.value)),[e]),l=Object(s.useCallback)(()=>{localStorage.clear(),window.location.reload()},[]);return d.a.createElement(mn,null,d.a.createElement(nn,null),d.a.createElement(bn,null,d.a.createElement(Q,null,"Settings"),d.a.createElement(te,null,d.a.createElement(Q,null,"General"),d.a.createElement(Xt,null),d.a.createElement(Aa,{title:"Preload Videos",description:"Start loading videos immediately instead of just-in-time. This can improve the viewing experience but will consume a LOT of data. Only use with WIFI."},d.a.createElement(Nt,{value:n,onToggle:o})),d.a.createElement(Aa,{title:"Load original sizes",description:"Display images and videos at their original resolution. This will consume more data but provides a nicer experience."},d.a.createElement(Nt,{value:r,onToggle:c})),d.a.createElement(Aa,{title:"Number of Tag suggestions",description:"Controls the number of tags displayed when searching. Increase this when searching for niche tags."},d.a.createElement(Ma,{type:"number",value:a,onChange:i})),d.a.createElement(Q,null,"Developer"),d.a.createElement(Xt,null),d.a.createElement(w,{onClick:l},"Reset Application"))),d.a.createElement(ln,null))}var Wa=n(21),Fa=n(43),Ga=n(56),Ha=n.n(Ga),Ba=n(23);const Va={activeMenu:"search"};const Ua={infinite:!0,rated:!1,ratedTreshold:1,originals:!1,cookies:!1,preloadVideos:!1,tagSuggestionsCount:20},Xa=(e,t,n)=>Object(Ba.a)(e,e=>{switch(t){case"infinite":e.infinite=n;break;case"rated":e.rated=n;break;case"ratedTreshold":e.ratedTreshold=n;break;case"originals":e.originals=n;break;case"cookies":e.cookies=n;break;case"preload_videos":e.preloadVideos=n;break;case"tag_suggestion_count":e.tagSuggestionsCount=n}});const qa={posts:[],pageNumber:0,count:0};const Ka={active:{},aliases:{}};var Ja=Object(Wa.combineReducers)({tags:(e=Ka,t)=>{switch(t.type){case"R34_ADD_TAG":return((e,t)=>Object(Ba.a)(e,n=>{n.active[t.name]=Object(ne.a)(Object(ne.a)({},e.active[t.name]),t)}))(e,t.tag);case"R34_REMOVE_TAG":return((e,t)=>Object(Ba.a)(e,e=>{delete e.active[t.name],delete e.aliases[t.name]}))(e,t.tag);case"R34_ADD_ALIASES":return((e,t,n)=>Object(Ba.a)(e,e=>{e.aliases[n]=t}))(e,t.aliases,t.forTag);default:return e}},results:(e=qa,t)=>{switch(t.type){case"R34_ADD_POSTS":return((e,t)=>Object(Ba.a)(e,n=>{n.posts=[...e.posts,...t],n.pageNumber=e.pageNumber+1,window.posts=n.posts}))(e,t.posts);case"R34_SET_POSTS":return((e,t,n)=>Object(Ba.a)(e,e=>{e.posts=t,e.count=Number(n),e.pageNumber=0,window.posts=e.posts}))(e,t.posts,t.count);default:return e}},preferences:(e=Ua,t)=>{switch(t.type){case"R34_SET_OPTION":return Xa(e,t.key,t.value);case"R34_ALLOW_COOKIES":return Xa(e,"cookies",t.value);default:return e}},misc:(e=Va,t)=>{switch(t.type){case"R34_SET_ACTIVE_MENU":return((e,t)=>Object(Ba.a)(e,e=>{e.activeMenu=t}))(e,t.menu);default:return e}}}),Ya=n(57),Qa=n.n(Ya);n(84);const Za={apiKey:"AIzaSyBHdepwE7M4Byu2lFtX2s__9COcMdvXu7Q",authDomain:"r34-react.firebaseapp.com",databaseURL:"https://r34-react.firebaseio.com",projectId:"r34-react",storageBucket:"r34-react.appspot.com",messagingSenderId:"844749417844",appId:"1:844749417844:web:11fa1fda0e14f1ac2dd021",measurementId:"G-27J3QXZ8YR"};let $a,er;var tr=n(59);const nr={key:"appstate",storage:Ha.a,blacklist:["results"]},ar=Object(Fa.a)(nr,Ja),rr=Object(Wa.createStore)(ar,Object(tr.composeWithDevTools)(Object(Wa.applyMiddleware)(e=>t=>n=>{if(P(e.getState())){if($a||($a=Qa.a.initializeApp(Za),er=$a.analytics()),"R34_ADD_TAG"===n.type){const e={id:"r34_add_tag",payload:{name:(a=n.tag).name,modifier:a.modifier}},t=e.id,r=e.payload;er.logEvent(t,r)}if("R34_ADD_POSTS"===n.type||"R34_SET_POSTS"===n.type){const t=R(e.getState()),a=N(e.getState()),r=A(e.getState()),o=((e,t,n)=>({id:"r34_search",payload:{active_tags:Object.values(e).map(e=>"".concat(e.modifier).concat(e.name)).sort(),page_number:t,preferences:n}}))(t,"R34_SET_POSTS"===n.type?0:a+1,r),c=o.id,i=o.payload;er.logEvent(c,i)}}var a;t(n)},e=>t=>n=>{if("R34_GET_RESULTS"===n.type){const t=R(e.getState()),n=A(e.getState()),a=n.rated,r=n.ratedTreshold;se.getPosts(t,0,a?r:0).then(t=>{var n,a;e.dispatch((n=t.posts.map(be),a=t.count,{type:"R34_SET_POSTS",posts:n,count:a}))})}const a=D(e.getState());if("R34_GET_MORE_RESULTS"===n.type&&!a){const t=R(e.getState()),n=N(e.getState()),a=A(e.getState()),r=a.rated,o=a.ratedTreshold;se.getPosts(t,n+1,r?o:0).then(t=>{e.dispatch({type:"R34_ADD_POSTS",posts:t.posts.map(be)})})}t(n)}))),or=Object(Fa.b)(rr);function cr(){return d.a.createElement(b.a,{store:rr},d.a.createElement(h.a,{loading:null,persistor:or},d.a.createElement(f.a,{theme:Y},d.a.createElement(X,null),d.a.createElement(g.a,{basename:"/r34-react"},d.a.createElement(p.c,null,d.a.createElement(p.a,{path:"/help"},d.a.createElement(hn,null)),d.a.createElement(p.a,{path:"/settings"},d.a.createElement(Da,null)),d.a.createElement(p.a,{path:"/"},d.a.createElement(xa,null))),d.a.createElement(V,null)))))}m.a.render(d.a.createElement(cr,null),document.getElementById("app-root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.d2d0835a.chunk.js.map