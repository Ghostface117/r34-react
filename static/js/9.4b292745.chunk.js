(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[9],{193:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return E}));var c,i,a,s=t(16),r=t(4),l=t(1),o=t.n(l),u=t(18),d=t(25),b=t(3),h=t(58),f=t(5),v=t(13),j=t(32),p=t(175),w=t(176),O=t(2),x=b.d.div(c||(c=Object(r.a)(["\n  height: 100vh;\n  width: 100vw;\n  scroll-snap-align: start;\n  scroll-snap-stop: always;\n\n  display: grid;\n"])));function m(e){var n=e.index,t=e.onInView,c=e.onFinished,i=e.active,a=void 0!==i&&i,r=o.a.useState(null),l=Object(s.a)(r,2),d=l[0],b=l[1],h=Object(p.a)(d),f=Object(s.a)(h,1)[0],m=Object(u.c)(Object(v.t)(n)),g=m.type,y=m.preview_url,E=m.sample_url,k=m.file_url,I=m.width,S=m.height;return o.a.useEffect((function(){a&&d&&d.scrollIntoView()}),[a,d]),o.a.useEffect((function(){t&&f&&(console.log("Index ",n,"is in view"),t(n))}),[n,f,t]),Object(O.jsx)(x,{id:"story-".concat(n),ref:b,children:Object(O.jsx)(w.a,{type:g,index:n,thumbnailSrc:y,sampleSrc:E,fullSrc:k,onLoad:j.b,width:I,height:S,detailsVisible:!1,isFullscreen:!0,onFinished:c,isActive:f})})}var g=b.d.div(i||(i=Object(r.a)(["\n  height: 100vh;\n  width: 100vw;\n  overflow: scroll;\n  scroll-snap-type: y mandatory;\n  scroll-snap-stop: always;\n\n  ::-webkit-scrollbar {\n    height: 0px;\n    width: 0px;\n  }\n"]))),y=b.d.div((function(e){var n=e.index;return Object(b.c)(a||(a=Object(r.a)(["\n    height: ","00vh;\n  "])),Math.max(n-1,0))}));function E(){var e=Object(u.b)(),n=Object(d.f)(),t=o.a.useState(null),c=Object(s.a)(t,2),i=c[0],a=c[1],r=Object(u.c)(v.i),l=r+1,b=[r-1,r,l],j=o.a.useCallback((function(n){return e(Object(f.K)(n))}),[e]),p=o.a.useCallback((function(){var e;null===(e=document.getElementById("story-".concat(l)))||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[l]);return o.a.useEffect((function(){var e=function(){document.fullscreenElement||n.goBack()};return document.addEventListener("fullscreenchange",e,{passive:!0}),function(){document.removeEventListener("fullscreenchange",e)}}),[n]),o.a.useEffect((function(){i&&Object(h.a)(i)}),[i]),Object(O.jsxs)(g,{ref:a,children:[Object(O.jsx)(y,{index:r}),b.map((function(e){return e<0?null:e<r||e>r?Object(O.jsx)(m,{index:e,onInView:j},e):Object(O.jsx)(m,{index:e,onFinished:p,active:!0},e)}))]})}}}]);
//# sourceMappingURL=9.4b292745.chunk.js.map