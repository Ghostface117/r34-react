(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[9],{192:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return E}));var i,c,a,s=t(16),r=t(4),l=t(1),o=t.n(l),u=t(17),d=t(25),h=t(3),b=t(57),v=t(5),f=t(13),j=t(32),w=t(174),p=t(175),m=t(2),O=h.d.div(i||(i=Object(r.a)(["\n  min-height: 100vh;\n  min-width: 100vw;\n  max-height: 100vh;\n  max-width: 100vw;\n  scroll-snap-align: start;\n  scroll-snap-stop: always;\n\n  display: grid;\n\n  img,\n  video {\n    max-height: 100vh;\n    max-width: 100vh;\n  }\n"])));function x(e){var n=e.index,t=e.onInView,i=e.onFinished,c=e.active,a=void 0!==c&&c,r=o.a.useState(null),l=Object(s.a)(r,2),d=l[0],h=l[1],b=Object(w.a)(d),v=Object(s.a)(b,1)[0],x=Object(u.c)(Object(f.v)(n)),g=x.type,y=x.preview_url,E=x.sample_url,k=x.file_url,I=x.width,S=x.height;return o.a.useEffect((function(){a&&d&&d.scrollIntoView()}),[a,d]),o.a.useEffect((function(){t&&v&&(console.log("Index ",n,"is in view"),t(n))}),[n,v,t]),Object(m.jsx)(O,{id:"story-".concat(n),ref:h,children:Object(m.jsx)(p.a,{type:g,index:n,thumbnailSrc:y,sampleSrc:E,fullSrc:k,onLoad:j.b,width:I,height:S,detailsVisible:!1,isFullscreen:!0,onFinished:i,isActive:v})})}var g=h.d.div(c||(c=Object(r.a)(["\n  height: 100vh;\n  width: 100vw;\n  overflow: scroll;\n  scroll-snap-type: y mandatory;\n  scroll-snap-stop: always;\n\n  ::-webkit-scrollbar {\n    height: 0px;\n    width: 0px;\n  }\n"]))),y=h.d.div((function(e){var n=e.index;return Object(h.c)(a||(a=Object(r.a)(["\n    height: ","00vh;\n  "])),Math.max(n-1,0))}));function E(){var e=Object(u.b)(),n=Object(d.f)(),t=o.a.useState(null),i=Object(s.a)(t,2),c=i[0],a=i[1],r=Object(u.c)(f.k),l=r+1,h=[r-1,r,l],j=o.a.useCallback((function(n){return e(Object(v.K)(n))}),[e]),w=o.a.useCallback((function(){var e;null===(e=document.getElementById("story-".concat(l)))||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[l]);return o.a.useEffect((function(){var e=function(){document.fullscreenElement||n.goBack()};return document.addEventListener("fullscreenchange",e,{passive:!0}),function(){document.removeEventListener("fullscreenchange",e)}}),[n]),o.a.useEffect((function(){c&&Object(b.a)(c)}),[c]),Object(m.jsxs)(g,{ref:a,children:[Object(m.jsx)(y,{index:r}),h.map((function(e){return e<0?null:e<r||e>r?Object(m.jsx)(x,{index:e,onInView:j},e):Object(m.jsx)(x,{index:e,onFinished:w,active:!0},e)}))]})}}}]);
//# sourceMappingURL=9.7dcc6080.chunk.js.map