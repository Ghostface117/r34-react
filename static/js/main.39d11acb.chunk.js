(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/OutOfResults.00a98fae.png"},29:function(e,t,n){e.exports=n(44)},34:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),i=(n(34),n(3)),l=n(6),s=n(19),u=n(24),b=n.n(u),m=n(7);const d=e=>({type:"SET_ACTIVE_MENU",menu:e}),p=e=>({type:"TOGGLE_TAG",tag:e}),f=(e,t)=>({type:"SET_OPTION",key:e,value:t}),h={activeMenu:"search"};const g={infinite:!0,rated:!1,ratedTreshold:1,originals:!1};const O={posts:[],pageNumber:0,count:0};var E=n(10);const j={active:{}},v=(e,t)=>Object(m.a)(e,n=>{n.active[t.name]=Object(E.a)(Object(E.a)({},e.active[t.name]),t)}),x=(e,t)=>Object(m.a)(e,e=>{delete e.active[t.name]});var y=Object(l.b)({tags:(e=j,t)=>{switch(t.type){case"ADD_TAG":return v(e,t.tag);case"REMOVE_TAG":return x(e,t.tag);case"TOGGLE_TAG":return((e,t)=>e.active[t.name]?x(e,t):v(e,t))(e,t.tag);default:return e}},results:(e=O,t)=>{switch(t.type){case"ADD_POSTS":return((e,t)=>Object(m.a)(e,n=>{n.posts=[...e.posts,...t],n.pageNumber=e.pageNumber+1}))(e,t.posts);case"SET_POSTS":return((e,t,n)=>Object(m.a)(e,e=>{e.posts=t,e.count=n,e.pageNumber=0}))(e,t.posts,t.count);default:return e}},preferences:(e=g,t)=>{switch(t.type){case"SET_OPTION":return((e,t,n)=>Object(m.a)(e,e=>{switch(t){case"infinite":e.infinite=n;break;case"rated":e.rated=n;break;case"ratedTreshold":e.ratedTreshold=n;break;case"originals":e.originals=n}}))(e,t.key,t.value);default:return e}},misc:(e=h,t)=>{switch(t.type){case"SET_ACTIVE_MENU":return((e,t)=>Object(m.a)(e,e=>{e.activeMenu=t}))(e,t.menu);default:return e}}});const w={key:"appstate",storage:b.a},k=Object(s.a)(w,y),T=Object(l.c)(k),_=Object(s.b)(T);var S=n(25),C=n(2),z=n(1);const P="#ffffff11; :hover { background: #ffffff16;} transition: background-color 0.4s ease-in-out",N="box-shadow: 0 0 8px #000",A="drop-shadow(0 0 4px rgba(0, 0, 0, 1))";var D=function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 12.7 12.7"},r.a.createElement("g",{transform:"translate(0,-284.3)"},r.a.createElement("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:"crimson",strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),r.a.createElement("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:"crimson",fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)"},r.a.createElement("tspan",{id:"tspan4531",x:"2.1363549",y:"289.02704",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:"crimson",fillOpacity:"1"},"34"))))};const F=e=>e.misc.activeMenu,R=e=>0!==Object.keys(e.results.posts).length,G=e=>e.preferences,I=e=>e.tags.active,M=e=>e.results;var L=n(5);function B(){const e=Object(C.a)(["\n  min-width: 48px;\n  border: "," "," solid;\n  border-right-width: 0;\n  border-radius: "," 0 0 ",";\n"]);return B=function(){return e},e}function H(){const e=Object(C.a)(["\n  border-left-width: 0;\n  border-radius: 0 "," "," 0;\n"]);return H=function(){return e},e}function U(){const e=Object(C.a)(["\n  width: 100%;\n  border-radius: ",";\n"]);return U=function(){return e},e}function V(){const e=Object(C.a)(["\n  height: 32px;\n  font-size: 14px;\n  color: ",";\n  background: ",";\n  border: "," "," solid;\n\n  transition: border-color 0.4s ease-in-out;\n  transition: color 0.4s ease-in-out;\n  transition: background-color 0.4s ease-in-out;\n\n  :hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  :active,\n  :focus {\n    color: ",";\n\n    border-color: ",";\n    cursor: pointer;\n  }\n"]);return V=function(){return e},e}function W(){const e=Object(C.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  filter: ",";\n"]);return W=function(){return e},e}function q(){const e=Object(C.a)(["\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  margin: 10px;\n  padding: 5px 5px;\n  filter: ",";\n"]);return q=function(){return e},e}function J(){const e=Object(C.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 10px;\n  padding: 5px 5px;\n  filter: ",";\n"]);return J=function(){return e},e}function K(){const e=Object(C.a)(["\n  color: ",";\n"]);return K=function(){return e},e}function Y(){const e=Object(C.a)(["\n  color: ",";\n"]);return Y=function(){return e},e}function $(){const e=Object(C.a)(["\n  background: none;\n  border: none;\n  padding: ",";\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return $=function(){return e},e}function Q(){const e=Object(C.a)(["\n  font-size: 14px;\n\n  :focus {\n    outline: none;\n  }\n"]);return Q=function(){return e},e}const X=Object(z.b)(L.b.button)(Q()),Z=Object(z.b)(X)($(),"4px"),ee=Object(z.b)(Z)(Y(),"white"),te=Object(z.b)(Z)(K(),"crimson"),ne=Object(z.b)(Z)(J(),A),ae=Object(z.b)(Z)(q(),A),re=Object(z.b)(Z)(W(),A),ce=Object(z.b)(X)(V(),"crimson","#121212","crimson","2px","crimson","#121212","white","white"),oe=Object(z.b)(ce)(U(),"3px"),ie=Object(z.b)(ce)(H(),"3px","3px"),le=Object(z.b)(Z)(B(),"crimson","2px","3px","3px");function se(e){const t=e.type,n=e.children,a=e.onClick,c=e.active,o=void 0!==c&&c,i=e.disabled,l=void 0!==i&&i,s=e.label,u=((e,t)=>{switch(e){case"invisible":return Z;case"block":return oe;case"topLeft":return ne;case"bottomLeft":return ae;case"center":return re;case"modifier":return le;case"add":return ie;case"menu":return t?te:ee;default:return ce}})(t,o);return r.a.createElement(u,{onClick:a,disabled:l,"aria-label":s},n)}function ue(){const e=Object(C.a)(["\n  display: flex;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: lighter;\n  text-align: center;\n  margin: 0;\n"]);return ue=function(){return e},e}function be(){const e=Object(C.a)(["\n  font-size: 24px;\n  font-weight: lighter;\n  margin: 0;\n  text-align: center;\n"]);return be=function(){return e},e}var me=z.b.h2(be());const de=z.b.h1(ue());function pe(){const e=Object(C.a)(["\n  display: flex;\n  justify-content: center;\n"]);return pe=function(){return e},e}function fe(){const e=Object(C.a)(["\n  background: ",";\n  ",";\n  padding: "," 0;\n  margin-bottom: ",";\n"]);return fe=function(){return e},e}function he(){const e=Object(C.a)(["\n  width: 1px;\n  height: 32px;\n  margin: 0 ",";\n  background: ",";\n"]);return he=function(){return e},e}function ge(){const e=Object(C.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return ge=function(){return e},e}const Oe=z.b.header(ge(),"8px"),Ee=z.b.div(he(),"8px","white"),je=z.b.div(fe(),P,N,"8px","8px"),ve=z.b.nav(pe());var xe=function(){const e=Object(i.c)(F),t=Object(i.b)();return r.a.createElement(Oe,null,r.a.createElement(je,null,r.a.createElement(de,null,r.a.createElement(D,{size:32}),r.a.createElement(Ee,null),r.a.createElement("span",{style:{marginTop:2}},"Browse ",r.a.createElement("a",{href:"https://rule34.xxx"},"Rule34")))),r.a.createElement(ve,null,r.a.createElement(se,{type:"menu",active:"search"===e,onClick:()=>t(d("search")),label:"search"},"Search"),r.a.createElement(se,{type:"menu",active:"help"===e,onClick:()=>t(d("help")),label:"help"},"Help"),r.a.createElement(se,{type:"menu",active:"settings"===e,onClick:()=>t(d("settings")),label:"settings"},"Settings")))};function ye(){const e=Object(C.a)(["\n  text-align: center;\n"]);return ye=function(){return e},e}function we(){const e=Object(C.a)(["\n  width: 1px;\n  height: 20px;\n  background: ",";\n"]);return we=function(){return e},e}function ke(){const e=Object(C.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1px 1fr 1px 1fr;\n  justify-content: space-around;\n  padding: ",";\n"]);return ke=function(){return e},e}const Te=z.b.footer(ke(),"8px"),_e=z.b.div(we(),"white"),Se=z.b.a(ye());var Ce=function(){return r.a.createElement(Te,null,r.a.createElement(Se,{href:"https://github.com/kurozenzen/r34-react/issues/new?template=bug_report.md"},"Report a bug"),r.a.createElement(_e,null),r.a.createElement(Se,{href:"https://github.com/kurozenzen/r34-react"},"Github"),r.a.createElement(_e,null),r.a.createElement(Se,{href:"https://github.com/kurozenzen/r34-react/issues/new?template=feature_request.md"},"Feature request"))};function ze(){const e=Object(C.a)(["\n  width: 100%;\n  height: 1px;\n  background: ",";\n"]);return ze=function(){return e},e}function Pe(){const e=Object(C.a)(["\n  padding: ",";\n  background: ",";\n  ",";\n  border-radius: ",";\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Pe=function(){return e},e}var Ne=z.b.div(Pe(),"8px",P,N,"3px","8px");const Ae=z.b.div(ze(),P);var De=n(4),Fe=n(8),Re=n.n(Fe),Ge=n(12);let Ie="https://r34-json.herokuapp.com";fetch(Ie).catch(()=>Ie="https://r34-api-clone.herokuapp.com");var Me={getTags:e=>Object(Ge.a)(Re.a.mark((function t(){var n;return Re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Ie,"/tags?limit=").concat(20,"&name=").concat(e,"*&order_by=posts"));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))(),getPosts:(e,t=0,n=0)=>Object(Ge.a)(Re.a.mark((function a(){var r;return Re.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(Le(t,e,n));case 2:return r=a.sent,a.next=5,r.json();case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))(),getAliases:e=>Object(Ge.a)(Re.a.mark((function t(){var n;return Re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(Ie,'/alias/"').concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()};function Le(e,t,n){const a=Object.values(t).map(e=>"".concat("-"===e.modifier?"-":"").concat(encodeURIComponent(e.name))).join("+");let r="".concat(Ie,"/posts?pid=").concat(e,"&limit=").concat(20,"&tags=").concat(a);return n>0&&(r+="+".concat(encodeURIComponent("score:>="+n))),r}class Be{constructor(e,t,n,a,r,c,o,i,l,s,u,b,m,d,p,f,h,g,O,E,j){this.id=void 0,this.score=void 0,this.rating=void 0,this.source=void 0,this.tags=void 0,this.media_type=void 0,this.thumbnail_src=void 0,this.small_src=void 0,this.big_src=void 0,this.width=void 0,this.height=void 0,this.creator_id=void 0,this.creator_url=void 0,this.status=void 0,this.parent_id=void 0,this.has_children=void 0,this.has_comments=void 0,this.comments_url=void 0,this.has_notes=void 0,this.created_at=void 0,this.change=void 0,this.id=e,this.score=t,this.rating=n,this.source=a,this.tags=r,this.media_type=c,this.small_src=o,this.big_src=i,this.thumbnail_src=l,this.width=s,this.height=u,this.creator_id=b,this.creator_url=m,this.status=d,this.parent_id=p,this.has_children=f,this.has_comments=h,this.comments_url=g,this.has_notes=O,this.created_at=E,this.change=j}}class He{constructor(e,t=[],n=null,a="+"){this.name=void 0,this.count=void 0,this.types=void 0,this.modifier=void 0,this.name=e,this.types=t,this.count=n,this.modifier=a}}function Ue(e){const t=e.id,n=e.type,a=e.score,r=e.rating,c=e.source,o=e.tags,i=e.file_url,l=e.width,s=e.height,u=e.creator_id,b=e.creator_url,m=e.sample_url,d=e.preview_url,p=e.status,f=e.parent_id,h=e.has_children,g=e.has_comments,O=e.comments_url,E=e.has_notes,j=e.created_at,v=e.change;return new Be(Number(t),Number(a),r,c,o?o.map(e=>new He(e)):[],n,m,i,d,Number(l),Number(s),Number(u),b,p,Number(f),Boolean(h),Boolean(g),O,Boolean(E),j,v)}function Ve(){const e=Object(C.a)(["\n  width: 100%;\n  border: none;\n  outline: none;\n  background: none;\n  font-size: 14px;\n  border-top: "," "," solid;\n  border-bottom: "," "," solid;\n"]);return Ve=function(){return e},e}const We=z.b.input(Ve(),"crimson","2px","crimson","2px");function qe(e){const t=e.value,n=e.setValue;return r.a.createElement(We,{id:"tag-input",value:t,onChange:e=>n(e.target.value),placeholder:"Search for tags","aria-label":"Search"})}n(43);function Je(e){return e.replace(/_/g," ")}const Ke=e=>{const t=e;return t>=1e6?"".concat((t/1e6).toFixed(0),"M"):t>=1e3?"".concat((t/1e3).toFixed(0),"K"):t};function Ye(){const e=Object(C.a)(["\n    ","\n    ","\n  "]);return Ye=function(){return e},e}function $e(){const e=Object(C.a)(["\n      display: inline-block;\n      padding: 0.25rem;\n      border-radius: ",";\n      font-size: 14px;\n      line-height: 1.2;\n      vertical-align: baseline;\n      margin: ",";\n      ","\n    "]);return $e=function(){return e},e}const Qe=Object(z.b)(L.b.div)(e=>Object(z.a)($e(),e.collapsed?"3px":"".concat("3px"," ").concat("3px"," 0 0"),"4px",(e=>{const t=e?"#121212":"crimson",n=e?"crimson":"#121212";return"\n    color: ".concat(t,";\n    background-color: ").concat(n,";\n    border: ").concat("crimson"," ").concat("2px"," solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover {\n      background-color: ").concat(t,";\n      color: ").concat(n,";\n      \n      i {\n        color: ").concat(n,";\n      }\n    }\n\n    :focus, :active {\n      color: ").concat("white",";\n      border-color: ").concat("white","\n    }\n  ")})(e.active))),Xe=z.b.span(e=>Object(z.a)(Ye(),e.left?"margin-right: 5px;":"",e.right?"margin-left: 5px;":""));function Ze(e){const t=e.name,n=e.count,a=e.modifier,c=e.types,o=Object(i.b)(),l=Je(t),s=n?"".concat(l," (").concat(Ke(n),")"):l;return r.a.createElement("span",{onClick:()=>o(p(new He(t,c,n))),onKeyDown:e=>32===e.keyCode&&o(p(new He(t,c,n)))},"-"===a?r.a.createElement("s",null,s):s)}function et(e){const t=e.name,n=e.count;return r.a.createElement("div",{className:"alias"},r.a.createElement(Ze,{name:t,count:n}))}var tt=function(e){const t=e.name,n=e.count,c=e.modifier,o=e.types,l=e.loadAliases,s=Object(i.c)(I),u=Object(a.useState)([]),b=Object(De.a)(u,2),m=b[0],d=b[1],p=Object(a.useState)(!0),f=Object(De.a)(p,2),h=f[0],g=f[1];Object(a.useEffect)(()=>{s[t]&&Me.getAliases(t).then(e=>{e.sort((e,t)=>t.posts-e.posts),d(e.filter(e=>!s[e.name]))})},[t,s]);const O=Boolean(s[t]),E=l&&m&&m.length>0;return r.a.createElement(Qe,{active:O,collapsed:h,onMouseLeave:()=>g(!0)},r.a.createElement(Ft,{types:o,left:!0}),r.a.createElement(Ze,{name:t,count:n,modifier:c,types:o}),E&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe,{right:!0,onClick:()=>g(!h)},r.a.createElement(_t,null)),r.a.createElement("div",{className:"dropdown-list"+(h?"":" visible")},m.map(({name:e,posts:t})=>r.a.createElement(et,{key:"t_"+e,name:e,count:t})))))};function nt(){const e=Object(C.a)([""]);return nt=function(){return e},e}function at(){const e=Object(C.a)([""]);return at=function(){return e},e}function rt(){const e=Object(C.a)([""]);return rt=function(){return e},e}function ct(){const e=Object(C.a)([""]);return ct=function(){return e},e}function ot(){const e=Object(C.a)([""]);return ot=function(){return e},e}function it(){const e=Object(C.a)([""]);return it=function(){return e},e}function lt(){const e=Object(C.a)([""]);return lt=function(){return e},e}function st(){const e=Object(C.a)([""]);return st=function(){return e},e}function ut(){const e=Object(C.a)([""]);return ut=function(){return e},e}function bt(){const e=Object(C.a)([""]);return bt=function(){return e},e}function mt(){const e=Object(C.a)([""]);return mt=function(){return e},e}function dt(){const e=Object(C.a)([""]);return dt=function(){return e},e}function pt(){const e=Object(C.a)([""]);return pt=function(){return e},e}function ft(){const e=Object(C.a)([""]);return ft=function(){return e},e}function ht(){const e=Object(C.a)([""]);return ht=function(){return e},e}function gt(){const e=Object(C.a)([""]);return gt=function(){return e},e}function Ot(){const e=Object(C.a)(["\n    line-height: 16px;\n    ","\n    ","\n  "]);return Ot=function(){return e},e}function Et(){const e=Object(C.a)(["\n  ","\n"]);return Et=function(){return e},e}const jt=z.b.i(Et(),e=>"\n    color: ".concat(e.color,";\n    min-width: ").concat(e.size,"px;\n    height: ").concat(e.size,"px;\n\n    ").concat(Qe,":hover & {\n      color: ").concat("crimson",";\n    }\n\n    ").concat(Qe,":active & ,  ").concat(Qe,":focus & {\n      color: ").concat("white",";\n    }\n  ")),vt=z.b.span(e=>Object(z.a)(Ot(),e.left?"margin-right: 5px;":"",e.right?"margin-left: 5px;":"")),xt=e=>{const t=e.icon,n=e.className,a=void 0===n?"":n,c=e.color,o=void 0===c?"black":c,i=e.size,l=void 0===i?14:i,s=e.onClick,u=void 0===s?()=>{}:s,b=e.left,m=void 0!==b&&b,d=e.right,p=void 0!==d&&d;return r.a.createElement(vt,{onClick:u,left:m,right:p},r.a.createElement(jt,{className:"fas ".concat(t," ").concat(a),color:o,size:l}))},yt=Object(z.b)(xt).attrs({icon:"fa-user"})(gt()),wt=Object(z.b)(xt).attrs({icon:"fa-pen"})(ht()),kt=Object(z.b)(xt).attrs({icon:"fa-copyright"})(ft()),Tt=(Object(z.b)(xt).attrs({icon:"fa-plus-circle"})(pt()),Object(z.b)(xt).attrs({icon:"fa-minus-circle"})(dt()),Object(z.b)(xt).attrs({icon:"fa-times"})(mt()),Object(z.b)(xt).attrs({icon:"fa-expand"})(bt())),_t=Object(z.b)(xt).attrs({icon:"fa-caret-down"})(ut()),St=Object(z.b)(xt).attrs({icon:"fa-external-link-alt"})(st()),Ct=Object(z.b)(xt).attrs({icon:"fa-hashtag"})(lt()),zt=Object(z.b)(xt).attrs({icon:"fa-registered"})(it()),Pt=Object(z.b)(xt).attrs({icon:"fa-heart"})(ot()),Nt=Object(z.b)(xt).attrs({icon:"fa-play"})(ct()),At=Object(z.b)(xt).attrs({icon:"fa-pause"})(rt()),Dt=(Object(z.b)(xt).attrs({icon:"fa-caret-down"})(at()),Object(z.b)(xt).attrs({icon:"fa-caret-up"})(nt()),()=>{});function Ft(e){const t=e.types,n=void 0===t?[]:t,a=e.className,c=void 0===a?"":a,o=e.onClick,i=void 0===o?Dt:o;switch(n.find(e=>!e.match(/^[general|ambiguous]$/))){case"character":return r.a.createElement(yt,{className:c,onClick:i,left:!0});case"copyright":return r.a.createElement(kt,{className:c,onClick:i,left:!0});case"artist":return r.a.createElement(wt,{className:c,onClick:i,left:!0});default:return r.a.createElement("div",{className:c})}}function Rt(){const e=Object(C.a)(["\n  flex: 0 0 48px;\n  text-align: center;\n"]);return Rt=function(){return e},e}function Gt(){const e=Object(C.a)(["\n  display: flex;\n  height: 28px;\n\n  > * {\n    margin: auto;\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px grey solid;\n  }\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return Gt=function(){return e},e}function It(){const e=Object(C.a)(["\n    ",";\n    background: white;\n    box-sizing: border-box;\n    border: "," "," solid;\n    border-radius: 0 0 3px 3px;\n    color: black;\n    z-index: 1;\n  "]);return It=function(){return e},e}const Mt=Object(z.b)(L.b.div)(e=>Object(z.a)(It(),function(e){if(e){const t=e.offsetTop,n=e.clientHeight,a=e.offsetLeft,r=e.clientWidth;return"\n      position: absolute;\n      top: ".concat(t+n-2,"px;\n      left: ").concat(a,"px;\n      width: ").concat(r,"px;")}return""}(e.tagSelectorRef),"2px","crimson"));const Lt=z.b.div(Gt()),Bt=z.b.span(Rt());function Ht(e){const t=e.name,n=e.posts,a=e.types,c=e.onClick;return r.a.createElement(Lt,{onClick:c},r.a.createElement(Bt,null,r.a.createElement(Ft,{types:a})),r.a.createElement("span",{style:{flexGrow:1}},Je(t)),r.a.createElement("span",{style:{paddingRight:5}},Ke(n)," posts"))}var Ut=function(e){const t=e.tagSelectorRef,n=e.entries,a=e.onClick;return n&&n.length>0?r.a.createElement(Mt,{tagSelectorRef:t,initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}}},n.map(e=>r.a.createElement(Ht,Object.assign({key:e.name},e,{onClick:()=>a(e)})))):null};function Vt(){const e=Object(C.a)(["\n  display: flex;\n  background: white;\n  ","\n"]);return Vt=function(){return e},e}const Wt=z.b.div(Vt(),e=>e.closed?"border-radius: ".concat("3px",";"):"\n        border-radius: ".concat("3px"," ").concat("3px"," 0 0;\n\n        > ").concat(ie," {\n          border-radius: 0 ").concat("3px"," 0 0;\n        }\n\n        > ").concat(le," {\n          border-radius: ").concat("3px"," 0 0 0;\n        }\n      "));var qt=function(){const e=Object(i.b)(),t=Object(a.useState)(null),n=Object(De.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),s=Object(De.a)(l,2),u=s[0],b=s[1],m=Object(a.useState)("+"),d=Object(De.a)(m,2),p=d[0],f=d[1],h=Object(a.useState)([]),g=Object(De.a)(h,2),O=g[0],j=g[1],v=Object(a.useCallback)(t=>{e({type:"ADD_TAG",tag:function(e){const t=e.name,n=e.types,a=e.count,r=e.modifier;return new He(t,n,Number(a),r)}({name:t.name,modifier:p,count:t.posts,types:t.types})}),b(""),j([])},[e,p]);return Object(a.useEffect)(()=>{const e=setTimeout(()=>{var e;u&&""!==u&&Me.getTags((e=u,e.toLowerCase().replace(/ /g,"_"))).then(e=>{j(e)})},400);return()=>clearTimeout(e)},[u]),r.a.createElement(Wt,{ref:o,closed:0===O.length},r.a.createElement(se,{type:"modifier",onClick:()=>f("+"===p?"-":"+"),label:"Tag Modifier"},p),r.a.createElement(qe,{value:u,setValue:b}),r.a.createElement(se,{type:"add",onClick:()=>{if(u&&""!==u.trim()){const e=O.find(e=>e.name===u)||{};v(Object(E.a)(Object(E.a)({},e),{},{name:u}))}},label:"Add Tag"},"Add"),r.a.createElement(L.a,null,O.length>0&&r.a.createElement(Ut,{tagSelectorRef:c,entries:O,onClick:e=>v(e)})))};function Jt(){const e=Object(C.a)(["\n  width: 20px;\n  height: 20px;\n  background-color: ",";\n  border-radius: 50%;\n"]);return Jt=function(){return e},e}function Kt(){const e=Object(C.a)(["\n  border-radius: 30px;\n  width: 50px;\n  border: "," solid ",";\n  background-color: ",";\n"]);return Kt=function(){return e},e}const Yt=z.b.div(Kt(),"2px","crimson","#121212"),$t=Object(z.b)(L.b.div)(Jt(),"white"),Qt={enabled:{x:30,background:"crimson"},disabled:{x:0,background:"white"}};function Xt(e){const t=e.initialValue,n=e.value,a=e.onToggle;return r.a.createElement(Yt,{onClick:a},r.a.createElement($t,{initial:t?"enabled":"disabled",animate:n?"enabled":"disabled",variants:Qt}))}function Zt(){const e=Object(C.a)(["\n  margin: auto;\n  margin-left: ",";\n"]);return Zt=function(){return e},e}function en(){const e=Object(C.a)(["\n  display: flex;\n"]);return en=function(){return e},e}const tn=z.b.label(en()),nn=z.b.span(Zt(),"8px");function an(e){const t=e.children,n=e.value,a=e.onToggle;return r.a.createElement(tn,null,r.a.createElement(Xt,{value:n,onToggle:a}),r.a.createElement(nn,null,t))}function rn(){const e=Object(C.a)(["\n  background: none;\n  border: none;\n  outline: none;\n  color: ",";\n  max-height: 16px;\n  width: ","em;\n  text-align: right;\n  font-size: 14px;\n  margin: -1px 0.2em 0 0.2em;\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield;\n"]);return rn=function(){return e},e}function cn(){const e=Object(C.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return cn=function(){return e},e}const on=z.b.div(cn(),"8px"),ln=z.b.input(rn(),"crimson",({value:e})=>.57*String(e).length);function sn(){const e=Object(i.b)(),t=Object(i.c)(G),n=t.infinite,c=t.rated,o=t.ratedTreshold,l=t.originals,s=Object(a.useState)(o),u=Object(De.a)(s,2),b=u[0],m=u[1];return r.a.createElement(on,null,r.a.createElement(an,{value:n,onToggle:()=>e(f("infinite",!n))},"Infinite Scroll"),r.a.createElement(an,{value:c,onToggle:()=>e(f("rated",!c))},c?r.a.createElement("div",{style:{display:"flex"}},"Above",r.a.createElement(ln,{type:"number",value:o,onChange:e=>m(Number(e.target.value)),onBlur:()=>e(f("ratedTreshold",b))}),"likes"):"Only show Rated Posts"),r.a.createElement(an,{value:l,onToggle:()=>e(f("originals",!l))},"Load Original Sizes"))}function un(){const e=Object(C.a)(["\n  display: inline-flex;\n  flex-wrap: wrap;\n  margin: ",";\n"]);return un=function(){return e},e}const bn=z.b.div(un(),e=>"calc(".concat(e.padding," - ").concat("4px",")"));function mn(e){const t=e.tags,n=e.loadAliases,a=void 0!==n&&n,c=e.padding,o=void 0===c?"0px":c;return r.a.createElement("div",null,r.a.createElement(bn,{padding:o},Object.entries(t).map(([e,t])=>r.a.createElement(tt,Object.assign({key:e},t,{loadAliases:a})))))}var dn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null,"Help"),r.a.createElement(Ne,null,r.a.createElement(me,null,"Searching for Tags"),r.a.createElement(Ae,null),r.a.createElement(qt,null),r.a.createElement(Ae,null),r.a.createElement("p",null,"You can use the Tag Selector to look for tags you like.The Tag Selector has 4 parts."),r.a.createElement("ol",null,r.a.createElement("li",null,'The modifier (left) determines wether posts must match a tag or not. Putting "-" will hide all posts with this tag'),r.a.createElement("li",null,"The Search Box (center) allows you to search for tags. As soon as you start typing the Tag Selector will show you relevant tags to choose from (4)."),r.a.createElement("li",null,"The Add Button (right) Allows you to add any tag to the current filter. Usefull when using wildcards."),r.a.createElement("li",null,"The Tag Dropdown (left) automatically shows tags that start with your input. It also includes The number of posts tagged, to allow you to weigh tags against each other."))),r.a.createElement(Ne,null,r.a.createElement(me,null,"Options"),r.a.createElement(Ae,null),r.a.createElement(sn,null),r.a.createElement(Ae,null),r.a.createElement("p",null,"Options allow you to customize your experience in various ways. There are 3 options available"),r.a.createElement("ol",null,r.a.createElement("li",null,"Infinite Scrolling automatically loads new posts when you get close to the bottom of the page."),r.a.createElement("li",null,"Only show Rated posts filters out posts below the specified amount of posts."),r.a.createElement("li",null,"Load original sizes always loads the highest quality of an image. This can easily cause extreme data consumption. Don't use with mobile data."))),r.a.createElement(Ne,null,r.a.createElement(me,null,"Tags"),r.a.createElement(Ae,null),r.a.createElement(mn,{tags:{"Tag 1":{name:"Tag 1"},"Tag 2":{name:"Tag 2",types:["character"]},"Tag 3":{name:"Tag 3",modifier:"-",types:["copyright"],count:1020}}}),r.a.createElement(Ae,null),r.a.createElement("p",null,"This whole application is based on tags. Every Post has multiple tags. Usually you can enable/disable a tag just by tapping it. If a tag is red it means its active. The icons next to the name show what type of tag it is. Not every tag has a type. The number on the right shows how many posts there are with that tag.")))};function pn(){const e=Object(i.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null,"Settings"),r.a.createElement(Ne,null,r.a.createElement(me,null,"General"),r.a.createElement("p",null,"nothing yet"),r.a.createElement(Ae,null),r.a.createElement(me,null,"Developer"),r.a.createElement(oe,{onClick:()=>e({type:"RESET"})},"Reset Application")))}function fn(){const e=Object(C.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return fn=function(){return e},e}const hn=z.b.section(fn(),"8px");var gn=function(){const e=Object(i.b)(),t=Object(i.c)(I),n=Object(i.c)(G),c=n.rated,o=n.ratedTreshold,l=Object(a.useCallback)(()=>{Me.getPosts(t,0,c?o:0).then(t=>{return e((n=t.posts.map(Ue),a=t.count,{type:"SET_POSTS",posts:n,count:a}));var n,a})},[e,c,o,t]);return r.a.createElement(hn,null,r.a.createElement(me,null,r.a.createElement("label",{htmlFor:"tag-input"},"Search")),r.a.createElement(Ne,null,r.a.createElement(qt,null),Object.keys(t).length>0&&r.a.createElement(mn,{tags:t,loadAliases:!0}),r.a.createElement(sn,null),r.a.createElement(se,{type:"block",onClick:l,label:"Search"},"Search")))},On=n(18),En=n.n(On);function jn(){const e=Object(C.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  background: ",";\n  padding: ",";\n  ",";\n\n  > span,\n  > a {\n    margin: ",";\n    line-height: 1rem;\n    height: 1rem;\n  }\n"]);return jn=function(){return e},e}function vn(){const e=Object(C.a)(["\n  > "," {\n    padding: ",";\n  }\n\n  overflow: hidden;\n"]);return vn=function(){return e},e}const xn=Object(z.b)(L.b.div)(vn(),bn,"4px"),yn=z.b.div(jn(),P,"4px",N,"4px");var wn=function(e){const t=e.rating,n=e.score,c=e.source,o=e.tags,i=Object(a.useMemo)(()=>{return e="name",o.reduce((t,n)=>(t[n[e]]=n,t),{});var e},[o]);return r.a.createElement(xn,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}}},r.a.createElement(yn,null,t&&r.a.createElement(kn,{value:t}),n&&r.a.createElement(Tn,{value:n}),c&&r.a.createElement(_n,{value:c})),r.a.createElement(mn,{tags:i,padding:"8px",loadAliases:!1}))};const kn=e=>r.a.createElement("span",null,r.a.createElement(zt,{color:"white",left:!0}),e.value[0].toUpperCase()),Tn=e=>r.a.createElement("span",null,e.value,r.a.createElement(Pt,{color:"white",right:!0})),_n=e=>e.value.startsWith("http")?r.a.createElement("a",{href:e.value,target:"_blank",rel:"noopener noreferrer",className:"source"},r.a.createElement(St,{color:"red",left:!0}),(e=>{if(e.includes("http:")||e.includes("https:")||e.includes("www.")||e.includes(".com")){let t=e.replace(/https?:\/\//,"").replace(/ww[w\d]\./,"").replace(".com","").replace(".org","").replace(".net","");return t.substring(0,t.indexOf("/"))}return e})(e.value)):r.a.createElement("span",null,r.a.createElement(Ct,{color:"white",left:!0}),e.value);function Sn(){const e=Object(C.a)(["\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  height: 5px;\n  background-color: ",";\n"]);return Sn=function(){return e},e}const Cn=z.b.div(Sn(),"crimson"),zn={visible:{opacity:1},hidden:{opacity:0}};function Pn(e){const t=e.onFullscreen,n=void 0===t?Dt:t,a=e.togglePlay,c=void 0===a?Dt:a,o=e.isPaused,i=void 0===o||o,l=e.isPlayable,s=e.currentTime,u=e.duration;return r.a.createElement(L.b.div,{initial:"visible",animate:i?"visible":"hidden",whileHover:"visible",whileTap:"visible",variants:zn},n&&r.a.createElement(se,{type:"topLeft",onClick:n,label:"Open Fullscreen"},r.a.createElement(Tt,{color:"white"})),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{type:"center",onClick:c,label:"Play/Pause"},i?r.a.createElement(Nt,{color:"white",size:50}):r.a.createElement(At,{color:"white",size:50})),!!u&&!!s&&r.a.createElement(Cn,{style:{width:"".concat(s/u*100,"%")}})))}Pn.defaultProps={onFullscreen:null,togglePlay:Dt,isPaused:!0,isPlayable:!1,currentTime:0,duration:null};var Nn=Pn;function An(){const e=Object(C.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  display: block;\n  object-fit: contain;\n"]);return An=function(){return e},e}const Dn=z.b.video(An());function Fn(e){const t=e.src,n=e.thumbnail_src,c=e.toggleDetails,o=Object(a.useState)(null),i=Object(De.a)(o,2),l=i[0],s=i[1],u=Object(a.useState)(Date.now()),b=Object(De.a)(u,2),m=b[0],d=b[1],p=Object(a.useState)(0),f=Object(De.a)(p,2),h=f[0],g=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dn,{controls:!1,loop:!0,src:t,poster:n,preload:"metadata",ref:s,onClick:c}),r.a.createElement(Nn,{isPaused:!l||l.paused,currentTime:l?l.currentTime:void 0,duration:l?l.duration:void 0,onFullscreen:()=>l&&void l.requestFullscreen(),togglePlay:e=>{e.stopPropagation(),l&&(l.paused?(()=>{l&&l.play();const e=setInterval(()=>{d(Date.now()),console.log(m)},34);g(e)})():(l&&l.pause(),clearInterval(h),g(-1)))},isPlayable:!0}))}function Rn(){const e=Object(C.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  display: block;\n  object-fit: contain;\n"]);return Rn=function(){return e},e}const Gn=z.b.img(Rn());function In(e){const t=e.src,n=e.thumbnail_src,c=e.toggleDetails,o=Object(a.useState)(!0),i=Object(De.a)(o,2),l=i[0],s=i[1],u=l?n:t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gn,{src:u,alt:u,onClick:c}),r.a.createElement(Nn,{isPlayable:!0,isPaused:l,togglePlay:e=>{e.stopPropagation(),s(!l)}}))}function Mn(){const e=Object(C.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  display: block;\n  object-fit: contain;\n"]);return Mn=function(){return e},e}const Ln=z.b.img(Mn());function Bn(e){const t=e.src,n=e.toggleDetails;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ln,{src:t,alt:t,onClick:n}),r.a.createElement(Nn,{isPlayable:!1}))}function Hn(){const e=Object(C.a)(["\n  display: inline-block;\n  position: relative;\n"]);return Hn=function(){return e},e}const Un=z.b.div(Hn());function Vn(e){const t=(e=>{switch(t=e.type,n=e.src,"video"===t?"video":n.includes(".gif")?"gif":"picture"){case"video":return Fn;case"gif":return In;default:return Bn}var t,n})(e);return r.a.createElement(Un,null,r.a.createElement(t,e))}function Wn(){const e=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  background: ",";\n  ",";\n  border-radius: ",";\n  overflow: hidden;\n  margin-bottom: ",";\n  box-sizing: border-box;\n"]);return Wn=function(){return e},e}const qn=z.b.div(Wn(),P,N,"3px","8px");function Jn(e){const t=e.id,n=e.media_type,c=e.small_src,o=e.big_src,l=e.thumbnail_src,s=e.rating,u=e.score,b=e.source,m=e.tags,d=function(e,t,n,a){let r;return e?r=t:(r="".concat(n,"?").concat(a),r.includes("//images")&&(r=r.replace("//images","/images"))),r}(Object(i.c)(G).originals,o,c,t),p=Object(a.useState)(!0),f=Object(De.a)(p,2),h=f[0],g=f[1];return r.a.createElement(qn,null,r.a.createElement(Vn,{type:n,src:d,thumbnail_src:l,toggleDetails:()=>g(!h)}),r.a.createElement(L.a,{initial:!1},!h&&r.a.createElement(wn,{rating:s,score:u,source:b,tags:m})))}function Kn(){const e=Object(C.a)([""]);return Kn=function(){return e},e}const Yn=z.b.div(Kn());var $n=function(e){const t=e.posts;return r.a.createElement(Yn,null,t.map(e=>r.a.createElement(Jn,Object.assign({key:e.id},e))))};function Qn(){const e=Object(C.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Qn=function(){return e},e}const Xn=z.b.section(Qn(),"8px");let Zn=!0;var ea=function(){const e=Object(i.b)(),t=Object(i.c)(I),n=Object(i.c)(M),c=n.posts,o=n.count,l=n.pageNumber,s=Object(i.c)(G),u=s.rated,b=s.infinite,m=s.ratedTreshold,d=Object(a.useState)(!1),p=Object(De.a)(d,2),f=p[0],h=p[1],g=Object(a.useCallback)(()=>{Me.getPosts(t,l+1,u?m:0).then(t=>{h(0===t.posts.length),e({type:"ADD_POSTS",posts:t.posts.map(Ue)}),Zn=!0})},[e,u,l,m,t]);return window.onscroll=Object(a.useCallback)(()=>{b&&Zn&&window.innerHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight-window.innerHeight&&(Zn=!1,g())},[g,b]),r.a.createElement(Xn,{className:"results"},r.a.createElement(me,null,Ke(o)," results"),r.a.createElement($n,{posts:c}),!b&&!f&&r.a.createElement(se,{type:"block",onClick:g,label:"Load More"},"Load More"),f&&r.a.createElement(Ne,null,r.a.createElement("img",{src:En.a,alt:En.a}),r.a.createElement(Ae,null),r.a.createElement(me,null,"You have reached the end!"),r.a.createElement("p",{style:{textAlign:"center"}},"Go look for something else...")))};function ta(){const e=Object(i.c)(R);return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn,null),e&&r.a.createElement(ea,null))}function na(){const e=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: strech;\n  min-height: 100%;\n  background: ",";\n  color: ",";\n\n  font-size: 14px;\n\n  a {\n    color: ",";\n    text-decoration: none;\n  }\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return na=function(){return e},e}function aa(){const e=Object(C.a)(["\n  flex-grow: 1;\n  align-self: strech;\n  display: flex;\n  flex-direction: column;\n  padding: 0 16px;\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return aa=function(){return e},e}const ra=z.b.main(aa(),"8px"),ca=z.b.div(na(),"#121212","white","crimson","8px");var oa=function(){const e=function(e){switch(e){case"help":return r.a.createElement(dn,null);case"settings":return r.a.createElement(pn,null);case"search":default:return r.a.createElement(ta,null)}}(Object(i.c)(F));return r.a.createElement(ca,null,r.a.createElement(xe,null),r.a.createElement(ra,null,e),r.a.createElement(Ce,null))};function ia(){return r.a.createElement(i.a,{store:T},r.a.createElement(S.a,{loading:null,persistor:_},r.a.createElement(oa,null)))}o.a.render(r.a.createElement(ia,null),document.getElementById("app-root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.39d11acb.chunk.js.map