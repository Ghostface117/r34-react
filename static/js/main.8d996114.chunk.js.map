{"version":3,"sources":["icons/Fullscreen.png","misc/api.js","components/tag/Tag.jsx","components/tagList/TagList.jsx","components/general/InvisButton.jsx","components/post/Post.jsx","components/postList/PostList.jsx","data/post.js","data/tag.js","misc/prepare.js","components/tagSelector/TagSelector.jsx","components/fullscreenDisplay/FullscreenDisplay.jsx","hooks/useAppState.js","hooks/useLocalStorage.js","components/toggle/Toggle.jsx","components/options/Options.jsx","pages/Main.jsx","misc/numberFormatting.js","pages/Help.jsx","pages/NotFound.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","pageSize","activeApi","fetch","catch","getTags","searchTerm","res","json","getPosts","tags","pageNumber","minScore","buildPostUrl","getAliases","tag","page","url","map","t","modifier","encodeURIComponent","name","join","Tag","count","types","activeTags","loadAliases","dispatch","useState","aliases","setAliases","collapsed","setCollapsed","useEffect","some","api","then","newAliases","sort","a","b","Number","posts","filter","alias","active","exclude","character","includes","artist","showAliases","length","className","onMouseLeave","TagText","onClick","Alias","key","type","defaultProps","TagList","onItemClick","onItemItemClick","styled","button","TopLeftButton","InvisButton","FullscreenButton","src","Fullscreen","alt","height","width","Post","id","media_type","small_src","big_src","thumbnail_src","rating","score","source","loadOriginal","media_src","replace","getCorrectSource","Media","fullscreen","Rating","value","Score","Source","hasMoved","controls","loop","poster","preload","onTouchMove","onTouchEnd","event","toUpperCase","startsWith","href","target","rel","PostList","post","file_url","creator_id","creator_url","status","parent_id","has_children","has_comments","comments_url","has_notes","created_at","change","this","obj","prepareTag","sample_url","preview_url","preparePost","TagSelector","setValue","setModifier","suggestions","setSuggestions","oldSuggestions","setOldSuggestions","addTag","useCallback","find","s","prepare","inputProps","placeholder","onChange","newValue","e","onSuggestionsFetchRequested","tagname","toLowerCase","newSuggestions","onSuggestionsClearRequested","getSuggestionValue","suggestion","renderSuggestion","Base","div","Picture","image","FlexFiller","HiddenImage","img","CloseButton","xmlns","viewBox","fill","d","FullscreenDisplay","focusedPost","postIndex","findIndex","p","prevSrc","nextSrc","prev","next","quit","reducer","state","action","removeTag","toggleTag","addPosts","setPosts","setOption","setFocusedPost","undefined","Error","findTag","tagToFind","newTag","produce","draft","tagIndex","tagToRemove","splice","tagToToggle","results","postCount","options","context","initialState","infinite","rated","originals","useAppState","stateString","localStorage","getItem","JSON","parse","newState","setItem","stringify","useLocalStorage","cache","setCache","useReducer","ToggleWrapper","label","Label","span","Toggle","text","initial","defaultChecked","icons","checked","unchecked","Options","scrollLock","withRouter","search","loadMore","window","onscroll","innerHeight","document","documentElement","scrollTop","scrollHeight","numberString","number","toFixed","format","Search","Component","NotFound","App","basename","to","exact","path","render","component","Help","Boolean","location","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8d996114.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","const pageSize = 20,\r\n  apiUrl1 = \"https://r34-json.herokuapp.com\",\r\n  apiUrl2 = \"https://r34-api-clone.herokuapp.com\";\r\n\r\nlet activeApi = apiUrl1;\r\n\r\nfetch(activeApi).catch(() => (activeApi = apiUrl2));\r\n\r\nexport default {\r\n  async getTags(searchTerm) {\r\n    const res = await fetch(\r\n      activeApi +\r\n        \"/tags?limit=\" +\r\n        pageSize +\r\n        \"&name=\" +\r\n        searchTerm +\r\n        \"*&order_by=posts\"\r\n    );\r\n    return await res.json();\r\n  },\r\n\r\n  async getPosts(tags, pageNumber = 0, minScore = 0) {\r\n    const res = await fetch(buildPostUrl(pageNumber, tags, minScore));\r\n    return await res.json();\r\n  },\r\n\r\n  async getAliases(tag) {\r\n    const res = await fetch(activeApi + \"/alias/\" + tag);\r\n    return await res.json();\r\n  }\r\n};\r\n\r\nfunction buildPostUrl(page, tags, minScore) {\r\n  let url = activeApi + \"/posts\";\r\n  url += \"?pid=\" + page;\r\n  url += \"&limit=\" + pageSize;\r\n  url +=\r\n    \"&tags=\" +\r\n    tags\r\n      .map(t => (t.modifier ? t.modifier : \"\") + encodeURIComponent(t.name))\r\n      .join(\"+\");\r\n  url += encodeURIComponent(\"+score:>=\" + minScore);\r\n  return url;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { arrayOf, bool, func, number, object, string } from \"prop-types\";\r\nimport \"./Tag.css\";\r\nimport api from \"../../misc/api\";\r\n\r\nfunction Tag({\r\n  name,\r\n  count,\r\n  modifier,\r\n  types,\r\n  activeTags,\r\n  loadAliases,\r\n  dispatch\r\n}) {\r\n  const [aliases, setAliases] = useState();\r\n  const [collapsed, setCollapsed] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (activeTags.some(t => t.name === name))\r\n      api.getAliases(name).then(newAliases => {\r\n        newAliases.sort((a, b) => Number(b.posts) - Number(a.posts));\r\n        setAliases(\r\n          newAliases.filter(\r\n            alias => !activeTags.some(tag => tag.name === alias.name)\r\n          )\r\n        );\r\n      });\r\n  }, [name, activeTags]);\r\n\r\n  const active = activeTags.some(t => t.name === name);\r\n  const exclude = modifier === \"-\";\r\n  const character = types.includes(\"character\");\r\n  const artist = types.includes(\"artist\");\r\n  const showAliases = loadAliases && aliases && aliases.length > 0;\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        \"tag\" +\r\n        (active ? \" active\" : \"\") +\r\n        (exclude ? \" exclude\" : \"\") +\r\n        (character ? \" character\" : \"\") +\r\n        (artist ? \" artist\" : \"\") +\r\n        (!collapsed ? \" dropped\" : \"\")\r\n      }\r\n      onMouseLeave={() => setCollapsed(true)}\r\n    >\r\n      <TagText\r\n        name={name}\r\n        count={count}\r\n        modifier={modifier}\r\n        types={types}\r\n        activeTags={activeTags}\r\n        dispatch={dispatch}\r\n      />\r\n      {showAliases && (\r\n        <>\r\n          <i\r\n            className=\"caret fas fa-caret-down\"\r\n            onClick={() => setCollapsed(!collapsed)}\r\n          />\r\n          <div className={\"dropdown-list\" + (!collapsed ? \" visible\" : \"\")}>\r\n            {aliases.map(({ name, posts }) => (\r\n              <Alias\r\n                key={\"t_\" + name}\r\n                name={name}\r\n                count={posts}\r\n                dispatch={dispatch}\r\n              />\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTag.propTypes = {\r\n  name: string,\r\n  count: number,\r\n  modifier: string,\r\n  types: arrayOf(string),\r\n  active: bool,\r\n  onClick: func\r\n};\r\n\r\nTag.defaultProps = {\r\n  types: [],\r\n  onClick: () => {}\r\n};\r\n\r\nfunction TagText({ name, count, types, modifier, dispatch }) {\r\n  return (\r\n    <span\r\n      onClick={() =>\r\n        dispatch({ type: \"TOGGLE_TAG\", tag: { name, count, types, modifier } })\r\n      }\r\n    >\r\n      {count ? `${name} (${count})` : name}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction Alias({ name, count, dispatch }) {\r\n  return (\r\n    <div className=\"alias\">\r\n      <TagText name={name} count={count} dispatch={dispatch} />\r\n    </div>\r\n  );\r\n}\r\n\r\nTagText.propTypes = {\r\n  name: string.isRequired,\r\n  count: number,\r\n  modifier: string,\r\n  types: arrayOf(string),\r\n  activeTags: arrayOf(object),\r\n  onClick: func\r\n};\r\n\r\nTagText.defaultProps = {\r\n  modifier: \"+\",\r\n  types: [],\r\n  activeTags: [],\r\n  onClick: () => {}\r\n};\r\n\r\nexport default Tag;\r\n","import React from \"react\";\r\nimport { arrayOf, shape, string } from \"prop-types\";\r\nimport Tag from \"../tag/Tag\";\r\n\r\nexport function TagList({ tags, activeTags, loadAliases, dispatch }) {\r\n  return (\r\n    <div className=\"tag-list\">\r\n      {tags.map(tag => (\r\n        <Tag\r\n          key={\"t_\" + tag.name}\r\n          {...tag}\r\n          activeTags={activeTags}\r\n          loadAliases={loadAliases}\r\n          dispatch={dispatch}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nTagList.propTypes = {\r\n  tags: arrayOf(\r\n    shape({\r\n      name: string\r\n    })\r\n  ).isRequired,\r\n  activeTags: arrayOf(\r\n    shape({\r\n      name: string\r\n    })\r\n  )\r\n};\r\n\r\nTagList.defaultProps = {\r\n  activeTags: [],\r\n  onItemClick: () => {},\r\n  onItemItemClick: () => {}\r\n};\r\n\r\nexport default TagList;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.button`\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { arrayOf, func, number, object, string } from \"prop-types\";\r\nimport { TagList } from \"../tagList/TagList\";\r\nimport \"./Post.css\";\r\nimport InvisButton from \"../general/InvisButton.jsx\";\r\nimport Fullscreen from \"../../icons/Fullscreen.png\";\r\n\r\nconst TopLeftButton = styled(InvisButton)`\r\n  position: absolute;\r\n  left: 5px;\r\n  top: 5px;\r\n`;\r\n\r\nconst FullscreenButton = ({ onClick }) => (\r\n  <TopLeftButton onClick={onClick}>\r\n    <img src={Fullscreen} alt=\"Fullscreen\" height={20} width={20} />\r\n  </TopLeftButton>\r\n);\r\n\r\nexport function getCorrectSource(loadOriginal, big_src, small_src, id) {\r\n  let src;\r\n  if (loadOriginal) {\r\n    src = big_src;\r\n  } else {\r\n    src = `${small_src}?${id}`;\r\n    if (src.includes(\"//images\")) {\r\n      src = src.replace(\"//images\", \"/images\");\r\n    }\r\n  }\r\n\r\n  return src;\r\n}\r\n\r\nfunction Post({\r\n  id,\r\n  media_type,\r\n  small_src,\r\n  big_src,\r\n  thumbnail_src,\r\n  rating,\r\n  score,\r\n  source,\r\n  tags,\r\n  loadOriginal,\r\n  activeTags,\r\n  dispatch\r\n}) {\r\n  const media_src = getCorrectSource(loadOriginal, big_src, small_src, id);\r\n  const [collapsed, setCollapsed] = useState(true);\r\n\r\n  return (\r\n    <li id={id} className=\"list-group-item post gray\">\r\n      <Media\r\n        type={media_type}\r\n        src={media_src}\r\n        thumbnail_src={thumbnail_src}\r\n        fullscreen={() => dispatch({ type: \"FOCUS_POST\", id: id })}\r\n        onClick={() => setCollapsed(!collapsed)}\r\n      />\r\n\r\n      {!collapsed && (\r\n        <div className={\"details collapse\" + (collapsed ? \"\" : \".show\")}>\r\n          <div className=\"d-flex justify-content-between info-bar\">\r\n            <Rating value={rating} />\r\n            <Score value={score} />\r\n            <Source value={source} />\r\n          </div>\r\n          <div className=\"pl-1\">\r\n            <TagList tags={tags} activeTags={activeTags} dispatch={dispatch} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nPost.propTypes = {\r\n  id: number,\r\n  media_type: string,\r\n  media_src: string,\r\n  rating: string,\r\n  score: number,\r\n  source: string,\r\n  tags: arrayOf(object),\r\n  onTagClick: func\r\n};\r\n\r\nexport default Post;\r\n\r\nexport function Media({ type, src, thumbnail_src, fullscreen, onClick }) {\r\n  let hasMoved = false;\r\n  const onMove = () => {\r\n    hasMoved = true;\r\n  };\r\n  const onRelease = event => {\r\n    if (!hasMoved) onClick(event);\r\n    hasMoved = false;\r\n  };\r\n\r\n  switch (type) {\r\n    case \"image\":\r\n      return (\r\n        <>\r\n          <FullscreenButton onClick={fullscreen} />\r\n          <img src={src} alt={src} className=\"img-fluid\" onClick={onClick} />\r\n        </>\r\n      );\r\n    case \"video\":\r\n      return (\r\n        <video\r\n          controls\r\n          loop\r\n          src={src}\r\n          alt={src}\r\n          poster={thumbnail_src}\r\n          className=\"video-fluid\"\r\n          preload=\"none\"\r\n          onClick={onClick}\r\n          onTouchMove={onMove}\r\n          onTouchEnd={onRelease}\r\n        />\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nfunction Rating({ value }) {\r\n  return <span className=\"rating\">{value[0].toUpperCase()}</span>;\r\n}\r\n\r\nfunction Score({ value }) {\r\n  return <span className=\"score\">{value}</span>;\r\n}\r\n\r\nfunction Source({ value }) {\r\n  if (value)\r\n    if (value.startsWith(\"http\"))\r\n      return (\r\n        <a\r\n          href={value}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"source\"\r\n        >\r\n          Source\r\n        </a>\r\n      );\r\n    else return <span className=\"source\">{value}</span>;\r\n  else return null;\r\n}\r\n","import React from \"react\";\r\nimport { arrayOf, object } from \"prop-types\";\r\nimport Post from \"../post/Post\";\r\nimport \"./PostList.css\";\r\n\r\nfunction PostList({ posts, activeTags, loadOriginal, dispatch }) {\r\n  return (\r\n    <ul className=\"post-list list-group list-group-flush\">\r\n      {posts.map(post => {\r\n        return (\r\n          <Post\r\n            key={`p_${post.id}`}\r\n            {...post}\r\n            loadOriginal={loadOriginal}\r\n            activeTags={activeTags}\r\n            dispatch={dispatch}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nPostList.propTypes = {\r\n  posts: arrayOf(object)\r\n};\r\n\r\nexport default PostList;\r\n","export default class Post {\r\n  /**\r\n   *\r\n   * @param {*} id\r\n   * @param {*} type\r\n   * @param {*} score\r\n   * @param {*} rating\r\n   * @param {*} source\r\n   * @param {*} tags\r\n   * @param {*} file_url\r\n   * @param {*} width\r\n   * @param {*} height\r\n   * @param {*} creator_id\r\n   * @param {*} creator_url\r\n   * @param {*} preview_url\r\n   * @param {*} preview_width\r\n   * @param {*} preview_height\r\n   * @param {*} sample_url\r\n   * @param {*} sample_width\r\n   * @param {*} sample_height\r\n   * @param {*} status\r\n   * @param {*} parent_id\r\n   * @param {*} has_children\r\n   * @param {*} has_comments\r\n   * @param {*} comments_url\r\n   * @param {*} has_notes\r\n   * @param {*} created_at\r\n   * @param {*} change\r\n   * @param {*} md5\r\n   */\r\n  constructor(\r\n    id,\r\n    score,\r\n    rating,\r\n    source,\r\n    tags,\r\n    media_type,\r\n    media_src,\r\n    file_url,\r\n    thumbnail_src,\r\n    width,\r\n    height,\r\n    creator_id,\r\n    creator_url,\r\n    status,\r\n    parent_id,\r\n    has_children,\r\n    has_comments,\r\n    comments_url,\r\n    has_notes,\r\n    created_at,\r\n    change\r\n  ) {\r\n    this.id = id;\r\n\r\n    this.score = score;\r\n    this.rating = rating;\r\n    this.source = source;\r\n    this.tags = tags;\r\n\r\n    this.media_type = media_type;\r\n    this.small_src = media_src;\r\n    this.big_src = file_url;\r\n    this.thumbnail_src = thumbnail_src;\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    this.creator_id = creator_id;\r\n    this.creator_url = creator_url;\r\n\r\n    this.status = status;\r\n    this.parent_id = parent_id;\r\n    this.has_children = has_children;\r\n    this.has_comments = has_comments;\r\n    this.comments_url = comments_url;\r\n    this.has_notes = has_notes;\r\n    this.created_at = created_at;\r\n    this.change = change;\r\n  }\r\n}\r\n","export default class Tag {\r\n  constructor(name, types = [], count, modifier = \"+\") {\r\n    this.name = name;\r\n    this.types = types;\r\n    this.count = count;\r\n    this.modifier = modifier;\r\n  }\r\n}\r\n","import Post from \"../data/post\";\r\nimport Tag from \"../data/tag\";\r\n\r\nexport default function(obj) {\r\n  return obj.name ? prepareTag(obj) : preparePost(obj);\r\n}\r\n\r\nfunction prepareTag({ name, types, count, modifier }) {\r\n  return new Tag(name, types, Number(count), modifier);\r\n}\r\n\r\nfunction preparePost(post) {\r\n  const {\r\n    id,\r\n    type,\r\n    score,\r\n    rating,\r\n    source,\r\n    tags,\r\n    file_url,\r\n    width,\r\n    height,\r\n    creator_id,\r\n    creator_url,\r\n    sample_url,\r\n    preview_url,\r\n    status,\r\n    parent_id,\r\n    has_children,\r\n    has_comments,\r\n    comments_url,\r\n    has_notes,\r\n    created_at,\r\n    change\r\n  } = post;\r\n  return new Post(\r\n    Number(id),\r\n    Number(score),\r\n    rating,\r\n    source,\r\n    tags.map(t => new Tag(t)),\r\n    type,\r\n    sample_url,\r\n    file_url,\r\n    preview_url,\r\n    Number(width),\r\n    Number(height),\r\n    Number(creator_id),\r\n    creator_url,\r\n    status,\r\n    parent_id,\r\n    has_children,\r\n    has_comments,\r\n    comments_url,\r\n    has_notes,\r\n    created_at,\r\n    change\r\n  );\r\n}\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { func } from \"prop-types\";\r\nimport Autosuggest from \"react-autosuggest\";\r\nimport api from \"../../misc/api\";\r\nimport \"./TagSelector.css\";\r\nimport prepare from \"../../misc/prepare\";\r\n\r\nfunction TagSelector({ dispatch }) {\r\n  const [value, setValue] = useState(\"\");\r\n  const [modifier, setModifier] = useState(\"+\");\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [oldSuggestions, setOldSuggestions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (suggestions && suggestions.length > 0)\r\n      setOldSuggestions(suggestions.filter(() => true));\r\n  }, [suggestions]);\r\n\r\n  const addTag = useCallback(() => {\r\n    const { posts, types } = oldSuggestions.find(s => s.name === value) || {};\r\n\r\n    dispatch({\r\n      type: \"ADD_TAG\",\r\n      tag: prepare({\r\n        name: value,\r\n        modifier: modifier,\r\n        count: posts,\r\n        types: types\r\n      })\r\n    });\r\n\r\n    setValue(\"\");\r\n  }, [dispatch, modifier, oldSuggestions, value]);\r\n\r\n  const onSuggestionsFetchRequested = ({ value }) => {\r\n    api.getTags(normalize(value)).then(newSuggestions => {\r\n      setSuggestions(newSuggestions);\r\n    });\r\n  };\r\n\r\n  const inputProps = {\r\n    placeholder: \"Search for tags\",\r\n    value,\r\n    onChange: (event, { newValue }) => setValue(newValue)\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex input-group tag-selector\">\r\n      <div className=\"input-group-prepend left-append\">\r\n        <select\r\n          className=\"form-control select-modifier\"\r\n          value={modifier}\r\n          onChange={e => setModifier(e.target.value)}\r\n        >\r\n          <option>+</option>\r\n          <option>-</option>\r\n        </select>\r\n      </div>\r\n      <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={onSuggestionsFetchRequested}\r\n        onSuggestionsClearRequested={() => setSuggestions([])}\r\n        getSuggestionValue={suggestion => suggestion.name}\r\n        renderSuggestion={({ name, posts }) => (\r\n          <span>{`${name} (${posts})`}</span>\r\n        )}\r\n        inputProps={inputProps}\r\n      />\r\n      <div className=\"input-group-append right-append\">\r\n        <button className=\"btn btn-red btn-add-tag\" onClick={addTag}>\r\n          Add\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction normalize(tagname) {\r\n  return tagname.toLowerCase().replace(/ /g, \"_\");\r\n}\r\n\r\nTagSelector.propTypes = {\r\n  onSubmitTag: func\r\n};\r\n\r\nexport default TagSelector;\r\n","import React, { useCallback } from \"react\";\r\nimport { object } from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport InvisButton from \"../general/InvisButton.jsx\";\r\n\r\nconst Base = styled.div`\r\n  position: fixed;\r\n  bottom: 0;\r\n  right: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: black;\r\n`;\r\n\r\nconst Picture = styled.div`\r\n  display:flex;\r\n  height: 100%;\r\n  width: 100%;\r\n  background: url(\"${({ image }) => image}\") no-repeat center;\r\n  background-size: contain;\r\n`;\r\n\r\nconst FlexFiller = styled.div`\r\n  height: 100%;\r\n  flex-grow: 1;\r\n`;\r\n\r\nconst HiddenImage = styled.img`\r\n  position: fixed;\r\n  left: 100%;\r\n  right: 100%;\r\n`;\r\n\r\nfunction CloseButton({ onClick }) {\r\n  return (\r\n    <InvisButton onClick={onClick}>\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        <path\r\n          fill=\"white\"\r\n          d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\"\r\n        />\r\n      </svg>\r\n    </InvisButton>\r\n  );\r\n}\r\n\r\nexport default function FullscreenDisplay({ focusedPost, posts, dispatch }) {\r\n  const postIndex = posts.findIndex(p => p.id === focusedPost);\r\n  const src = posts[postIndex].big_src;\r\n  const prevSrc = posts[postIndex > 0 ? postIndex - 1 : postIndex].big_src;\r\n  const nextSrc =\r\n    posts[postIndex < posts.length - 1 ? postIndex + 1 : postIndex].big_src;\r\n\r\n  const prev = useCallback(\r\n    () =>\r\n      postIndex > 0 &&\r\n      dispatch({ type: \"FOCUS_POST\", id: posts[postIndex - 1].id }),\r\n    [postIndex, dispatch, posts]\r\n  );\r\n\r\n  const next = useCallback(\r\n    () =>\r\n      postIndex < posts.length - 1 &&\r\n      dispatch({ type: \"FOCUS_POST\", id: posts[postIndex + 1].id }),\r\n    [postIndex, dispatch, posts]\r\n  );\r\n\r\n  const quit = useCallback(() => dispatch({ type: \"UNFOCUS_POST\" }), [\r\n    dispatch\r\n  ]);\r\n\r\n  return (\r\n    <Base>\r\n      <CloseButton onClick={quit} />\r\n      <Picture image={src}>\r\n        <FlexFiller onClick={prev}></FlexFiller>\r\n        <FlexFiller onClick={next}></FlexFiller>\r\n      </Picture>\r\n      <HiddenImage src={prevSrc} />\r\n      <HiddenImage src={nextSrc} />\r\n    </Base>\r\n  );\r\n}\r\n\r\nFullscreenDisplay.propTypes = {\r\n  post: object\r\n};\r\n","import { useReducer, useEffect } from \"react\";\r\nimport produce from \"immer\";\r\nimport useLocalStorage from \"./useLocalStorage\";\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"ADD_TAG\":\r\n      return addTag(state, action.tag);\r\n    case \"REMOVE_TAG\":\r\n      return removeTag(state, action.tag);\r\n    case \"TOGGLE_TAG\":\r\n      return toggleTag(state, action.tag);\r\n    case \"ADD_POSTS\":\r\n      return addPosts(state, action.posts);\r\n    case \"SET_POSTS\":\r\n      return setPosts(state, action.posts, action.count);\r\n    case \"SET_OPTION\":\r\n      return setOption(state, action.key, action.value);\r\n    case \"FOCUS_POST\":\r\n      return setFocusedPost(state, action.id);\r\n    case \"UNFOCUS_POST\":\r\n      return setFocusedPost(state, undefined);\r\n    default:\r\n      throw new Error(`Unrecognized Action: ${action.type}`);\r\n  }\r\n}\r\n\r\nfunction findTag(tags, tagToFind) {\r\n  return tags.findIndex(tag => tag.name === tagToFind.name);\r\n}\r\n\r\nconst addTag = (state, newTag) =>\r\n  produce(state, draft => {\r\n    const tagIndex = findTag(state.tags, newTag);\r\n\r\n    draft.tags = [...state.tags];\r\n\r\n    if (tagIndex !== -1) {\r\n      draft.tags[tagIndex] = newTag;\r\n    } else {\r\n      draft.tags = [...draft.tags, newTag];\r\n    }\r\n  });\r\n\r\nconst removeTag = (state, tagToRemove) =>\r\n  produce(state, draft => {\r\n    const tagIndex = findTag(state.tags, tagToRemove);\r\n\r\n    if (tagIndex !== -1) {\r\n      draft.tags = [...state.tags];\r\n      draft.tags.splice(tagIndex, 1);\r\n    }\r\n  });\r\n\r\nconst toggleTag = (state, tagToToggle) =>\r\n  findTag(state.tags, tagToToggle) !== -1\r\n    ? removeTag(state, tagToToggle)\r\n    : addTag(state, tagToToggle);\r\n\r\nconst addPosts = (state, posts) =>\r\n  produce(state, draft => {\r\n    draft.results.posts = [...state.results.posts, ...posts];\r\n    draft.results.page = state.results.page + 1;\r\n  });\r\n\r\nconst setPosts = (state, posts, postCount) =>\r\n  produce(state, draft => {\r\n    draft.results.posts = [...posts];\r\n    draft.results.count = postCount;\r\n    draft.results.page = 0;\r\n  });\r\n\r\nconst setOption = (state, key, value) =>\r\n  produce(state, draft => {\r\n    draft.options[key] = value;\r\n  });\r\n\r\nconst setFocusedPost = (state, id) =>\r\n  produce(state, draft => {\r\n    draft.context.focusedPost = id;\r\n  });\r\n\r\nconst initialState = {\r\n  results: {\r\n    posts: [],\r\n    page: 0,\r\n    count: undefined\r\n  },\r\n  context: {\r\n    focusedPost: undefined\r\n  },\r\n  tags: [],\r\n  options: {\r\n    infinite: true,\r\n    rated: false,\r\n    originals: false\r\n  }\r\n};\r\n\r\n/**\r\n * Creates and manages state\r\n * @return {[{results: {posts: Array, page: Number, count: Number}, tags: Array, context: {focusedPost: String}, options: {originals: Boolean, infinite: Boolean, rated: Boolean}}, dispatch]}\r\n */\r\nexport default function useAppState() {\r\n  const [cache, setCache] = useLocalStorage(initialState);\r\n  const [state, dispatch] = useReducer(reducer, cache);\r\n\r\n  useEffect(() => {\r\n    setCache(state);\r\n  }, [setCache, state]);\r\n\r\n  return [state, dispatch];\r\n}\r\n","export default function useLocalStorage(initialState) {\r\n  const stateString = localStorage.getItem(\"state\");\r\n  const state =\r\n    stateString !== null && stateString !== \"undefined\"\r\n      ? JSON.parse(stateString)\r\n      : initialState;\r\n  const setState = newState =>\r\n    localStorage.setItem(\"state\", JSON.stringify(newState));\r\n\r\n  return [state, setState];\r\n}\r\n","import React from \"react\";\r\nimport { bool, func, string } from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport ReactToggle from \"react-toggle\";\r\nimport \"./Toggle.css\";\r\n\r\nconst ToggleWrapper = styled.label`\r\n  display: flex;\r\n  margin-block-end: 5px;\r\n`;\r\n\r\nconst Label = styled.span`\r\n  margin-inline-start: 5px;\r\n`;\r\n\r\nexport default function Toggle({ text, initial, onChange }) {\r\n  return (\r\n    <ToggleWrapper>\r\n      <ReactToggle\r\n        defaultChecked={initial}\r\n        icons={{\r\n          checked: null,\r\n          unchecked: null\r\n        }}\r\n        onChange={onChange}\r\n      />\r\n      <Label>{text}</Label>\r\n    </ToggleWrapper>\r\n  );\r\n}\r\n\r\nToggle.propTypes = {\r\n  text: string.isRequired,\r\n  initial: bool,\r\n  onChange: func.isRequired\r\n};\r\n\r\nToggle.defaultProps = {\r\n  initial: false\r\n};\r\n","import React from \"react\";\r\nimport { shape, bool, number, func } from \"prop-types\";\r\nimport Toggle from \"../toggle/Toggle\";\r\n\r\nexport default function Options({ options, dispatch }) {\r\n  return (\r\n    <div>\r\n      <Toggle\r\n        text=\"Infinite Scrolling\"\r\n        initial={options.infinite}\r\n        onChange={() =>\r\n          dispatch({\r\n            type: \"SET_OPTION\",\r\n            key: \"infinite\",\r\n            value: !options.infinite\r\n          })\r\n        }\r\n      />\r\n      <Toggle\r\n        text=\"Only show Rated Posts\"\r\n        initial={options.rated}\r\n        onChange={() =>\r\n          dispatch({\r\n            type: \"SET_OPTION\",\r\n            key: \"rated\",\r\n            value: options.rated ? undefined : 1\r\n          })\r\n        }\r\n      />\r\n      <Toggle\r\n        text=\"Load Original Sizes\"\r\n        initial={options.originals}\r\n        onChange={() =>\r\n          dispatch({\r\n            type: \"SET_OPTION\",\r\n            key: \"originals\",\r\n            value: !options.originals\r\n          })\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nOptions.propTypes = {\r\n  options: shape({\r\n    infinite: bool,\r\n    rated: number,\r\n    originals: bool\r\n  }).isRequired,\r\n  dispatch: func.isRequired\r\n};\r\n","import React, { useCallback } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport TagList from \"../components/tagList/TagList\";\r\nimport PostList from \"../components/postList/PostList\";\r\nimport api from \"../misc/api\";\r\nimport TagSelector from \"../components/tagSelector/TagSelector\";\r\nimport prepare from \"../misc/prepare\";\r\nimport FullscreenDisplay from \"../components/fullscreenDisplay/FullscreenDisplay\";\r\nimport useAppState from \"../hooks/useAppState\";\r\nimport Options from \"../components/options/Options\";\r\nimport format from \"../misc/numberFormatting\";\r\n\r\nlet scrollLock = true;\r\n\r\nfunction hasReachedEndOfPage() {\r\n  return (\r\n    window.innerHeight + document.documentElement.scrollTop >=\r\n    document.documentElement.scrollHeight - window.innerHeight\r\n  );\r\n}\r\n\r\nfunction Main() {\r\n  const [state, dispatch] = useAppState();\r\n  const { results, tags, options, context } = state;\r\n\r\n  const search = useCallback(() => {\r\n    api.getPosts(tags, 0, options.rated).then(res => {\r\n      dispatch({\r\n        type: \"SET_POSTS\",\r\n        posts: res.posts.map(prepare),\r\n        count: Number(res.count)\r\n      });\r\n    });\r\n  }, [dispatch, options.rated, tags]);\r\n\r\n  const loadMore = useCallback(() => {\r\n    api.getPosts(tags, results.page + 1, options.rated).then(res => {\r\n      dispatch({ type: \"ADD_POSTS\", posts: res.posts.map(prepare) });\r\n      scrollLock = true;\r\n    });\r\n  }, [dispatch, options.rated, results.page, tags]);\r\n\r\n  window.onscroll = useCallback(() => {\r\n    if (options.infinite && scrollLock && hasReachedEndOfPage()) {\r\n      scrollLock = false;\r\n      loadMore();\r\n    }\r\n  }, [loadMore, options.infinite]);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"search\">\r\n        <h3 className=\"centered\">Search</h3>\r\n        <TagSelector dispatch={dispatch} />\r\n\r\n        {tags.length > 0 ? (\r\n          <label>\r\n            Tags:\r\n            <TagList\r\n              tags={tags}\r\n              activeTags={tags}\r\n              dispatch={dispatch}\r\n              loadAliases\r\n            />\r\n          </label>\r\n        ) : (\r\n          <div className=\"mb-1\" />\r\n        )}\r\n        <Options options={options} dispatch={dispatch} />\r\n        <button className=\"btn btn-block btn-red\" onClick={search}>\r\n          Search\r\n        </button>\r\n      </section>\r\n\r\n      {results.posts.length > 0 && (\r\n        <section className=\"results\">\r\n          <h3 className=\"centered\">{format(results.count)} results</h3>\r\n          <PostList\r\n            posts={results.posts}\r\n            activeTags={tags}\r\n            loadOriginal={options.originals}\r\n            dispatch={dispatch}\r\n          />\r\n          {!options.infinite && (\r\n            <button className=\"btn btn-block btn-red\" onClick={loadMore}>\r\n              Load More\r\n            </button>\r\n          )}\r\n        </section>\r\n      )}\r\n\r\n      {context.focusedPost && (\r\n        <FullscreenDisplay\r\n          focusedPost={context.focusedPost}\r\n          posts={results.posts}\r\n          dispatch={dispatch}\r\n        />\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default withRouter(Main);\r\n","export default function format(numberString) {\r\n  const number = Number(numberString);\r\n\r\n  if (number >= 1e6) {\r\n    return `~${(number / 1e6).toFixed(0)}M`;\r\n  }\r\n\r\n  if (number >= 1e3) {\r\n    return `~${(number / 1e3).toFixed(0)}K`;\r\n  }\r\n\r\n  return number;\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nclass Search extends Component {   \r\n      render() {\r\n        return (\r\n          <div className=\"app\">\r\n            <main>\r\n              <p>Helpful things</p>\r\n            </main>\r\n          </div>\r\n        )\r\n      }\r\n}\r\n\r\nexport default Search","import React, { Component } from \"react\";\r\n\r\nclass NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <header>\r\n          <h1>404 - not found</h1>\r\n        </header>\r\n\r\n        <main>\r\n          <p>Go away</p>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { Component } from \"react\";\nimport Main from \"./pages/Main\";\nimport Help from \"./pages/Help\";\nimport NotFound from \"./pages/NotFound\";\nimport { Route, Link, Switch, BrowserRouter as Router } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./App.css\";\n\nclass App extends Component {\n  render() {\n    return (\n      <Router basename=\"/r34-react\">\n        <header className=\"centered\">\n          <h1 className=\"centered\">\n            Browse <a href=\"https://rule34.xxx\">Rule34</a>\n          </h1>\n          <div className=\"container d-flex justify-content-center menu-bar\">\n            <Link to=\"/\" className=\"menu-item\">\n              Search\n            </Link>\n            <Link to=\"/help\" className=\"menu-item\">\n              Help\n            </Link>\n          </div>\n        </header>\n        <Switch>\n          <Route exact path=\"/\" render={() => <Main />} />\n          <Route exact path=\"/help\" component={Help} />\n          <Route component={NotFound} />\n        </Switch>\n        <div className=\"spacer\" />\n        <footer>\n          <small>\n            <div className=\"d-flex justify-content-center\">\n              <p>\n                <a href=\"https://github.com/kurozenzen/r34\">\n                  Github Repository\n                </a>\n              </p>\n            </div>\n            <div className=\"d-flex justify-content-center\">\n              <p>\n                Please, if you notice{\" \"}\n                <a href=\"https://github.com/kurozenzen/r34/issues/new?template=bug_report.md\">\n                  {\" \"}\n                  something isn't right\n                </a>\n                , or you{\" \"}\n                <a href=\"https://github.com/kurozenzen/r34/issues/new?template=feature_request.md\">\n                  want a feature\n                </a>{\" \"}\n                to be implemented take the time to let me know.\n              </p>\n            </div>\n            <div className=\"d-flex justify-content-center\">\n              <p>Hosted with Github Pages.</p>\n            </div>\n          </small>\n        </footer>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('app-root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}