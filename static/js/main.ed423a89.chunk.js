(this["webpackJsonpr34-browser"]=this["webpackJsonpr34-browser"]||[]).push([[0],{27:function(e,n,t){e.exports=t(43)},32:function(e,n,t){},37:function(e,n,t){},42:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(16),i=t.n(c),o=(t(32),t(3)),u=t(1),s=t(7),l=t(17),f=t(23),p=t(18),d=t(26),m=function(e){function n(){return Object(s.a)(this,n),Object(f.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement("main",null,a.a.createElement("p",null,"Helpful things")))}}]),n}(r.Component),h=t(2),g=t(19),b=t(5),v=t.n(b),E=t(8),O=20,j="https://r34-json.herokuapp.com";fetch(j).catch((function(){return j="https://r34-api-clone.herokuapp.com"}));var x={getTags:function(){var e=Object(E.a)(v.a.mark((function e(n){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(j+"/tags?limit="+O+"&name="+n+"*&order_by=posts");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getPosts:function(){var e=Object(E.a)(v.a.mark((function e(n){var t,r,a,c=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:0,r=c.length>2&&void 0!==c[2]?c[2]:0,e.next=4,fetch(y(t,n,r));case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getAliases:function(){var e=Object(E.a)(v.a.mark((function e(n){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(j+"/alias/"+n);case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};function y(e,n,t){var r=j+"/posts";return r+="?pid="+e,r+="&limit="+O,r+="&tags="+n.map((function(e){return(e.modifier?e.modifier:"")+encodeURIComponent(e.name)})).join("+"),r+=encodeURIComponent("+score:>="+t)}var k=function e(n,t,r,a,c,i,o,u,l,f,p,d,m,h,g,b,v,E,O,j,x){Object(s.a)(this,e),this.id=n,this.score=t,this.rating=r,this.source=a,this.tags=c,this.media_type=i,this.small_src=o,this.big_src=u,this.thumbnail_src=l,this.width=f,this.height=p,this.creator_id=d,this.creator_url=m,this.status=h,this.parent_id=g,this.has_children=b,this.has_comments=v,this.comments_url=E,this.has_notes=O,this.created_at=j,this.change=x},w=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"+";Object(s.a)(this,e),this.name=n,this.types=t,this.count=r,this.modifier=a},_=function(e){return e.name?function(e){var n=e.name,t=e.types,r=e.count,a=e.modifier;return new w(n,t,Number(r),a)}(e):function(e){var n=e.id,t=e.type,r=e.score,a=e.rating,c=e.source,i=e.tags,o=e.file_url,u=e.width,s=e.height,l=e.creator_id,f=e.creator_url,p=e.sample_url,d=e.preview_url,m=e.status,h=e.parent_id,g=e.has_children,b=e.has_comments,v=e.comments_url,E=e.has_notes,O=e.created_at,j=e.change;return new k(Number(n),Number(r),a,c,i?i.map((function(e){return new w(e)})):[],t,p,o,d,Number(u),Number(s),Number(l),f,m,h,g,b,v,E,O,j)}(e)};var C="#ef3322",S="#ffffff11; :hover { background: #ffffff16;} transition: background-color 0.4s ease-in-out",T="box-shadow: 0 0 8px rgba(0, 0, 0, 1)",N="8px";function P(){var e=Object(u.a)(["\n  min-width: 48px;\n  border: "," "," solid;\n  border-right-width: 0;\n  border-radius: "," 0 0 ",";\n"]);return P=function(){return e},e}function z(){var e=Object(u.a)(["\n  border-left-width: 0;\n  border-radius: 0 "," "," 0;\n"]);return z=function(){return e},e}function A(){var e=Object(u.a)(["\n  width: 100%;\n  border-radius: ",";\n"]);return A=function(){return e},e}function F(){var e=Object(u.a)(["\n  height: 32px;\n  font-size: 14px;\n  color: ",";\n  background: ",";\n  border: "," "," solid;\n\n  transition: border-color 0.4s ease-in-out;\n  transition: color 0.4s ease-in-out;\n  transition: background-color 0.4s ease-in-out;\n\n  :hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  :active,\n  :focus {\n    color: ",";\n\n    border-color: ",";\n    cursor: pointer;\n  }\n"]);return F=function(){return e},e}function I(){var e=Object(u.a)(["\n  position: absolute;\n"]);return I=function(){return e},e}function M(){var e=Object(u.a)(["\n  color: ",";\n"]);return M=function(){return e},e}function U(){var e=Object(u.a)(["\n  background: none;\n  border: none;\n  padding: ",";\n\n  :focus {\n    text-decoration: underline;\n  }\n"]);return U=function(){return e},e}function R(){var e=Object(u.a)(["\n  font-size: 14px;\n\n  :focus {\n    outline: none;\n  }\n"]);return R=function(){return e},e}var D=h.a.button(R()),G=Object(h.a)(D)(U(),"4px"),L=Object(h.a)(G)(M(),(function(e){return e.active?C:"white"})),V=Object(h.a)(G)(I()),W=Object(h.a)(D)(F(),C,"#121212",C,"2px",C,"#121212","white","white"),B=Object(h.a)(W)(A(),"3px"),H=Object(h.a)(W)(z(),"3px","3px"),J=Object(h.a)(G)(P(),C,"2px","3px","3px");function q(e){var n,t=e.type,r=e.children,c=e.onClick,i=e.active,o=e.disabled,u=e.label;switch(t){case"invisible":n=G;break;case"block":n=B;break;case"topLeft":n=V;break;case"modifier":n=J;break;case"add":n=H;break;case"menu":n=L;break;default:n=W}return a.a.createElement(n,{onClick:c,active:i,disabled:o,"aria-label":u},r)}function $(){var e=Object(u.a)(["\n  width: 100%;\n  border: none;\n  outline: none;\n  background: none;\n  font-size: 14px;\n  border-top: "," "," solid;\n  border-bottom: "," "," solid;\n"]);return $=function(){return e},e}var K=h.a.input($(),C,"2px",C,"2px");function Q(e){var n=e.value,t=e.setValue;return a.a.createElement(K,{id:"tag-input",value:n,onChange:function(e){return t(e.target.value)},placeholder:"Search for tags"})}t(37);function X(e){return e.replace(/_/g," ")}function Y(){var e=Object(u.a)(["\n  ","\n  ","\n"]);return Y=function(){return e},e}function Z(){var e=Object(u.a)(["\n  display: inline-block;\n  padding: 0.25rem;\n  border-radius: ","\n  font-size: 14px;\n  line-height: 1.2;\n  vertical-align: baseline;\n  margin: ",";\n  ","\n"]);return Z=function(){return e},e}var ee=h.a.div(Z(),(function(e){return e.collapsed?"3px":"".concat("3px"," ").concat("3px"," 0 0")}),(function(){return"4px"}),(function(e){var n=e.active,t=n?"#121212":C,r=n?C:"#121212";return"\n    color: ".concat(t,";\n    background-color: ").concat(r,";\n    border: ").concat(C," ").concat("2px"," solid;\n    transition: background-color 0.4s ease-in-out;\n\n    cursor: pointer;\n\n    :hover {\n      background-color: ").concat(t,";\n      color: ").concat(r,";\n      \n      i {\n        color: ").concat(r,";\n      }\n    }\n\n    :focus, :active {\n      color: ").concat("white",";\n      border-color: ").concat("white","\n    }\n  ")})),ne=h.a.span(Y(),(function(e){return e.left?"margin-right: 5px;":""}),(function(e){return e.right?"margin-left: 5px;":""}));function te(e){var n=e.name,t=e.count,c=e.modifier,i=e.types,u=e.activeTags,s=e.loadAliases,l=e.dispatch,f=Object(r.useState)(),p=Object(o.a)(f,2),d=p[0],m=p[1],h=Object(r.useState)(!0),g=Object(o.a)(h,2),b=g[0],v=g[1];Object(r.useEffect)((function(){u.some((function(e){return e.name===n}))&&x.getAliases(n).then((function(e){e.sort((function(e,n){return Number(n.posts)-Number(e.posts)})),m(e.filter((function(e){return!u.some((function(n){return n.name===e.name}))})))}))}),[n,u]);var E=u.some((function(e){return e.name===n})),O=s&&d&&d.length>0;return a.a.createElement(ee,{active:E,collapsed:b,onMouseLeave:function(){return v(!0)},tabIndex:"0"},a.a.createElement(ke,{types:i,left:!0}),a.a.createElement(re,{name:n,count:t,modifier:c,types:i,activeTags:u,dispatch:l}),O&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ne,{right:!0,onClick:function(){return v(!b)}},a.a.createElement(ve,null)),a.a.createElement("div",{className:"dropdown-list"+(b?"":" visible")},d.map((function(e){var n=e.name,t=e.posts;return a.a.createElement(ae,{key:"t_"+n,name:n,count:t,dispatch:l})})))))}function re(e){var n=e.name,t=e.count,r=e.types,c=e.modifier,i=e.dispatch,o=X(n),u=t?"".concat(o," (").concat(t,")"):o;return a.a.createElement("span",{onClick:function(){return i({type:"TOGGLE_TAG",tag:{name:n,count:t,types:r,modifier:c}})}},"-"===c?a.a.createElement("s",null,u):u)}function ae(e){var n=e.name,t=e.count,r=e.dispatch;return a.a.createElement("div",{className:"alias"},a.a.createElement(re,{name:n,count:t,dispatch:r}))}te.defaultProps={types:[],onClick:function(){}},re.defaultProps={modifier:"+",types:[],activeTags:[],onClick:function(){}};var ce=te;function ie(){var e=Object(u.a)(["\n  line-height: 16px;\n  ","\n  ","\n"]);return ie=function(){return e},e}function oe(){var e=Object(u.a)(["\n  ","\n"]);return oe=function(){return e},e}var ue=h.a.i(oe(),(function(e){var n=e.color,t=e.size;return"\n    color: ".concat(n,";\n    width: ").concat(t,"px;\n    height: ").concat(t,"px;\n\n    ").concat(ee,":hover & {\n      color: ").concat(C,";\n    }\n\n    ").concat(ee,":active & ,  ").concat(ee,":focus & {\n      color: ").concat("white",";\n    }\n  ")})),se=h.a.span(ie(),(function(e){return e.left?"margin-right: 5px;":""}),(function(e){return e.right?"margin-left: 5px;":""})),le=function(e){var n=e.className,t=e.icon,r=e.color,c=e.size,i=e.onClick,o=e.left,u=e.right;return a.a.createElement(se,{onClick:i,left:o,right:u},a.a.createElement(ue,{className:"fas ".concat(t," ").concat(n),color:r,size:c}))};function fe(e){return a.a.createElement(le,Object.assign({icon:"fa-user"},e))}function pe(e){return a.a.createElement(le,Object.assign({icon:"fa-pen"},e))}function de(e){return a.a.createElement(le,Object.assign({icon:"fa-copyright"},e))}function me(e){return a.a.createElement(le,Object.assign({icon:"fa-plus-circle"},e))}function he(e){return a.a.createElement(le,Object.assign({icon:"fa-minus-circle"},e))}function ge(e){return a.a.createElement(le,Object.assign({icon:"fa-times"},e))}function be(e){return a.a.createElement(le,Object.assign({icon:"fa-expand"},e))}function ve(e){return a.a.createElement(le,Object.assign({icon:"fa-caret-down"},e))}function Ee(e){return a.a.createElement(le,Object.assign({icon:"fa-external-link-alt"},e))}function Oe(e){return a.a.createElement(le,Object.assign({icon:"fa-hashtag"},e))}function je(e){return a.a.createElement(le,Object.assign({icon:"fa-registered"},e))}function xe(e){return a.a.createElement(le,Object.assign({icon:"fa-heart"},e))}function ye(e){var n=e.types,t=e.className,r=e.onClick;switch(n.find((function(e){return!e.match(/^[general|ambiguous]$/)}))){case"character":return a.a.createElement(fe,{className:t,onClick:r,left:!0});case"copyright":return a.a.createElement(de,{className:t,onClick:r,left:!0});case"artist":return a.a.createElement(pe,{className:t,onClick:r,left:!0});default:return a.a.createElement("div",{className:t})}}le.defaultProps={color:"black",size:14},ye.defaultProps={types:[]};var ke=ye;function we(e){var n=Number(e);return n>=1e6?"".concat((n/1e6).toFixed(0),"M"):n>=1e3?"".concat((n/1e3).toFixed(0),"K"):n}function _e(){var e=Object(u.a)(["\n  flex: 0 0 48px;\n  text-align: center;\n"]);return _e=function(){return e},e}function Ce(){var e=Object(u.a)(["\n  display: flex;\n  padding: 2px 0;\n\n  &:not(:last-child) {\n    border-bottom: 1px grey solid;\n  }\n"]);return Ce=function(){return e},e}function Se(){var e=Object(u.a)(["\n  ",";\n  background: white;\n  box-sizing: border-box;\n  border: "," "," solid;\n  border-radius: 0 0 3px 3px;\n  color: black;\n  z-index: 1;\n"]);return Se=function(){return e},e}var Te=h.a.div(Se(),(function(e){var n=e.inputRef;return n?"\n      position: absolute;\n      top: ".concat(n.offsetTop+n.clientHeight-2,"px;\n      left: ").concat(n.offsetLeft,"px;\n      width: ").concat(n.clientWidth,"px;"):""}),"2px",C);var Ne=h.a.div(Ce()),Pe=h.a.span(_e());function ze(e){var n=e.name,t=e.posts,r=e.types,c=e.onClick;return a.a.createElement(Ne,{onClick:c},a.a.createElement(Pe,null,a.a.createElement(ke,{types:r})),a.a.createElement("span",{style:{flexGrow:1}},X(n)),a.a.createElement("span",{style:{paddingRight:5}},we(t)," posts"))}var Ae=function(e){var n=e.inputRef,t=e.entries,r=e.onClick;return t&&t.length>0?a.a.createElement(Te,{inputRef:n},t.map((function(e){return a.a.createElement(ze,Object.assign({key:e.name},e,{onClick:function(){return r(e)}}))}))):null};function Fe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ie(){var e=Object(u.a)(["\n  display: flex;\n  background: white;\n  ","\n"]);return Ie=function(){return e},e}var Me=h.a.div(Ie(),(function(e){return e.closed?"border-radius: ".concat("3px",";"):"\n        border-radius: ".concat("3px"," ").concat("3px"," 0 0;\n\n        > ").concat(H," {\n          border-radius: 0 ").concat("3px"," 0 0;\n        }\n\n        > ").concat(J," {\n          border-radius: ").concat("3px"," 0 0 0;\n        }\n      ")}));var Ue=function(e){var n=e.dispatch,t=Object(r.useState)(),c=Object(o.a)(t,2),i=c[0],u=c[1],s=Object(r.useState)(""),l=Object(o.a)(s,2),f=l[0],p=l[1],d=Object(r.useState)("+"),m=Object(o.a)(d,2),h=m[0],b=m[1],v=Object(r.useState)([]),E=Object(o.a)(v,2),O=E[0],j=E[1],y=Object(r.useCallback)((function(e){n({type:"ADD_TAG",tag:_({name:e.name,modifier:h,count:e.posts,types:e.types})}),p(""),j([])}),[n,h]);return Object(r.useEffect)((function(){var e=setTimeout((function(){var e;f&&""!==f&&x.getTags((e=f,e.toLowerCase().replace(/ /g,"_"))).then((function(e){j(e)}))}),400);return function(){return clearTimeout(e)}}),[f]),a.a.createElement(Me,{ref:u,closed:0===O.length},a.a.createElement(q,{type:"modifier",onClick:function(){return b("+"===h?"-":"+")}},h),a.a.createElement(Q,{value:f,setValue:p}),a.a.createElement(q,{type:"add",onClick:function(){if(f&&""!==f.trim()){var e=O.find((function(e){return e.name===f}))||{};y(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fe(t,!0).forEach((function(n){Object(g.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fe(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,{name:f}))}}},"Add"),a.a.createElement(Ae,{inputRef:i,entries:O,onClick:function(e){y(e)}}))};function Re(){var e=Object(u.a)(["\n  display: inline-flex;\n  flex-wrap: wrap;\n  margin: ",";\n"]);return Re=function(){return e},e}var De=h.a.div(Re(),(function(e){var n=e.padding;return"calc(".concat(n," - ").concat("4px",")")}));function Ge(e){var n=e.tags,t=e.activeTags,r=e.loadAliases,c=e.dispatch,i=e.padding;return a.a.createElement("div",null,a.a.createElement(De,{padding:i},n.map((function(e){return a.a.createElement(ce,Object.assign({key:"t_"+e.name},e,{activeTags:t,loadAliases:r,dispatch:c}))}))))}Ge.defaultProps={activeTags:[],onItemClick:function(){},onItemItemClick:function(){},padding:"0px"};var Le=Ge,Ve=t(22),We=t.n(Ve);t(42);function Be(){var e=Object(u.a)(["\n  margin-left: ",";\n"]);return Be=function(){return e},e}function He(){var e=Object(u.a)(["\n  display: flex;\n"]);return He=function(){return e},e}var Je=h.a.label(He()),qe=h.a.span(Be(),N);function $e(e){var n=e.children,t=e.initial,r=e.onChange;return a.a.createElement(Je,null,a.a.createElement(We.a,{defaultChecked:t,icons:{checked:null,unchecked:null},onChange:r}),a.a.createElement(qe,null,n))}function Ke(){var e=Object(u.a)(["\n  background: none;\n  border: none;\n  outline: none;\n  color: ",";\n  max-height: 16px;\n  width: ","em;\n  text-align: right;\n  font-size: 14px;\n  margin: -1px 0.2em 0 0.2em;\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield;\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Qe=function(){return e},e}$e.defaultProps={initial:!1};var Xe=h.a.div(Qe(),N),Ye=h.a.input(Ke(),C,(function(e){var n=e.value;return.57*String(n).length}));function Ze(e){var n=e.options,t=e.dispatch,c=Object(r.useState)(1),i=Object(o.a)(c,2),u=i[0],s=i[1];return a.a.createElement(Xe,null,a.a.createElement($e,{initial:n.infinite,onChange:function(){return t({type:"SET_OPTION",key:"infinite",value:!n.infinite})}},"Infinite Scrolling"),a.a.createElement($e,{initial:Boolean(n.rated),onChange:function(){t({type:"SET_OPTION",key:"rated",value:n.rated?void 0:u})}},n.rated?a.a.createElement("div",{style:{display:"flex"}},"Above",a.a.createElement(Ye,{type:"number",value:u,onChange:function(e){return s(Number(e.target.value))},onBlur:function(e){return t({type:"SET_OPTION",key:"rated",value:Number(e.target.value)})}}),"likes"):"Only show Rated Posts"),a.a.createElement($e,{initial:n.originals,onChange:function(){return t({type:"SET_OPTION",key:"originals",value:!n.originals})}},"Load Original Sizes"))}function en(){var e=Object(u.a)(["\n  font-size: 24px;\n  font-weight: lighter;\n  margin: 0;\n  text-align: center;\n"]);return en=function(){return e},e}function nn(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: lighter;\n  text-align: center;\n  margin: 0;\n"]);return nn=function(){return e},e}var tn=h.a.h1(nn()),rn=h.a.h2(en());var an=function(e){var n=e.size,t=e.children;switch(n){case"large":return a.a.createElement(tn,null,t);case"medium":default:return a.a.createElement(rn,null,t)}};function cn(){var e=Object(u.a)(["\n  padding: ",";\n  background: ",";\n  ",";\n  border-radius: ",";\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return cn=function(){return e},e}function on(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return on=function(){return e},e}var un=h.a.section(on(),N),sn=h.a.div(cn(),N,S,T,"3px",N);var ln=function(e){var n=e.options,t=e.tags,c=e.dispatch,i=Object(r.useCallback)((function(){x.getPosts(t,0,n.rated).then((function(e){c({type:"SET_POSTS",posts:e.posts.map(_),count:Number(e.count)})}))}),[c,n.rated,t]);return a.a.createElement(un,null,a.a.createElement(an,null,a.a.createElement("label",{htmlFor:"tag-input"},"Search")),a.a.createElement(sn,null,a.a.createElement(Ue,{dispatch:c}),t.length>0&&a.a.createElement(Le,{tags:t,activeTags:t,dispatch:c,loadAliases:!0}),a.a.createElement(Ze,{options:n,dispatch:c}),a.a.createElement(q,{type:"block",onClick:i},"Search")))};t(15);function fn(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n"]);return fn=function(){return e},e}var pn=h.a.img(fn());function dn(e){var n=e.src,t=e.onClick;return a.a.createElement(pn,{src:n,alt:n,onClick:t})}function mn(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n"]);return mn=function(){return e},e}var hn=!1,gn=h.a.video(mn());function bn(e){var n=e.src,t=e.thumbnail_src,c=e.onClick,i=Object(r.useCallback)((function(e){!hn&&c(),hn=!1}),[c]),o=Object(r.useCallback)((function(){hn=!0}),[]);return a.a.createElement(gn,{controls:!0,loop:!0,src:n,alt:n,poster:t,preload:"metadata",onTouchMove:o,onTouchEnd:i})}function vn(e){var n=e.type,t=e.src,r=e.thumbnail_src,c=e.isFullscreen,i=e.onFullscreen,o=e.onClick;return a.a.createElement("div",{style:{display:"contents"}},a.a.createElement(q,{type:"topLeft",onClick:i,label:"Toggle Fullscreen"},c?a.a.createElement(ge,{color:"white"}):a.a.createElement(be,{color:"white"})),"video"===n?a.a.createElement(bn,{src:t,poster:r,onClick:o}):a.a.createElement(dn,{src:t,alt:t,onClick:o}))}function En(){var e=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  background: ",";\n  padding: ",";\n  ",";\n\n  > span,\n  > a {\n    margin: ",";\n    line-height: 1rem;\n    height: 1rem;\n  }\n"]);return En=function(){return e},e}function On(){var e=Object(u.a)(["\n  > "," {\n    padding: ",";\n  }\n\n  overflow: hidden;\n"]);return On=function(){return e},e}var jn=h.a.div(On(),De,"4px"),xn=h.a.div(En(),S,"4px",T,"4px");var yn=function(e){var n=e.rating,t=e.score,r=e.source,c=e.tags,i=e.activeTags,o=e.dispatch;return a.a.createElement(jn,null,a.a.createElement(xn,null,n&&a.a.createElement(kn,{value:n}),t&&a.a.createElement(wn,{value:t}),r&&a.a.createElement(_n,{value:r})),a.a.createElement(Le,{tags:c,activeTags:i,dispatch:o,padding:N}))},kn=function(e){var n=e.value;return a.a.createElement("span",null,a.a.createElement(je,{color:"white",left:!0}),n[0].toUpperCase())},wn=function(e){var n=e.value;return a.a.createElement("span",null,n,a.a.createElement(xe,{color:"white",right:!0}))};function _n(e){var n=e.value;return n.startsWith("http")?a.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"source"},a.a.createElement(Ee,{color:"red",left:!0}),"Source"):a.a.createElement("span",null,a.a.createElement(Oe,{color:"white",left:!0}),n)}function Cn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  background: ",";\n  ",";\n  border-radius: ",";\n  overflow: hidden;\n  margin-bottom: ",";\n  border-box: border-box;\n"]);return Cn=function(){return e},e}var Sn=h.a.div(Cn(),S,T,"3px","8px");function Tn(e){var n=e.id,t=e.media_type,c=e.small_src,i=e.big_src,u=e.thumbnail_src,s=e.rating,l=e.score,f=e.source,p=e.tags,d=e.loadOriginal,m=e.activeTags,h=e.dispatch,g=function(e,n,t,r){var a;return e?a=n:(a="".concat(t,"?").concat(r)).includes("//images")&&(a=a.replace("//images","/images")),a}(d,i,c,n),b=Object(r.useState)(!0),v=Object(o.a)(b,2),E=v[0],O=v[1];return a.a.createElement(Sn,null,a.a.createElement(vn,{type:t,src:g,thumbnail_src:u,isFullscreen:!1,onFullscreen:function(){return h({type:"FOCUS_POST",id:n})},onClick:function(){return O(!E)}}),!E&&a.a.createElement(yn,{rating:s,score:l,source:f,tags:p,activeTags:m,dispatch:h}))}function Nn(){var e=Object(u.a)([""]);return Nn=function(){return e},e}var Pn=h.a.div(Nn());var zn=function(e){var n=e.posts,t=e.activeTags,r=e.loadOriginal,c=e.dispatch;return a.a.createElement(Pn,null,n.map((function(e){return a.a.createElement(Tn,Object.assign({key:"p_".concat(e.id)},e,{loadOriginal:r,activeTags:t,dispatch:c}))})))};function An(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return An=function(){return e},e}var Fn=h.a.section(An(),N),In=!0;var Mn=function(e){var n=e.options,t=e.dispatch,c=e.tags,i=e.results,o=Object(r.useCallback)((function(){x.getPosts(c,i.page+1,n.rated).then((function(e){t({type:"ADD_POSTS",posts:e.posts.map(_)}),In=!0}))}),[t,n.rated,i.page,c]);return window.onscroll=Object(r.useCallback)((function(){n.infinite&&In&&window.innerHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight-window.innerHeight&&(In=!1,o())}),[o,n.infinite]),a.a.createElement(Fn,{className:"results"},a.a.createElement(an,null,we(i.count)," results"),a.a.createElement(zn,{posts:i.posts,activeTags:c,loadOriginal:n.originals,dispatch:t}),!n.infinite&&a.a.createElement(q,{type:"block",onClick:o},"Load More"))};function Un(e){var n=e.tags,t=e.options,r=e.results,c=e.dispatch;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ln,{options:t,tags:n,dispatch:c}),r.posts.length>0&&a.a.createElement(Mn,{options:t,dispatch:c,tags:n,results:r}))}function Rn(){var e=Object(u.a)(["\n  position: fixed;\n  left: 100%;\n  right: 100%;\n"]);return Rn=function(){return e},e}function Dn(){var e=Object(u.a)(["\n  position: fixed;\n  left: 0;\n  bottom: 0;\n"]);return Dn=function(){return e},e}function Gn(){var e=Object(u.a)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  overflow: scroll;\n  background-color: ",";\n"]);return Gn=function(){return e},e}var Ln=h.a.div(Gn(),"#121212"),Vn=h.a.div(Dn()),Wn=h.a.img(Rn());function Bn(e){var n=e.focusedPost,t=e.posts,c=e.dispatch,i=t.findIndex((function(e){return e.id===n})),o=t[i],u=o.big_src,s=o.media_type,l=o.thumbnail_src,f=t[i>0?i-1:i].big_src,p=t[i<t.length-1?i+1:i].big_src,d=Object(r.useCallback)((function(){return i>0&&c({type:"FOCUS_POST",id:t[i-1].id})}),[i,c,t]),m=Object(r.useCallback)((function(){return i<t.length-1&&c({type:"FOCUS_POST",id:t[i+1].id})}),[i,c,t]);return a.a.createElement(Ln,null,a.a.createElement(vn,{type:s,src:u,thumbnail_src:l,isFullscreen:!0,onFullscreen:function(){return c({type:"UNFOCUS_POST"})},onClick:function(){}}),a.a.createElement(Vn,null,a.a.createElement(he,{onClick:d,color:"white"}),a.a.createElement(me,{onClick:m,color:"white"})),a.a.createElement(Wn,{src:f}),a.a.createElement(Wn,{src:p}))}var Hn=function(e){var n=e.size;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 12.7 12.7"},a.a.createElement("g",{transform:"translate(0,-284.3)"},a.a.createElement("circle",{id:"path18",cx:"6.3499999",cy:"290.65002",fill:"none",stroke:C,strokeWidth:"0.50848764",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1",r:"6.0957561"}),a.a.createElement("text",{fontStyle:"normal",fontWeight:"normal",fontSize:"8.3113203px",fontFamily:"sansSerif",letterSpacing:"0px",wordSpacing:"0px",fill:C,fillOpacity:"1",x:"2.1363549",y:"289.02704",id:"text4533",transform:"scale(0.98538224,1.0148346)"},a.a.createElement("tspan",{id:"tspan4531",x:"2.1363549",y:"289.02704",fontStyle:"normal",fontVariant:"normal",fontWeight:"300",fontStretch:"normal",fontFamily:"Calibri",fill:C,fillOpacity:"1"},"34"))))};function Jn(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Jn=function(){return e},e}function qn(){var e=Object(u.a)(["\n  background: ",";\n  ",";\n  padding: "," 0;\n  margin-bottom: ",";\n"]);return qn=function(){return e},e}function $n(){var e=Object(u.a)(["\n  width: 1px;\n  height: 32px;\n  margin: 0 ",";\n  background: ",";\n"]);return $n=function(){return e},e}function Kn(){var e=Object(u.a)(["\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Kn=function(){return e},e}var Qn=h.a.header(Kn(),N),Xn=h.a.div($n(),N,"white"),Yn=h.a.div(qn(),S,T,N,"8px"),Zn=h.a.nav(Jn());var et=function(e){var n=e.activeMenu,t=e.dispatch;return a.a.createElement(Qn,null,a.a.createElement(Yn,null,a.a.createElement(an,{size:"large"},a.a.createElement(Hn,{size:32}),a.a.createElement(Xn,null),a.a.createElement("span",{style:{marginTop:2}},"Browse ",a.a.createElement("a",{href:"https://rule34.xxx"},"Rule34")))),a.a.createElement(Zn,null,a.a.createElement(q,{type:"menu",active:"search"===n,onClick:function(){return t({type:"SET_ACTIVE_MENU",menu:"search"})}},"Search"),a.a.createElement(q,{type:"menu",active:"help"===n,onClick:function(){return t({type:"SET_ACTIVE_MENU",menu:"help"})}},"Help"),a.a.createElement(q,{type:"menu",active:"settings"===n,onClick:function(){return t({type:"SET_ACTIVE_MENU",menu:"settings"})}},"Settings")))},nt=t(6),tt=t(4);function rt(e,n){switch(n.type){case"ADD_TAG":return ct(e,n.tag);case"REMOVE_TAG":return it(e,n.tag);case"TOGGLE_TAG":return ot(e,n.tag);case"ADD_POSTS":return ut(e,n.posts);case"SET_POSTS":return st(e,n.posts,n.count);case"SET_OPTION":return lt(e,n.key,n.value);case"FOCUS_POST":return ft(e,n.id);case"UNFOCUS_POST":return ft(e,void 0);case"SET_ACTIVE_MENU":return pt(e,n.menu);case"RESET":return dt(e);default:throw new Error("Unrecognized Action: ".concat(n.type))}}function at(e,n){return e.findIndex((function(e){return e.name===n.name}))}var ct=function(e,n){return Object(tt.a)(e,(function(t){var r=at(e.tags,n);t.tags=Object(nt.a)(e.tags),-1!==r?t.tags[r]=n:t.tags=[].concat(Object(nt.a)(t.tags),[n])}))},it=function(e,n){return Object(tt.a)(e,(function(t){var r=at(e.tags,n);-1!==r&&(t.tags=Object(nt.a)(e.tags),t.tags.splice(r,1))}))},ot=function(e,n){return-1!==at(e.tags,n)?it(e,n):ct(e,n)},ut=function(e,n){return Object(tt.a)(e,(function(t){t.results.posts=[].concat(Object(nt.a)(e.results.posts),Object(nt.a)(n)),t.results.page=e.results.page+1}))},st=function(e,n,t){return Object(tt.a)(e,(function(e){e.results.posts=Object(nt.a)(n),e.results.count=t,e.results.page=0}))},lt=function(e,n,t){return Object(tt.a)(e,(function(e){e.options[n]=t}))},ft=function(e,n){return Object(tt.a)(e,(function(e){e.context.focusedPost=n}))},pt=function(e,n){return Object(tt.a)(e,(function(e){e.context.activeMenu=n}))},dt=function(e){return Object(tt.a)(e,(function(e){Object.assign(e,mt)}))},mt={results:{posts:[],page:0,count:void 0},context:{focusedPost:void 0,activeMenu:"search"},tags:[],options:{infinite:!0,rated:void 0,originals:!1}};function ht(){var e=function(e){var n=localStorage.getItem("state");return[null!==n&&"undefined"!==n?JSON.parse(n):e,function(e){return localStorage.setItem("state",JSON.stringify(e))}]}(mt),n=Object(o.a)(e,2),t=n[0],a=n[1],c=Object(r.useReducer)(rt,t),i=Object(o.a)(c,2),u=i[0],s=i[1];return Object(r.useEffect)((function(){a(u)}),[a,u]),[u,s]}function gt(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  justify-content: space-around;\n  padding: ",";\n"]);return gt=function(){return e},e}var bt=h.a.footer(gt(),N);var vt=function(){return a.a.createElement(bt,null,a.a.createElement(q,{type:"invisible"},a.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react"},"Github")),a.a.createElement(q,{type:"invisible"},a.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react/issues/new?template=bug_report.md"},"Report a bug")),a.a.createElement(q,{type:"invisible"},a.a.createElement("a",{href:"https://github.com/kurozenzen/r34-react/issues/new?template=feature_request.md"},"Feature request")))};function Et(e){e.state;var n=e.dispatch;return a.a.createElement("div",null,a.a.createElement(an,null,"Settings"),a.a.createElement(B,{onClick:function(){return n({type:"RESET"})}},"Reset"))}function Ot(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: strech;\n  min-height: 100%;\n  background: ",";\n  color: ",";\n\n  font-size: 14px;\n\n  a {\n    color: ",";\n    text-decoration: none;\n  }\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Ot=function(){return e},e}function jt(){var e=Object(u.a)(["\n  flex-grow: 1;\n  align-self: strech;\n  display: flex;\n  flex-direction: column;\n  padding: 0 16px;\n\n  > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return jt=function(){return e},e}var xt=h.a.main(jt(),N),yt=h.a.div(Ot(),"#121212","white",C,N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement((function(){var e=ht(),n=Object(o.a)(e,2),t=n[0],r=n[1],c=function(e,n,t){switch(e){case"reader":return a.a.createElement(Bn,{state:n,dispatch:t});case"help":return a.a.createElement(m,{state:n,dispatch:t});case"settings":return a.a.createElement(Et,{state:n,dispatch:t});case"search":default:return a.a.createElement(Un,{tags:n.tags,options:n.options,results:n.results,dispatch:t})}}(t.context.activeMenu,t,r);return a.a.createElement(yt,null,a.a.createElement(et,{activeMenu:t.context.activeMenu,dispatch:r}),a.a.createElement(xt,null,c),a.a.createElement(vt,null))}),null),document.getElementById("app-root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.ed423a89.chunk.js.map